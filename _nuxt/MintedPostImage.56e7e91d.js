import{a as r,I as c,G as d,o as g,c as m,w as u,f as h,aa as l}from"./entry.c60cb25b.js";import{u as p}from"./ethers.c6623f57.js";const f={name:"MintedPostImage",props:["id"],data(){return{streamId:null,image:null}},mounted(){this.fetchMetadata()},methods:{async fetchMetadata(){let t=localStorage.getItem("minted-post-"+this.id);if(!t){let i=this.$getFallbackProvider(this.$config.supportedChainId);this.isActivated&&this.chainId===this.$config.supportedChainId&&(i=this.signer);const n=new c(["function uri(uint256 _tokenId) external view returns (string memory)"]);t=await new d(this.$config.iggyPostAddress,n,i).uri(this.id),localStorage.setItem("minted-post-"+this.id,t)}const s=atob(t.substring(29)),e=JSON.parse(s);this.streamId=e.external_url.split("?id=")[1],this.image=e.image}},setup(){const{isActivated:t,chainId:s,signer:e}=p();return{isActivated:t,chainId:s,signer:e}}},_=["src"];function I(t,s,e,i,n,a){const o=l;return g(),m(o,{to:"/minted-post/?id="+e.id},{default:u(()=>[h("img",{class:"img-fluid rounded",src:n.image},null,8,_)]),_:1},8,["to"])}const y=r(f,[["render",I]]);export{y as M};
