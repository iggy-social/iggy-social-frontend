import{_ as C,i as I,l as w,W as y,m as k,r as b,c as d,o as l,a as s,g as c,p as v,b as h,v as _,f as A,d as p,x as $,y as Y,t as f,F as B,$ as j,ad as nt,a1 as L,G as S,j as m,aa as E,ae as T,ac as x,af as N,O as at,S as rt,I as lt,w as D,T as dt,M as ct,H as ut,q as pt,U as z,e as mt,k as ht,L as F,a2 as R,N as O,a0 as ft,ag as W,n as gt,Q as bt,V}from"#entry";import{a as yt}from"./CNgjiLB_.js";import{I as M}from"./BRYG_3z3.js";import{F as G}from"./BkS6ZyWH.js";import"./CwCF_ZJB.js";const wt={name:"AddImageToCollectionModal",props:["cAddress","mdAddress"],components:{FileUploadInput:G,Image:M},data(){return{componentId:null,imageUrl:null,waiting:!1}},mounted(){this.componentId=this.$.uid},methods:{async addNewImage(){this.waiting=!0;let i;try{const t={address:this.mdAddress,abi:[{name:"addImageToCollection",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftAddress_",type:"address"},{name:"imageUrl_",type:"string"}],outputs:[]}],functionName:"addImageToCollection",args:[this.cAddress,this.imageUrl]},o=await w(t);i=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});const n=await k(o);n.status==="success"?(this.toast.dismiss(i),this.toast("You have successfully added new image URL to the NFT collection.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),this.imageUrl=null,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(i),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),console.log(n))}catch(t){console.error(t);try{let o=t.message.split("Details:")[1];o=o.split("Version: viem")[0],o=o.replace(/"/g,""),o=o.replace("execution reverted:","Error:"),console.log(o),this.toast(o,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}finally{this.toast.dismiss(i),this.waiting=!1}},insertImageLink(i){this.imageUrl=i}},setup(){return{toast:I()}}},kt=["aria-labelledby"],vt={class:"modal-dialog"},_t={class:"modal-content"},Ct={class:"modal-header"},It=["id"],At=["id"],Ut={class:"modal-body"},xt={class:"mt-2"},Tt={key:0},Nt={key:1},Mt={key:2,class:"mt-3"},St={class:"modal-footer"},Dt=["disabled"],Ft={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Bt(i,t,o,n,e,a){const r=b("FileUploadInput"),u=b("Image");return l(),d("div",{class:"modal fade",id:"addImageToCollectionModal",tabindex:"-1","aria-labelledby":"modalLabel-"+e.componentId,"aria-hidden":"true"},[s("div",vt,[s("div",_t,[s("div",Ct,[s("h1",{class:"modal-title fs-5",id:"modalLabel-"+e.componentId},"Add Image To Collection",8,It),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,At)]),s("div",Ut,[s("div",xt,[!e.imageUrl&&i.$config.public.fileUploadEnabled?(l(),d("div",Tt,[t[2]||(t[2]=s("p",null,"Upload additional image (and then click Submit below):",-1)),h(r,{btnCls:"btn btn-primary",storageType:i.$config.public.fileUploadStorageType,maxFileSize:i.$config.public.fileUploadSizeLimit,onProcessUploadedFileUrl:a.insertImageLink},null,8,["storageType","maxFileSize","onProcessUploadedFileUrl"]),t[3]||(t[3]=s("p",{class:"mt-3"},"Or paste image link here:",-1))])):c("",!0),i.$config.public.fileUploadEnabled?c("",!0):(l(),d("p",Nt,"Paste image link here:")),v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=g=>e.imageUrl=g),type:"text",class:"form-control",id:"addImageToCollectionInput"},null,512),[[_,e.imageUrl]]),e.imageUrl?(l(),d("div",Mt,[(l(),A(u,{url:e.imageUrl,key:e.imageUrl,cls:"img-thumbnail img-fluid",style:{"max-width":"100px"}},null,8,["url"])),t[4]||(t[4]=s("br",null,null,-1)),t[5]||(t[5]=s("small",null,"If image didn't appear above, then something is wrong with the link you added (wait until the loading indicator completes). If you have an IPFS link, it also helps to cut/paste the same link a couple of times.",-1))])):c("",!0)])]),s("div",St,[s("button",{onClick:t[1]||(t[1]=(...g)=>a.addNewImage&&a.addNewImage(...g)),type:"button",class:"btn btn-primary",disabled:!e.imageUrl||e.waiting},[e.waiting?(l(),d("span",Ft)):c("",!0),t[6]||(t[6]=p(" Submit to blockchain ",-1))],8,Dt)])])])],8,kt)}const Pt=C(wt,[["render",Bt]]),Lt={name:"ChangeCollectionPreviewModal",props:["cAddress","mdAddress"],emits:["saveCollection"],components:{FileUploadInput:G,Image:M},data(){return{componentId:null,imageUrl:null,waiting:!1}},mounted(){this.componentId=this.$.uid},methods:{async updateImage(){if(!this.isConnected){this.toast("Please connect your wallet first.",{type:"error"});return}this.waiting=!0;let i;try{const t={address:this.mdAddress,abi:[{name:"setCollectionPreview",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftAddress_",type:"address"},{name:"collectionPreview_",type:"string"}],outputs:[]}],functionName:"setCollectionPreview",args:[this.cAddress,this.imageUrl]},o=await w(t);i=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});const n=await k(o);n.status==="success"?(this.toast.dismiss(i),this.toast("You have updated the NFT collection preview image.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),this.$emit("saveCollection",{image:this.imageUrl}),this.imageUrl=null,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(i),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),console.log(n))}catch(t){console.error(t);try{let o=t.message.split("Details:")[1];o=o.split("Version: viem")[0],o=o.replace(/"/g,""),o=o.replace("execution reverted:","Error:"),console.log(o),this.toast(o,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}finally{this.toast.dismiss(i),this.waiting=!1}},insertImageLink(i){this.imageUrl=i}},setup(){const i=$(),{isConnected:t}=Y({config:i}),o=I();return{isConnected:t,toast:o}}},Et=["aria-labelledby"],Rt={class:"modal-dialog"},Ot={class:"modal-content"},Wt={class:"modal-header"},Vt=["id"],$t=["id"],Yt={class:"modal-body"},jt={class:"mt-4"},zt={key:0},Gt={key:1},Ht={key:2,class:"mt-3"},qt={class:"modal-footer"},Jt=["disabled"],Kt={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Qt(i,t,o,n,e,a){const r=b("FileUploadInput"),u=b("Image");return l(),d("div",{class:"modal fade",id:"changeCollectionPreviewModal",tabindex:"-1","aria-labelledby":"modalLabel-"+e.componentId,"aria-hidden":"true"},[s("div",Rt,[s("div",Ot,[s("div",Wt,[s("h1",{class:"modal-title fs-5",id:"modalLabel-"+e.componentId},"Change Collection Preview Image",8,Vt),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,$t)]),s("div",Yt,[t[6]||(t[6]=s("p",null,"Change your collection preview image.",-1)),s("div",jt,[!e.imageUrl&&i.$config.public.fileUploadEnabled?(l(),d("div",zt,[t[2]||(t[2]=s("p",null,"Upload new image (and then click Submit below):",-1)),h(r,{btnCls:"btn btn-primary",storageType:i.$config.public.fileUploadStorageType,maxFileSize:i.$config.public.fileUploadSizeLimit,onProcessUploadedFileUrl:a.insertImageLink},null,8,["storageType","maxFileSize","onProcessUploadedFileUrl"]),t[3]||(t[3]=s("p",{class:"mt-3"},"Or paste image link here:",-1))])):c("",!0),i.$config.public.fileUploadEnabled?c("",!0):(l(),d("p",Gt,"Paste image link here:")),v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=g=>e.imageUrl=g),type:"text",class:"form-control"},null,512),[[_,e.imageUrl]]),e.imageUrl?(l(),d("div",Ht,[h(u,{url:e.imageUrl,cls:"img-thumbnail img-fluid",style:{"max-width":"100px"}},null,8,["url"]),t[4]||(t[4]=s("br",null,null,-1)),t[5]||(t[5]=s("small",null,"If image didn't appear above, then something is wrong with the link you added (wait until the loading indicator completes). If you have an IPFS link, it also helps to cut/paste the same link a couple of times.",-1))])):c("",!0)])]),s("div",qt,[s("button",{onClick:t[1]||(t[1]=(...g)=>a.updateImage&&a.updateImage(...g)),type:"button",class:"btn btn-primary",disabled:!e.imageUrl||e.waiting},[e.waiting?(l(),d("span",Kt)):c("",!0),t[7]||(t[7]=p(" Submit to blockchain ",-1))],8,Jt)])])])],8,Et)}const Xt=C(Lt,[["render",Qt]]),Zt={name:"ChangeDescriptionModal",props:["cAddress","cDescription","mdAddress"],emits:["saveCollection"],data(){return{componentId:null,editDescription:null,waiting:!1}},mounted(){this.componentId=this.$.uid,this.editDescription=this.cDescription},methods:{async update(){this.waiting=!0;let i;try{const t=await w({address:this.mdAddress,abi:[{name:"setDescription",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftAddress_",type:"address"},{name:"description_",type:"string"}],outputs:[]}],functionName:"setDescription",args:[this.cAddress,this.editDescription.replace(/"/g,"'")]});i=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+t,"_blank").focus()});const o=await k(t);o.status==="success"?(this.toast.dismiss(i),this.toast("You have updated the NFT description.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+t,"_blank").focus()}),this.$emit("saveCollection",{description:this.editDescription.replace(/"/g,"'")}),this.editDescription=null,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(i),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+t,"_blank").focus()}),console.log(o))}catch(t){console.error(t);try{let o=t.message.split("Details:")[1];o=o.split("Version: viem")[0],o=o.replace(/"/g,""),o=o.replace("execution reverted:","Error:"),console.log(o),this.toast(o,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}finally{this.toast.dismiss(i),this.waiting=!1}}},setup(){return{toast:I()}},watch:{cDescription(){this.editDescription=this.cDescription}}},te=["aria-labelledby"],ee={class:"modal-dialog"},se={class:"modal-content"},ie={class:"modal-header"},oe=["id"],ne=["id"],ae={class:"modal-body"},re={class:"mt-4"},le=["for"],de=["id"],ce={class:"modal-footer"},ue=["disabled"],pe={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function me(i,t,o,n,e,a){return l(),d("div",{class:"modal fade",id:"changeDescriptionModal",tabindex:"-1","aria-labelledby":"modalLabel-"+e.componentId,"aria-hidden":"true"},[s("div",ee,[s("div",se,[s("div",ie,[s("h1",{class:"modal-title fs-5",id:"modalLabel-"+e.componentId},"Change description",8,oe),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,ne)]),s("div",ae,[t[3]||(t[3]=s("p",null,"Change your collection description.",-1)),s("div",re,[s("label",{for:"input-"+e.componentId,class:"form-label"},[...t[2]||(t[2]=[s("strong",null," Enter new description: ",-1)])],8,le),v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.editDescription=r),type:"text",class:"form-control",id:"input-"+e.componentId},null,8,de),[[_,e.editDescription]])])]),s("div",ce,[t[5]||(t[5]=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),s("button",{onClick:t[1]||(t[1]=(...r)=>a.update&&a.update(...r)),type:"button",class:"btn btn-primary",disabled:!e.editDescription||e.waiting},[e.waiting?(l(),d("span",pe)):c("",!0),t[4]||(t[4]=p(" Submit ",-1))],8,ue)])])])],8,te)}const he=C(Zt,[["render",me]]),fe={name:"ChangeMediaModal",props:["cAddress","mdAddress"],data(){return{componentId:null,audioUrl:null,videoUrl:null,youtubeUrl:null,waitingAudio:!1,waitingVideo:!1,waitingYoutube:!1}},mounted(){this.componentId=this.$.uid},methods:{async removeAudio(){this.audioUrl="",await this.setAudio()},async removeVideo(){this.videoUrl="",await this.setVideo()},async removeYoutube(){this.youtubeUrl="",await this.setYoutube()},sanitizeUrl(i){return i?(i&&(i=i.trim()),!i.startsWith("http://")&&!i.startsWith("https://")&&!i.startsWith("ipfs://")&&!i.startsWith("ar://")?!i.includes("/")&&!i.includes(".")?"ipfs://"+i:i.split(".").length>2?"https://"+i:"ipfs://"+i:i):""},async setAudio(){this.waitingAudio=!0,this.audioUrl=this.sanitizeUrl(this.audioUrl);try{const i=await w({address:this.mdAddress,abi:[{inputs:[{internalType:"address",name:"nftAddress_",type:"address"},{internalType:"string",name:"audioUrl_",type:"string"}],name:"setAudioUrl",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"setAudioUrl",args:[this.cAddress,this.audioUrl]}),t=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),o=await k(i);o.status==="success"?(this.toast.dismiss(t),this.toast("You have successfully set a new audio URL/CID.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),this.audioUrl=null,this.waitingAudio=!1):(this.toast.dismiss(t),this.waitingAudio=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),console.log(o))}catch(i){console.error(i);try{let t=i.message.split("Details:")[1];t=t.split("Version: viem")[0],t=t.replace(/"/g,""),t=t.replace("execution reverted:","Error:"),console.log(t),this.toast(t,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingAudio=!1}},async setVideo(){this.waitingVideo=!0,this.videoUrl=this.sanitizeUrl(this.videoUrl);try{const i=await w({address:this.mdAddress,abi:[{inputs:[{internalType:"address",name:"nftAddress_",type:"address"},{internalType:"string",name:"animationUrl_",type:"string"}],name:"setAnimationUrl",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"setAnimationUrl",args:[this.cAddress,this.videoUrl]}),t=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),o=await k(i);o.status==="success"?(this.toast.dismiss(t),this.toast("You have successfully set a new video URL/CID.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),this.videoUrl=null,this.waitingVideo=!1):(this.toast.dismiss(t),this.waitingVideo=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),console.log(o))}catch(i){console.error(i);try{let t=i.message.split("Details:")[1];t=t.split("Version: viem")[0],t=t.replace(/"/g,""),t=t.replace("execution reverted:","Error:"),console.log(t),this.toast(t,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingVideo=!1}},async setYoutube(){this.waitingYoutube=!0,this.youtubeUrl||(this.youtubeUrl="");try{const i=await w({address:this.mdAddress,abi:[{inputs:[{internalType:"address",name:"nftAddress_",type:"address"},{internalType:"string",name:"youtubeUrl_",type:"string"}],name:"setYoutubeUrl",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"setYoutubeUrl",args:[this.cAddress,this.youtubeUrl]}),t=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),o=await k(i);o.status==="success"?(this.toast.dismiss(t),this.toast("You have successfully set a new YouTube URL.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),this.youtubeUrl=null,this.waitingYoutube=!1):(this.toast.dismiss(t),this.waitingYoutube=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+i,"_blank").focus()}),console.log(o))}catch(i){console.error(i);try{let t=i.message.split("Details:")[1];t=t.split("Version: viem")[0],t=t.replace(/"/g,""),t=t.replace("execution reverted:","Error:"),console.log(t),this.toast(t,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingYoutube=!1}}},setup(){return{toast:I()}}},ge=["aria-labelledby"],be={class:"modal-dialog"},ye={class:"modal-content"},we={class:"modal-header"},ke=["id"],ve=["id"],_e={class:"modal-body"},Ce={class:"mt-4"},Ie={class:"mb-2"},Ae=["for"],Ue=["id"],xe={class:"d-flex justify-content-between"},Te=["disabled"],Ne={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Me=["disabled"],Se={class:"mt-4"},De={class:"mb-2"},Fe=["for"],Be=["id"],Pe={class:"d-flex justify-content-between"},Le=["disabled"],Ee={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Re=["disabled"],Oe={class:"mt-4"},We={class:"mb-2"},Ve=["for"],$e=["id"],Ye={class:"d-flex justify-content-between"},je=["disabled"],ze={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ge=["disabled"];function He(i,t,o,n,e,a){return l(),d("div",{class:"modal fade",id:"changeMediaModal",tabindex:"-1","aria-labelledby":"modalLabel-"+e.componentId,"aria-hidden":"true"},[s("div",be,[s("div",ye,[s("div",we,[s("h1",{class:"modal-title fs-5",id:"modalLabel-"+e.componentId},"Change media metadata",8,ke),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,ve)]),s("div",_e,[t[15]||(t[15]=s("p",null,"Change media metadata for your NFT.",-1)),t[16]||(t[16]=s("p",null,[p("You will need to upload these files somewhere first, we recommend "),s("a",{target:"_blank",href:"https://ardrive.io/"},"ArDrive"),p(". ")],-1)),s("div",Ce,[s("div",Ie,[s("label",{for:"input-audio-"+e.componentId,class:"form-label"},[...t[9]||(t[9]=[s("strong",null," Set a new audio URL or CID for your NFT: ",-1)])],8,Ae),v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.audioUrl=r),placeholder:"Enter audio URL/CID here",type:"text",class:"form-control",id:"input-audio-"+e.componentId},null,8,Ue),[[_,e.audioUrl]])]),s("div",xe,[s("button",{onClick:t[1]||(t[1]=(...r)=>a.setAudio&&a.setAudio(...r)),disabled:e.waitingAudio,class:"btn btn-primary"},[e.waitingAudio?(l(),d("span",Ne)):c("",!0),t[10]||(t[10]=p(" Submit audio URL or CID ",-1))],8,Te),s("button",{onClick:t[2]||(t[2]=(...r)=>a.removeAudio&&a.removeAudio(...r)),disabled:e.waitingAudio,class:"btn btn-danger btn-sm"}," Remove ",8,Me)])]),s("div",Se,[s("div",De,[s("label",{for:"input-video-"+e.componentId,class:"form-label"},[...t[11]||(t[11]=[s("strong",null," Set a new video URL or CID for your NFT: ",-1)])],8,Fe),v(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.videoUrl=r),placeholder:"Enter video URL/CID here",type:"text",class:"form-control",id:"input-video-"+e.componentId},null,8,Be),[[_,e.videoUrl]])]),s("div",Pe,[s("button",{onClick:t[4]||(t[4]=(...r)=>a.setVideo&&a.setVideo(...r)),disabled:e.waitingVideo,class:"btn btn-primary"},[e.waitingVideo?(l(),d("span",Ee)):c("",!0),t[12]||(t[12]=p(" Submit video URL or CID ",-1))],8,Le),s("button",{onClick:t[5]||(t[5]=(...r)=>a.removeVideo&&a.removeVideo(...r)),disabled:e.waitingVideo,class:"btn btn-danger btn-sm"}," Remove ",8,Re)])]),s("div",Oe,[s("div",We,[s("label",{for:"input-youtube-"+e.componentId,class:"form-label"},[...t[13]||(t[13]=[s("strong",null," Set a new YouTube video URL for your NFT: ",-1)])],8,Ve),v(s("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>e.youtubeUrl=r),placeholder:"Enter YouTube URL here",type:"text",class:"form-control",id:"input-youtube-"+e.componentId},null,8,$e),[[_,e.youtubeUrl]])]),s("div",Ye,[s("button",{onClick:t[7]||(t[7]=(...r)=>a.setYoutube&&a.setYoutube(...r)),disabled:e.waitingYoutube,class:"btn btn-primary"},[e.waitingYoutube?(l(),d("span",ze)):c("",!0),t[14]||(t[14]=p(" Submit YouTube URL ",-1))],8,je),s("button",{onClick:t[8]||(t[8]=(...r)=>a.removeYoutube&&a.removeYoutube(...r)),disabled:e.waitingYoutube,class:"btn btn-danger btn-sm"}," Remove ",8,Ge)])])]),t[17]||(t[17]=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,ge)}const qe=C(fe,[["render",He]]),Je={name:"ChangeNftTypeModal",props:["cAddress","cType","mdAddress"],emits:["saveCollection"],data(){return{componentId:null,editImageMetadataUrl:null,editImageOptions:[{description:"0) Onchain image(s)"},{description:"1) Static metadata URL"},{description:"2) Generative metadata (.json)"},{description:"3) Generative metadata"}],editImagePreviewUrl:"",typeChoice:0,waitingMetadata:!1}},mounted(){this.componentId=this.$.uid},methods:{async updateMetadata(){this.waitingMetadata=!0,this.typeChoice===0&&(this.editImagePreviewUrl=this.editImageMetadataUrl),this.editImagePreviewUrl===null&&(this.editImagePreviewUrl="");let i;try{const t={address:this.mdAddress,abi:[{name:"setMdTypeAndUrlOrImage",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftAddress_",type:"address"},{name:"mdType_",type:"uint256"},{name:"mdUrlOrImage_",type:"string"},{name:"collectionImage_",type:"string"}],outputs:[]}],functionName:"setMdTypeAndUrlOrImage",args:[this.cAddress,BigInt(this.typeChoice),this.editImageMetadataUrl,this.editImagePreviewUrl]},o=await w(t);i=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});const n=await k(o);n.status==="success"?(this.toast.dismiss(i),this.toast("You have updated the NFT image and/or metadata URL.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),this.$emit("saveCollection",{type:this.typeChoice,image:this.editImagePreviewUrl}),this.editImageMetadataUrl=null,this.editImagePreviewUrl="",document.getElementById("closeModal-"+this.componentId).click(),this.waitingMetadata=!1):(this.toast.dismiss(i),this.waitingMetadata=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),console.log(n))}catch(t){console.error(t);try{let o=t.message.split("Details:")[1];o=o.split("Version: viem")[0],o=o.replace(/"/g,""),o=o.replace("execution reverted:","Error:"),console.log(o),this.toast(o,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingMetadata=!1}finally{this.toast.dismiss(i),this.waitingMetadata=!1}}},setup(){return{toast:I()}}},Ke={class:"modal fade",id:"changeNftTypeModal",tabindex:"-1","aria-labelledby":"changeNftTypeModalLabel","aria-hidden":"true"},Qe={class:"modal-dialog"},Xe={class:"modal-content"},Ze={class:"modal-header"},ts=["id"],es={class:"modal-body"},ss={class:"dropdown"},is={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},os={class:"dropdown-menu text-break"},ns=["onClick"],as={class:"mt-3"},rs={key:0},ls={key:1},ds={key:2},cs={key:3},us={class:"mt-4"},ps={for:"imageMetadataUrl",class:"form-label"},ms={key:0},hs={key:1},fs={key:2},gs={key:3},bs={key:0,class:"mt-4"},ys={class:"modal-footer"},ws=["disabled"],ks={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function vs(i,t,o,n,e,a){return l(),d("div",Ke,[s("div",Qe,[s("div",Xe,[s("div",Ze,[t[3]||(t[3]=s("h1",{class:"modal-title fs-5",id:"changeNftTypeModalLabel"},"Change NFT Type",-1)),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,ts)]),s("div",es,[s("p",null,"Current type of this NFT collection is: "+f(e.editImageOptions[o.cType].description)+".",1),t[10]||(t[10]=s("p",null,[s("strong",null,"Pick one of these options:")],-1)),s("div",ss,[s("button",is,f(e.editImageOptions[e.typeChoice].description),1),s("div",os,[(l(!0),d(B,null,j(e.editImageOptions,(r,u)=>(l(),d("span",{key:u,onClick:g=>e.typeChoice=u,class:"dropdown-item cursor-pointer"},f(r.description),9,ns))),128))])]),s("div",as,[e.typeChoice==0?(l(),d("p",rs,' The "Onchain image(s)" option means that metadata is stored onchain (within the smart contract itself). Use this option if you want to add an image URL in the field below (not a metadata file). This is the default option for NFTs created through this launchpad. ')):c("",!0),e.typeChoice==1?(l(),d("p",ls,[...t[4]||(t[4]=[p(' The "Static metadata URL" option means that all the NFTs in the collection have the same (static) image and meta data. The metadata is stored offchain, usually on Arweave, IPFS or on a centralized server. Use this option if you have a URL of a single metadata ',-1),s("strong",null,"file",-1),p(" (all NFTs have the same metadata and image). ",-1)])])):c("",!0),e.typeChoice==2?(l(),d("p",ds,[...t[5]||(t[5]=[p(' The "Generative metadata (.json)" option means that all the NFTs in the collection have a different image and different meta data. The metadata is stored offchain, usually on Arweave, IPFS or on a centralized server. Use this option if you have a metadata ',-1),s("strong",null,"folder",-1),p(" URL with multiple metadata files in it, where these files HAVE a .json extension. ",-1)])])):c("",!0),e.typeChoice==3?(l(),d("p",cs,[...t[6]||(t[6]=[p(' The "Generative metadata" option means that all the NFTs in the collection have a different image and different meta data. The metadata is stored offchain, usually on Arweave, IPFS or on a centralized server. Use this option if you have a metadata ',-1),s("strong",null,"folder",-1),p(" URL with multiple metadata files in it, where these files DO NOT HAVE a .json extension. ",-1)])])):c("",!0)]),s("div",us,[s("label",ps,[s("strong",null,[t[7]||(t[7]=p(" Enter ",-1)),e.typeChoice==0?(l(),d("span",ms,"image URL:")):c("",!0),e.typeChoice==1?(l(),d("span",hs,"metadata file URL:")):c("",!0),e.typeChoice==2?(l(),d("span",fs,"metadata folder URL:")):c("",!0),e.typeChoice==3?(l(),d("span",gs,"metadata folder URL:")):c("",!0)])]),v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.editImageMetadataUrl=r),type:"text",class:"form-control",id:"imageMetadataUrl"},null,512),[[_,e.editImageMetadataUrl]])]),e.typeChoice>0?(l(),d("div",bs,[t[8]||(t[8]=s("label",{for:"collectionPreviewUrl",class:"form-label"},[s("strong",null," Change collection preview image (optional): ")],-1)),v(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.editImagePreviewUrl=r),type:"text",class:"form-control",id:"collectionPreviewUrl","aria-describedby":"previewImageHelp"},null,512),[[_,e.editImagePreviewUrl]]),t[9]||(t[9]=s("div",{id:"previewImageHelp",class:"form-text"}," This is a preview image for the whole collection, not for individual NFTs. ",-1))])):c("",!0)]),s("div",ys,[t[12]||(t[12]=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),s("button",{onClick:t[2]||(t[2]=(...r)=>a.updateMetadata&&a.updateMetadata(...r)),type:"button",class:"btn btn-primary",disabled:!e.editImageMetadataUrl||e.waitingMetadata},[e.waitingMetadata?(l(),d("span",ks)):c("",!0),t[11]||(t[11]=p(" Submit ",-1))],8,ws)])])])])}const _s=C(Je,[["render",vs]]),Cs={name:"CollectionMediaSection",props:["audioUrl","videoUrl","youtubeUrl"],data(){return{aFormat:null,aUrl:null,currentTab:"audio",vFormat:null,vUrl:null,yUrl:null}},mounted(){this.fetchMetadata()},methods:{youtubeParsing:nt,async fetchMetadata(){try{if(this.youtubeUrl&&(this.yUrl=this.youtubeUrl),this.audioUrl){const i=await L(this.audioUrl);i?.success&&(this.aUrl=i.url,this.aFormat=i.format)}if(this.videoUrl){const i=await L(this.videoUrl);i?.success&&(this.vUrl=i.url,this.vFormat=i.format)}}catch(i){console.log(i)}this.yUrl?this.currentTab="youtube":this.aUrl?this.currentTab="audio":this.vUrl&&(this.currentTab="video")}}},Is={class:"card border mt-3"},As={class:"card-body"},Us={class:"nav nav-tabs nav-fill"},xs={key:0,class:"nav-item"},Ts={key:1,class:"nav-item"},Ns={key:2,class:"nav-item"},Ms={class:"tab-content mt-3 d-flex justify-content-center"},Ss={key:0,class:"col-12 col-lg-8"},Ds={class:"text-center mt-3"},Fs={class:"ratio ratio-16x9",controls:""},Bs=["src","type"],Ps={key:1,class:"col-12 col-lg-8"},Ls={class:"ratio ratio-16x9 rounded",controls:""},Es=["src","type"],Rs={key:2,class:"col-12 col-lg-8"},Os=["innerHTML"];function Ws(i,t,o,n,e,a){return l(),d("div",Is,[s("div",As,[s("ul",Us,[e.aUrl?(l(),d("li",xs,[s("button",{class:S(["nav-link",e.currentTab==="audio"?"active":""]),onClick:t[0]||(t[0]=r=>e.currentTab="audio")},"Audio",2)])):c("",!0),e.vUrl?(l(),d("li",Ts,[s("button",{class:S(["nav-link",e.currentTab==="video"?"active":""]),onClick:t[1]||(t[1]=r=>e.currentTab="video")},"Video",2)])):c("",!0),e.yUrl?(l(),d("li",Ns,[s("button",{class:S(["nav-link",e.currentTab==="youtube"?"active":""]),onClick:t[2]||(t[2]=r=>e.currentTab="youtube")},"YouTube",2)])):c("",!0)]),s("div",Ms,[e.currentTab==="audio"&&e.aUrl?(l(),d("div",Ss,[s("p",Ds,[s("audio",Fs,[s("source",{src:e.aUrl,type:e.aFormat},null,8,Bs),t[3]||(t[3]=p(" Your browser does not support mp3 audio player. ",-1))])])])):c("",!0),e.currentTab==="video"&&e.vUrl?(l(),d("div",Ps,[s("video",Ls,[s("source",{src:e.vUrl,type:e.vFormat},null,8,Es),t[4]||(t[4]=p(" Your browser does not support mp4 video player. ",-1))])])):c("",!0),e.currentTab==="youtube"&&e.yUrl?(l(),d("div",Rs,[s("span",{innerHTML:a.youtubeParsing(e.yUrl)},null,8,Os)])):c("",!0)])])])}const Vs=C(Cs,[["render",Ws]]),$s={name:"RemoveImageFromCollectionModal",props:["cAddress","mdAddress"],data(){return{componentId:null,images:[],imageUrl:null,waitingLoad:!1,waitingRemove:!1}},components:{Image:M},mounted(){this.componentId=this.$.uid},methods:{async loadImages(){this.waitingLoad=!0;const i={address:this.mdAddress,abi:[{inputs:[{name:"nftAddress_",type:"address"}],name:"getCollectionImages",outputs:[{name:"",type:"string[]"}],stateMutability:"view",type:"function"}],functionName:"getCollectionImages",args:[this.cAddress]};try{const t=await m(i);t&&(this.images=t),this.waitingLoad=!1}catch(t){console.error(t),this.waitingLoad=!1}},async removeImage(i){this.waitingRemove=!0;const t={address:this.mdAddress,abi:[{inputs:[{name:"nftAddress_",type:"address"},{name:"index_",type:"uint256"}],name:"removeImageFromCollectionByIndex",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"removeImageFromCollectionByIndex",args:[this.cAddress,BigInt(i)]};let o;try{const n=await w(t);o=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+n,"_blank").focus()});const e=await k(n);if(e.status==="success"){this.toast.dismiss(o),this.toast("You have successfully removed an image from the NFT collection.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+n,"_blank").focus()}),this.imageUrl=null;const a=[...this.images];a.splice(i,1),this.images=a,this.waitingRemove=!1}else this.toast.dismiss(o),this.waitingRemove=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+n,"_blank").focus()}),console.log(e)}catch(n){console.error(n);try{let e=n.message.split("Details:")[1];e=e.split("Version: viem")[0],e=e.replace(/"/g,""),e=e.replace("execution reverted:","Error:"),console.log(e),this.toast(e,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingRemove=!1}finally{this.toast.dismiss(o),this.waitingRemove=!1}}},setup(){return{toast:I()}}},Ys=["aria-labelledby"],js={class:"modal-dialog"},zs={class:"modal-content"},Gs={class:"modal-header"},Hs=["id"],qs=["id"],Js={class:"modal-body"},Ks={class:"row"},Qs=["for"],Xs=["disabled"],Zs={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ti={key:0,class:"row mt-3"},ei={class:"card"},si={class:"card-body"},ii={class:"row"},oi=["onClick","disabled"];function ni(i,t,o,n,e,a){const r=b("Image");return l(),d("div",{class:"modal fade",id:"removeImageFromCollectionModal",tabindex:"-1","aria-labelledby":"modalLabel-"+e.componentId,"aria-hidden":"true"},[s("div",js,[s("div",zs,[s("div",Gs,[s("h1",{class:"modal-title fs-5",id:"modalLabel-"+e.componentId},"Remove Image From Collection",8,Hs),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,qs)]),s("div",Js,[s("div",Ks,[s("label",{for:"input-"+e.componentId,class:"form-label"},[...t[1]||(t[1]=[s("strong",null," Load images from collection: ",-1)])],8,Qs)]),s("div",null,[s("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...u)=>a.loadImages&&a.loadImages(...u)),disabled:e.waitingLoad},[e.waitingLoad?(l(),d("span",Zs)):c("",!0),t[2]||(t[2]=p(" Load images ",-1))],8,Xs)]),e.images?(l(),d("div",ti,[(l(!0),d(B,null,j(e.images,(u,g)=>(l(),d("div",{key:u,class:"col-md-4 mb-3"},[s("div",ei,[h(r,{url:u,alt:"Image",cls:"card-img-top"},null,8,["url"]),s("div",si,[s("div",ii,[s("button",{class:"btn btn-danger",onClick:P=>a.removeImage(g),disabled:e.waitingRemove||e.images.length==1}," Delete ",8,oi)])])])]))),128))])):c("",!0)]),t[3]||(t[3]=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])],8,Ys)}const ai=C($s,[["render",ni]]),ri={name:"SendNftModal",props:["address","cAddress"],data(){return{componentId:null,editDescription:null,hasBlankCharacter:!1,nftDataLoaded:!1,nftImage:null,recipientAddress:null,recipientInput:null,tokenId:null,userSecondTokenId:null,waiting:!1,waitingFetchNft:!1}},mounted(){this.componentId=this.$.uid},methods:{hasTextBlankCharacters:E,findBlankCharacter(){this.hasBlankCharacter=!1,this.hasBlankCharacter=E(this.recipientInput)},async fetchUsersNft(){if(console.log("Fetching user's NFT ID..."),this.waitingFetchNft=!0,console.log("User's address: ",this.address),console.log("NFT contract address: ",this.cAddress),this.cAddress&&this.address){const i=T(["function tokenOfOwnerByIndex(address owner, uint256 index) public view returns (uint256)"]);try{const t=await m({address:this.cAddress,abi:i,functionName:"tokenOfOwnerByIndex",args:[this.address,0n]});t&&(this.tokenId=t.toString())}catch{console.log("Could not fetch NFT ID for user.")}}this.waitingFetchNft=!1},async loadNftData(){this.waiting=!0;const i=T(["function ownerOf(uint256 tokenId) external view returns (address)","function tokenURI(uint256 tokenId) external view returns (string)"]);try{const t=await m({address:this.cAddress,abi:i,functionName:"ownerOf",args:[BigInt(this.tokenId)]});if(console.log("NFT holder: ",t),String(t).toLowerCase()!==String(this.address).toLowerCase()){this.toast(`You are not the owner of NFT with ID ${this.tokenId}. Try some other ID number.`,{type:"error"}),this.waiting=!1;return}let o=await m({address:this.cAddress,abi:i,functionName:"tokenURI",args:[BigInt(this.tokenId)]});o.startsWith("ipfs://")?o=o.replace("ipfs://",this.$config.public.ipfsGateway):o.startsWith("ar://")&&(o=o.replace("ar://",this.$config.public.arweaveGateway));let n;if(o.startsWith("https://"))try{n=await(await N.get(o)).data}catch{console.log("error fetching metadata for token id: ",String(this.tokenId))}else{const e=atob(o.substring(29));n=JSON.parse(e)}n.image.startsWith("ipfs://")?n.image=n.image.replace("ipfs://",this.$config.public.ipfsGateway):n.image.startsWith("ar://")&&(n.image=n.image.replace("ar://",this.$config.public.arweaveGateway)),this.nftImage=n.image,this.nftDataLoaded=!0,this.waiting=!1}catch(t){console.error(t),this.waiting=!1}},async processRecipient(i){if(i)if(x(i))this.recipientAddress=i;else{const t=String(i).trim().toLowerCase().replace(this.$config.public.tldName,""),o=T(["function getDomainHolder(string) view returns (address)"]);try{this.recipientAddress=await m({address:this.$config.public.punkTldAddress,abi:o,functionName:"getDomainHolder",args:[t]})}catch(n){console.error("Error fetching domain holder:",n),this.toast("Could not resolve domain name to address.",{type:"error"})}}},async transferNft(){if(this.waiting=!0,await this.processRecipient(this.recipientInput),!this.recipientAddress){this.toast("Could not resolve recipient address.",{type:"error"}),this.waiting=!1;return}const i=T(["function transferFrom(address from, address to, uint256 tokenId) external"]);let t;try{const o=await w({address:this.cAddress,abi:i,functionName:"transferFrom",args:[this.address,this.recipientAddress,BigInt(this.tokenId)]});t=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});const n=await k(o);n.status==="success"?(this.toast.dismiss(t),this.toast("You have successfully transferred the NFT.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),this.recipientAddress=null,this.recipientInput=null,this.tokenId=null,this.nftDataLoaded=!1,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(t),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),console.log(n))}catch(o){console.error(o);try{let n=o.message.split("Details:")[1];n=n.split("Version: viem")[0],n=n.replace(/"/g,""),n=n.replace("execution reverted:","Error:"),console.log(n),this.toast(n,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}finally{this.toast.dismiss(t),this.waiting=!1}}},setup(){return{toast:I()}},watch:{tokenId(){this.nftDataLoaded=!1}}},li=["aria-labelledby"],di={class:"modal-dialog"},ci={class:"modal-content"},ui={class:"modal-header"},pi=["id"],mi=["id"],hi={class:"modal-body"},fi=["disabled"],gi={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},bi={key:1,class:"mt-4 row"},yi={class:"col-md-4 col-6"},wi=["src"],ki={class:"mt-4"},vi=["for"],_i=["id"],Ci=["disabled"],Ii={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ai={key:3,class:"mt-4"},Ui=["for"],xi=["id"],Ti={key:0,class:"form-text",id:"basic-addon4"},Ni={class:"modal-footer"},Mi=["disabled"],Si={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Di(i,t,o,n,e,a){return l(),d("div",{class:"modal fade",id:"sendNftModal",tabindex:"-1","aria-labelledby":"modalLabel-"+e.componentId,"aria-hidden":"true"},[s("div",di,[s("div",ci,[s("div",ui,[s("h1",{class:"modal-title fs-5",id:"modalLabel-"+e.componentId},"Transfer NFT",8,pi),s("button",{id:"closeModal-"+e.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,mi)]),s("div",hi,[t[10]||(t[10]=s("p",null," Send/transfer NFT to another address. ",-1)),e.tokenId?c("",!0):(l(),d("button",{key:0,onClick:t[0]||(t[0]=(...r)=>a.fetchUsersNft&&a.fetchUsersNft(...r)),type:"button",class:"btn btn-primary mt-2",disabled:e.waitingFetchNft},[e.waitingFetchNft?(l(),d("span",gi)):c("",!0),t[6]||(t[6]=p(" Find your NFT ID ",-1))],8,fi)),e.nftDataLoaded?(l(),d("div",bi,[s("div",yi,[s("img",{src:e.nftImage,class:"img-fluid",alt:"NFT image",height:"100"},null,8,wi)])])):c("",!0),s("div",ki,[s("label",{for:"inputTokenId-"+e.componentId,class:"form-label"},[...t[7]||(t[7]=[s("strong",null," NFT (token) ID to send: ",-1)])],8,vi),v(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.tokenId=r),type:"text",class:"form-control",id:"inputTokenId-"+e.componentId},null,8,_i),[[_,e.tokenId]])]),!e.nftDataLoaded&&e.tokenId?(l(),d("button",{key:2,onClick:t[2]||(t[2]=(...r)=>a.loadNftData&&a.loadNftData(...r)),type:"button",class:"btn btn-primary mt-2",disabled:!e.tokenId||e.waiting},[e.waiting?(l(),d("span",Ii)):c("",!0),t[8]||(t[8]=p(" Load NFT image ",-1))],8,Ci)):c("",!0),e.nftDataLoaded?(l(),d("div",Ai,[s("label",{for:"inputAddress-"+e.componentId,class:"form-label"},[s("strong",null," Recipient address or "+f(i.$config.public.tldName)+" name: ",1)],8,Ui),v(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.recipientInput=r),onKeyup:t[4]||(t[4]=(...r)=>a.findBlankCharacter&&a.findBlankCharacter(...r)),type:"text",class:"form-control",id:"inputAddress-"+e.componentId},null,40,xi),[[_,e.recipientInput]]),e.hasBlankCharacter?(l(),d("div",Ti,[t[9]||(t[9]=s("i",{class:"bi bi-exclamation-triangle-fill"},null,-1)),p(" This domain name contains a blank character: "+f(encodeURIComponent(e.recipientInput))+". Proceed with caution. ",1)])):c("",!0)])):c("",!0)]),s("div",Ni,[t[12]||(t[12]=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),e.nftDataLoaded?(l(),d("button",{key:0,onClick:t[5]||(t[5]=(...r)=>a.transferNft&&a.transferNft(...r)),type:"button",class:"btn btn-primary",disabled:!e.recipientInput||!e.tokenId||e.waiting},[e.waiting?(l(),d("span",Si)):c("",!0),t[11]||(t[11]=p(" Transfer NFT ",-1))],8,Mi)):c("",!0)])])])],8,li)}const Fi=C(ri,[["render",Di]]),Bi={name:"NftCollection",data(){return{audioUrl:null,cAuthorAddress:null,cAuthorDomain:null,cDescription:null,cImage:null,cName:null,cSupply:null,cType:0,mdAddress:null,mediaMetadataContract:!1,nativeNft:!0,priceBuyWei:null,priceSellWei:null,userTokenId:null,videoUrl:null,waitingBuy:!1,waitingData:!1,waitingMedia:!1,waitingSell:!1,youtubeUrl:null}},components:{AddImageToCollectionModal:Pt,ChangeCollectionPreviewModal:Xt,ChangeDescriptionModal:he,ChangeMediaModal:qe,ChangeNftTypeModal:_s,ChatFeed:yt,CollectionMediaSection:Vs,ConnectWalletButton:lt,Image:M,RemoveImageFromCollectionModal:ai,SendNftModal:Fi,SwitchChainButton:rt,WaitingToast:y},mounted(){this.$nextTick(()=>{this.cAddress&&x(this.cAddress)?this.getCollectionDetails():(this._.provides[F]||this.$route).query?.id?(console.error("Route has query param but cAddress is null or invalid"),this.toast("Invalid NFT address.",{type:"error"}),this.$router.push({path:"/"})):console.log("No valid address found in mounted")})},computed:{cAddress(){const i=(this._.provides[F]||this.$route).query?.id;return i||null},collectionExplorerLink(){return this.$config.public.blockExplorerBaseUrl+"/token/"+this.cAddress},collectionMarketplaceLink(){return this.$config.public.marketplaceNftCollectionBaseUrl+this.cAddress},getUsernameOrFullAddress(){if(this.cAuthorDomain){let i=String(this.cAuthorDomain).replace(this.$config.public.tldName,"");return V(i)+this.$config.public.tldName}else return this.cAuthorAddress},getUsernameOrShortAddress(){if(this.cAuthorAddress)if(this.cAuthorDomain){let i=String(this.cAuthorDomain).replace(this.$config.public.tldName,"");return V(i)+this.$config.public.tldName}else return z(this.cAuthorAddress);return null},isCurrentAddressOwner(){return this.cAuthorAddress&&this.address?String(this.cAuthorAddress).toLowerCase()===String(this.address).toLowerCase():!1},isSupportedChain(){return this.chainId===this.$config.public.supportedChainId}},methods:{getDomainName:at,async buyNft(){this.waitingBuy=!0;const i=[{name:"getBurnPrice",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"getMintPrice",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"mint",type:"function",stateMutability:"payable",inputs:[{name:"to",type:"address"}],outputs:[{type:"uint256"}]},{name:"tokenOfOwnerByIndex",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}];try{const o=await m({address:this.cAddress,abi:i,functionName:"getMintPrice"});this.priceBuyWei=o}catch(o){console.error("Failed to get mint price:",o),this.waitingBuy=!1,this.toast("Failed to get mint price.",{type:"error"});return}let t;try{const o=await w({address:this.cAddress,abi:i,functionName:"mint",args:[this.address],value:BigInt(this.priceBuyWei)});if(t=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),(await k(o)).status==="success"){this.toast.dismiss(t),this.toast("You have successfully bought the NFT! Congrats!",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});try{const[e,a]=await Promise.all([m({address:this.cAddress,abi:i,functionName:"getMintPrice"}),m({address:this.cAddress,abi:i,functionName:"getBurnPrice"})]);this.priceBuyWei=e,this.priceSellWei=a;try{const u=await m({address:this.cAddress,abi:i,functionName:"tokenOfOwnerByIndex",args:[this.address,BigInt(0)]});u?this.userTokenId=Number(u):this.userTokenId=null}catch{this.userTokenId=null}const r=await m({address:this.cAddress,abi:i,functionName:"totalSupply"});r?this.cSupply=Number(r):this.cSupply=null}catch(e){console.error("Failed to update data after purchase:",e)}this.waitingBuy=!1}else this.toast.dismiss(t),this.waitingBuy=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()})}catch(o){console.error(o);try{let n=o.message.split("Details:")[1];n=n.split("Version: viem")[0],n=n.replace(/"/g,""),n=n.replace("execution reverted:","Error:"),console.log(n),this.toast(n,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingBuy=!1}finally{this.toast.dismiss(t),this.waitingBuy=!1}},async fetchUserDomain(){if(this.cAuthorAddress){const i=await this.getDomainName(this.cAuthorAddress);if(i){const t=i.split(".")[0]+this.$config.public.tldName;this.cAuthorDomain=t,bt(window,this.cAuthorAddress,t)}}},formatPrice(i){if(i===null)return null;const t=Number(gt(i));return t>100?t.toFixed(0):t>1?t.toFixed(2):t>.1?t.toFixed(4):t>.01?t.toFixed(5):t>.001?t.toFixed(6):t>1e-4?t.toFixed(7):t>1e-5?t.toFixed(8):t>1e-6?t.toFixed(9):t},async getCollectionDetails(i=!1){if(!this.cAddress||!x(this.cAddress)){console.warn("cAddress is null or invalid:",this.cAddress,"cannot fetch collection details"),this.waitingData=!1;return}this.waitingData=!0;let t=ft(window,this.cAddress);i&&(t=null);const o=[{name:"getBurnPrice",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"getMintPrice",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"metadataAddress",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"name",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{name:"owner",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"tokenOfOwnerByIndex",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}];if(t?.mdAddress)this.mdAddress=t.mdAddress;else try{this.mdAddress=await m({address:this.cAddress,abi:o,functionName:"metadataAddress"})}catch{return this.getCollectionDetailsFallback()}const n=[{name:"getCollectionDescription",type:"function",stateMutability:"view",inputs:[{name:"nftAddress",type:"address"}],outputs:[{type:"string"}]},{name:"getCollectionMetadataType",type:"function",stateMutability:"view",inputs:[{name:"nftAddress_",type:"address"}],outputs:[{type:"uint256"}]},{name:"getCollectionName",type:"function",stateMutability:"view",inputs:[{name:"nftAddress_",type:"address"}],outputs:[{type:"string"}]},{name:"getCollectionPreviewImage",type:"function",stateMutability:"view",inputs:[{name:"nftAddress",type:"address"}],outputs:[{type:"string"}]},{name:"getMetadata",type:"function",stateMutability:"view",inputs:[{name:"nftAddress_",type:"address"},{name:"tokenId_",type:"uint256"}],outputs:[{type:"string"}]},{name:"mdContractType",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"string"}]}];try{const[u,g]=await Promise.all([m({address:this.cAddress,abi:o,functionName:"getMintPrice"}),m({address:this.cAddress,abi:o,functionName:"getBurnPrice"})]);this.priceBuyWei=u,this.priceSellWei=g}catch{return this.getCollectionDetailsFallback()}t?.image?this.cImage=t.image:this.cImage=await m({address:this.mdAddress,abi:n,functionName:"getCollectionPreviewImage",args:[this.cAddress]});const e=W(this.cImage);e&&(this.cImage=e),t?.description&&t.description!==""&&t.description!==null?this.cDescription=t.description:this.cDescription=await m({address:this.mdAddress,abi:n,functionName:"getCollectionDescription",args:[this.cAddress]}),t?.type>=0?this.cType=t.type:this.cType=Number(await m({address:this.mdAddress,abi:n,functionName:"getCollectionMetadataType",args:[this.cAddress]})),t?.name?this.cName=t.name:this.cName=await m({address:this.cAddress,abi:o,functionName:"name"});try{if(this.address&&x(this.address)){const u=await m({address:this.cAddress,abi:o,functionName:"tokenOfOwnerByIndex",args:[this.address,BigInt(0)]});u?this.userTokenId=Number(u):this.userTokenId=null}else this.userTokenId=null}catch{this.userTokenId=null}this.waitingData=!1,this.cSupply=await m({address:this.cAddress,abi:o,functionName:"totalSupply"}),t?.authorAddress?(this.cAuthorAddress=t.authorAddress,this.cAuthorDomain=t.authorDomain):this.cAuthorAddress=await m({address:this.cAddress,abi:o,functionName:"owner"}),this.cAuthorDomain=O(window,this.cAuthorAddress),this.cAuthorDomain||this.fetchUserDomain(),t={address:this.cAddress,authorAddress:this.cAuthorAddress,authorDomain:this.cAuthorDomain,description:this.cDescription,image:this.cImage,mdAddress:this.mdAddress,name:this.cName,type:this.cType},R(window,this.cAddress,t),this.waitingMedia=!0;let a=this.userTokenId?this.userTokenId:1,r=await m({address:this.mdAddress,abi:n,functionName:"getMetadata",args:[this.cAddress,BigInt(a)]});if(String(r).startsWith("http")&&(r=W(r)),String(r).startsWith("ipfs://")&&(r=String(r).replace("ipfs://",this.$config.public.ipfsGateway)),String(r).startsWith("http"))try{r=(await N.get(r)).data}catch(u){if(console.error(u),r.startsWith(this.$config.public.ipfsGateway))try{r=String(r).replace(this.$config.public.ipfsGateway,this.$config.public.ipfsGateway2),r=(await N.get(r)).data}catch(g){console.error(g);return}}else r=atob(String(r).replace("data:application/json;base64,",""));if(typeof r!="object"&&typeof r=="string"&&(r=JSON.parse(r)),r?.audio_url&&(this.audioUrl=r.audio_url),r?.animation_url&&(this.videoUrl=r.animation_url),r?.youtube_url&&(this.youtubeUrl=r.youtube_url),this.waitingMedia=!1,this.cType==0&&this.isCurrentAddressOwner)try{await m({address:this.mdAddress,abi:n,functionName:"mdContractType"})=="media"&&(this.mediaMetadataContract=!0)}catch{console.log("Not media metadata contract.")}},async getCollectionDetailsFallback(){if(!this.cAddress){console.warn("cAddress is null, cannot fetch collection details via fallback");return}this.nativeNft=!1;const i=[{name:"name",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{name:"owner",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"address"}]},{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]}];this.cName=await m({address:this.cAddress,abi:i,functionName:"name"});let t;try{t=await m({address:this.cAddress,abi:i,functionName:"tokenURI",args:[BigInt(1)]})}catch{t=await m({address:this.cAddress,abi:i,functionName:"uri",args:[BigInt(1)]})}if(t.startsWith("data:application/json;")){const o=JSON.parse(atob(t.replace("data:application/json;base64,","")));!this.cName&&o?.name&&(this.cName=o.name.replace("#1","")),o?.description&&(this.cDescription=o.description),o?.image&&(this.cImage=o.image),o?.external_url&&(this.cExternalUrl=o.external_url),o?.audio_url&&(this.audioUrl=o.audio_url),o?.animation_url&&(this.videoUrl=o.animation_url),o?.youtube_url&&(this.youtubeUrl=o.youtube_url)}else try{const n=(await N.get(t)).data;!this.cName&&n?.name&&(this.cName=n.name.replace("#1","")),n?.description&&(this.cDescription=n.description),n?.image&&(this.cImage=n.image),n?.external_url&&(this.cExternalUrl=n.external_url),n?.audio_url&&(this.audioUrl=n.audio_url),n?.animation_url&&(this.videoUrl=n.animation_url),n?.youtube_url&&(this.youtubeUrl=n.youtube_url)}catch(o){console.error(o)}try{this.cSupply=await m({address:this.cAddress,abi:i,functionName:"totalSupply"})}catch{console.log("No totalSupply function in the contract.")}try{this.cAuthorAddress=await m({address:this.cAddress,abi:i,functionName:"owner"}),this.cAuthorDomain=O(window,this.cAuthorAddress),this.cAuthorDomain||this.fetchUserDomain()}catch{console.log("No owner variable in the contract.")}this.waitingData=!1},saveCollection(i){i?.type&&(this.cType=i.type),i?.description&&(this.cDescription=i.description),i?.image&&(this.cImage=i.image);const t={address:this.cAddress,authorAddress:this.cAuthorAddress,authorDomain:this.cAuthorDomain,description:this.cDescription,image:this.cImage,mdAddress:this.mdAddress,name:this.cName,type:this.cType};R(window,this.cAddress,t)},async sellNft(){this.waitingSell=!0;const i=[{name:"getBurnPrice",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"getMintPrice",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"burn",type:"function",stateMutability:"nonpayable",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"uint256"}]},{name:"tokenOfOwnerByIndex",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}];let t;try{const o=await w({address:this.cAddress,abi:i,functionName:"burn",args:[BigInt(this.userTokenId)]});t=this.toast({component:y,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});const n=await k(o);if(n.status==="success"){this.toast.dismiss(t),this.toast("You have dumped the NFT.",{type:"success",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()});try{const[e,a]=await Promise.all([m({address:this.cAddress,abi:i,functionName:"getMintPrice"}),m({address:this.cAddress,abi:i,functionName:"getBurnPrice"})]);this.priceBuyWei=e,this.priceSellWei=a;try{if(this.address){const r=await m({address:this.cAddress,abi:i,functionName:"tokenOfOwnerByIndex",args:[this.address,BigInt(0)]});r?this.userTokenId=Number(r):this.userTokenId=null}}catch{this.userTokenId=null}this.cSupply=await m({address:this.cAddress,abi:i,functionName:"totalSupply"})}catch(e){console.error("Failed to update data after sale:",e)}this.waitingSell=!1}else this.toast.dismiss(t),this.waitingSell=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.public.blockExplorerBaseUrl+"/tx/"+o,"_blank").focus()}),console.log(n)}catch(o){console.error(o);try{let n=o.message.split("Details:")[1];n=n.split("Version: viem")[0],n=n.replace(/"/g,""),n=n.replace("execution reverted:","Error:"),console.log(n),this.toast(n,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingSell=!1}finally{this.toast.dismiss(t),this.waitingSell=!1}}},setup(){const i=$(),{address:t,chainId:o,isConnected:n}=Y({config:i}),e=I();return{address:t,chainId:o,isConnected:n,toast:e}},watch:{address(i,t){t&&t!==i&&!this.waitingData&&this.getCollectionDetails()},chainId(i,t){i==this.$config.public.supportedChainId&&t!==i&&!this.waitingData&&this.getCollectionDetails()},cAddress(i,t){if(i&&(this._.provides[F]||this.$route).path==="/nft/collection"){if(!x(i))return this.toast("Invalid NFT address.",{type:"error"}),this.$router.push({path:"/"});this.waitingData||this.getCollectionDetails()}}}},Pi={class:"card border"},Li={class:"card-body"},Ei={class:"fs-3"},Ri={key:0,class:"mb-3 mt-3"},Oi={key:1,class:"mb-3 mt-3"},Wi={key:2,class:"d-flex justify-content-center mb-3"},Vi={class:"row"},$i={class:"col-md-5 text-center mb-3"},Yi={key:1,class:"dropdown mt-3"},ji={class:"dropdown-menu"},zi={key:0},Gi={key:1},Hi={key:2},qi={key:3},Ji={key:4},Ki={key:5},Qi={class:"col-md-7"},Xi={class:"mt-1 mb-4 muted-text",style:{"font-size":"14px"}},Zi={class:"me-4"},to={key:0,class:"me-4"},eo={class:"me-4"},so={class:"me-4"},io=["href"],oo={key:0},no={key:1,class:"dropdown"},ao={class:"dropdown-menu dropdown-menu-end"},ro=["href"],lo=["href"],co={key:0,class:"row mb-3"},uo={key:0,class:"d-grid gap-2 col"},po={key:1,class:"d-grid gap-2 col"},mo=["disabled"],ho={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},fo={key:2,class:"d-grid gap-2 col"},go=["disabled"],bo={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},yo={key:1},wo={key:0,class:"card border mt-3 scroll-500"};function ko(i,t,o,n,e,a){const r=dt,u=ct,g=ut,P=b("Image"),H=mt,q=b("ConnectWalletButton"),J=b("SwitchChainButton"),K=b("CollectionMediaSection"),Q=b("ChatFeed"),X=b("AddImageToCollectionModal"),Z=b("ChangeCollectionPreviewModal"),tt=b("ChangeDescriptionModal"),et=b("ChangeMediaModal"),st=b("ChangeNftTypeModal"),it=b("RemoveImageFromCollectionModal"),ot=b("SendNftModal");return l(),d(B,null,[h(g,null,{default:D(()=>[h(r,null,{default:D(()=>[p("NFT Collection Details | "+f(i.$config.public.projectMetadataTitle),1)]),_:1}),h(u,{property:"og:title",content:"NFT Collection Details | "+i.$config.public.projectMetadataTitle},null,8,["content"]),h(u,{name:"description",content:"Check this NFT collection on "+i.$config.public.projectName+"!"},null,8,["content"]),h(u,{property:"og:image",content:i.$config.public.projectUrl+i.$config.public.previewImageNftCollection},null,8,["content"]),h(u,{property:"og:description",content:"Check this NFT collection on "+i.$config.public.projectName+"!"},null,8,["content"]),h(u,{name:"twitter:image",content:i.$config.public.projectUrl+i.$config.public.previewImageNftCollection},null,8,["content"]),h(u,{name:"twitter:description",content:"Check this NFT collection on "+i.$config.public.projectName+"!"},null,8,["content"])]),_:1}),s("div",Pi,[s("div",Li,[s("p",Ei,[s("i",{onClick:t[0]||(t[0]=U=>i.$router.push({path:"/nft"})),class:"bi bi-arrow-left-circle cursor-pointer"})]),e.cName?c("",!0):(l(),d("h3",Ri,"NFT Collection Details")),e.cName?(l(),d("h3",Oi,f(e.cName),1)):c("",!0),e.waitingData?(l(),d("div",Wi,[...t[4]||(t[4]=[s("span",{class:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"},null,-1)])])):c("",!0),s("div",Vi,[s("div",$i,[e.cImage?(l(),A(P,{url:e.cImage,cls:"img-fluid img-thumbnail rounded col-12",alt:e.cName,key:e.cImage},null,8,["url","alt"])):c("",!0),e.nativeNft?(l(),d("div",Yi,[t[11]||(t[11]=s("button",{class:"btn btn-outline-primary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Actions ",-1)),s("ul",ji,[a.isCurrentAddressOwner?(l(),d("li",zi,[...t[5]||(t[5]=[s("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeDescriptionModal"}," Change description ",-1)])])):c("",!0),a.isCurrentAddressOwner?(l(),d("li",Gi,[...t[6]||(t[6]=[s("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeCollectionPreviewModal"}," Change collection preview image ",-1)])])):c("",!0),a.isCurrentAddressOwner&&e.cType==0?(l(),d("li",Hi,[...t[7]||(t[7]=[s("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#addImageToCollectionModal"}," Add additional image to collection ",-1)])])):c("",!0),a.isCurrentAddressOwner&&e.cType==0?(l(),d("li",qi,[...t[8]||(t[8]=[s("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#removeImageFromCollectionModal"}," Remove image from collection ",-1)])])):c("",!0),a.isCurrentAddressOwner?(l(),d("li",Ji,[...t[9]||(t[9]=[s("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeNftTypeModal"}," Change collection type ",-1)])])):c("",!0),n.address?(l(),d("li",Ki,[...t[10]||(t[10]=[s("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#sendNftModal"}," Send your NFT to another address ",-1)])])):c("",!0),s("li",null,[s("span",{class:"dropdown-item cursor-pointer",onClick:t[1]||(t[1]=U=>a.getCollectionDetails(!0))},"Refresh metadata")])])])):c("",!0)]),s("div",Qi,[s("div",Xi,[s("p",Zi,[t[12]||(t[12]=s("i",{class:"bi bi-file-earmark-text-fill me-1"},null,-1)),p(" "+f(e.cDescription),1)]),e.nativeNft?(l(),d("p",to,[t[13]||(t[13]=s("i",{class:"bi bi-coin me-1"},null,-1)),p(" Buy/Sell price: "+f(a.formatPrice(e.priceBuyWei))+" "+f(i.$config.public.tokenSymbol)+" / "+f(a.formatPrice(e.priceSellWei))+" "+f(i.$config.public.tokenSymbol),1)])):c("",!0),s("p",eo,[t[14]||(t[14]=s("i",{class:"bi bi-file-earmark-binary me-1"},null,-1)),p(" "+f(e.cSupply)+" NFTs minted ",1)]),s("p",so,[t[16]||(t[16]=s("i",{class:"bi bi-box-arrow-up-right me-2"},null,-1)),s("a",{href:i.$config.public.blockExplorerBaseUrl+"/address/"+a.cAddress,target:"_blank",style:{"text-decoration":"none"}},f(("shortenAddress"in i?i.shortenAddress:pt(z))(a.cAddress)),9,io),a.getUsernameOrShortAddress?(l(),d("span",oo,[t[15]||(t[15]=p(" by ",-1)),h(H,{to:"/profile/?id="+String(a.getUsernameOrFullAddress)},{default:D(()=>[p(f(a.getUsernameOrShortAddress),1)]),_:1},8,["to"])])):c("",!0)]),a.cAddress?(l(),d("div",no,[t[19]||(t[19]=s("i",{class:"bi bi-box-arrow-up-right me-2"},null,-1)),t[20]||(t[20]=s("span",{class:"dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},[s("span",null,"See all NFTs in the collection")],-1)),s("div",ao,[s("a",{class:"dropdown-item cursor-pointer",target:"_blank",href:a.collectionMarketplaceLink},[...t[17]||(t[17]=[s("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1),p(" See NFTs on NFT marketplace ",-1)])],8,ro),s("a",{class:"dropdown-item cursor-pointer",target:"_blank",href:a.collectionExplorerLink},[...t[18]||(t[18]=[s("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1),p(" See NFTs on block explorer ",-1)])],8,lo)])])):c("",!0)]),e.nativeNft?(l(),d("div",co,[!n.isConnected||!a.isSupportedChain?(l(),d("div",uo,[n.isConnected?c("",!0):(l(),A(q,{key:0,class:"btn-primary",btnText:"Connect wallet"})),n.isConnected&&!a.isSupportedChain?(l(),A(J,{key:1})):c("",!0)])):c("",!0),n.isConnected&&a.isSupportedChain?(l(),d("div",po,[s("button",{onClick:t[2]||(t[2]=(...U)=>a.buyNft&&a.buyNft(...U)),class:"btn btn-primary",type:"button",disabled:e.waitingData||e.waitingBuy},[e.waitingBuy?(l(),d("span",ho)):c("",!0),p(" Buy for "+f(a.formatPrice(e.priceBuyWei))+" "+f(i.$config.public.tokenSymbol),1)],8,mo)])):c("",!0),n.isConnected&&a.isSupportedChain?(l(),d("div",fo,[s("button",{onClick:t[3]||(t[3]=(...U)=>a.sellNft&&a.sellNft(...U)),class:"btn btn-primary",type:"button",disabled:e.waitingData||e.waitingSell||!e.userTokenId||e.priceSellWei==0},[e.waitingSell?(l(),d("span",bo)):c("",!0),p(" Sell for "+f(a.formatPrice(e.priceSellWei))+" "+f(i.$config.public.tokenSymbol),1)],8,go)])):c("",!0)])):c("",!0),n.isConnected&&a.isSupportedChain&&e.nativeNft?(l(),d("small",yo,[s("em",null," (Price may still change after pressing the button, so make sure to check the "+f(i.$config.public.tokenSymbol)+" amount in wallet.) ",1)])):c("",!0)])])])]),!e.userTokenId&&e.nativeNft?(l(),d("div",wo,[...t[21]||(t[21]=[ht('<div class="card-body"><h5 class="mb-2 mt-3 text-center">Buy an NFT to see the chat</h5><div class="d-flex justify-content-center"><div class="col-12 col-lg-8"><p class="text-break text-center mt-3 mb-4"> This NFT&#39;s chat is open only for NFT holders. Buy an NFT to see the chat and talk with the NFT creator and other NFT holders. </p></div></div></div>',1)])])):c("",!0),e.userTokenId||a.isCurrentAddressOwner?(l(),d("div",{key:e.userTokenId},[e.audioUrl||e.videoUrl||e.youtubeUrl?(l(),A(K,{key:0,audioUrl:e.audioUrl,videoUrl:e.videoUrl,youtubeUrl:e.youtubeUrl},null,8,["audioUrl","videoUrl","youtubeUrl"])):c("",!0),h(Q,{hideCommentBox:!1,class:"mt-3 scroll-500",chatContext:i.$config.public.chat.contexts.nftLaunchpad,mainItemId:a.cAddress},null,8,["chatContext","mainItemId"])])):c("",!0),h(X,{cAddress:a.cAddress,mdAddress:e.mdAddress},null,8,["cAddress","mdAddress"]),h(Z,{cAddress:a.cAddress,mdAddress:e.mdAddress,onSaveCollection:a.saveCollection},null,8,["cAddress","mdAddress","onSaveCollection"]),h(tt,{cAddress:a.cAddress,cDescription:e.cDescription,mdAddress:e.mdAddress,onSaveCollection:a.saveCollection},null,8,["cAddress","cDescription","mdAddress","onSaveCollection"]),h(et,{cAddress:a.cAddress,mdAddress:e.mdAddress},null,8,["cAddress","mdAddress"]),h(st,{mdAddress:e.mdAddress,cType:e.cType,cAddress:a.cAddress,onSaveCollection:a.saveCollection},null,8,["mdAddress","cType","cAddress","onSaveCollection"]),h(it,{mdAddress:e.mdAddress,cAddress:a.cAddress},null,8,["mdAddress","cAddress"]),n.address?(l(),A(ot,{key:2,address:n.address,cAddress:a.cAddress},null,8,["address","cAddress"])):c("",!0)],64)}const Uo=C(Bi,[["render",ko]]);export{Uo as default};
