import{H as ae,T as ne,M as oe,L as re}from"./components.6ee5d396.js";import{a0 as de,a as S,r as g,o as n,b as d,f as t,e as c,w as p,l,c as w,t as b,i as f,as as O,F as Q,ae as z,u as le,ah as v,ad as X,af as U,ag as P,aq as ce,ac as me,k as he,an as ue,am as fe,al as ge}from"./entry.f63a6f38.js";import{u as q}from"./site.f7a4d397.js";import{u as T}from"./user.a57f97ac.js";import{u as $,v as pe,f as be,I as A,C as D,a as C,l as _e,U as K,s as ve}from"./ethers.96c567e4.js";import{C as R,S as I,D as we}from"./SwitchChainButton.3b68519f.js";import{g as ee}from"./textUtils.e7b2af4b.js";import{P as Se,g as L,a as ke}from"./domainUtils.7d5dab11.js";import{g as j,d as Ne}from"./balanceUtils.0e49ee6c.js";import{t as ye}from"./tokens.8eeff16c.js";import{W as H}from"./WaitingToast.5ebfa089.js";import{b as G,e as $e,g as Ce}from"./storageUtils.ce866533.js";import{S as Me}from"./SimpleSwap.8e498dd7.js";import{S as te}from"./ShareReferralLink.d65d4d7c.js";import{F as Ae}from"./FindUser.505e281e.js";import"./composables.f59c512a.js";import"./Image.f99f5e6f.js";const F=de({id:"sidebars",state:()=>({leftSidebar:!1,mainContent:!0,rightSidebar:!1}),getters:{showLeftSidebar:e=>e.leftSidebar,showMainContent:e=>e.mainContent,showRightSidebar:e=>e.rightSidebar},actions:{setLeftSidebar(e){this.leftSidebar=e},setMainContent(e){this.mainContent=e},setRightSidebar(e){this.rightSidebar=e}}});async function De(e,i,o,s,r){await e.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:i,symbol:o,decimals:s,image:r}}})}const ie=""+globalThis.__publicAssetsURL("img/logo.svg"),Le={name:"Navbar",components:{ConnectWalletButton:R,SwitchChainButton:I},computed:{showDomainOrAddress(){return this.userStore.getDefaultDomain?ee(this.userStore.getDefaultDomain):this.address?this.shortenAddress(this.address):"Profile"}},methods:{addToMetaMask(){De(window.ethereum,this.$config.chatTokenAddress,this.$config.chatTokenSymbol,18,this.$config.chatTokenImage)},changeColorMode(e){this.siteStore.setColorMode(e),document.documentElement.setAttribute("data-bs-theme",this.siteStore.getColorMode)},async disconnectWallet(){this.disconnect()}},setup(){const{address:e,isActivated:i,disconnect:o}=$(),s=q(),r=T();return{address:e,disconnect:o,isActivated:i,shortenAddress:pe,siteStore:s,userStore:r}}},Ue={class:"navbar navbar-expand-lg navbar-bg-custom"},Te={class:"container-fluid mx-3"},Be=t("img",{src:ie,alt:"Chat logo",height:"45"},null,-1),We={class:"navbar-nav justify-content-end flex-grow-1"},Pe={key:0,class:"nav-item"},Re=t("span",{class:"nav-link cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#referralModal"}," Earn referral fees! \u{1F911} ",-1),Ie=[Re],Fe={key:1,class:"nav-item"},xe={key:3,class:"nav-item dropdown"},Ee={class:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},Ve={class:"dropdown-menu dropdown-menu-end"},je=t("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#chatSettingsModal"},"Settings",-1),He=t("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeUsernameModal"},"Change username",-1),Oe=t("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#findUserModal"},"Find user",-1),ze=t("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#referralModal"},"Share referral link",-1),qe={key:4,class:"nav-item dropdown"},Ge={class:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},Ye={class:"dropdown-menu dropdown-menu-end"},Je={class:"nav-item cursor-pointer",title:"Toggle between light and dark mode"},Ze=t("i",{class:"bi bi-brightness-high"},null,-1),Ke=[Ze],Qe=t("i",{class:"bi bi-moon-fill"},null,-1),Xe=[Qe];function et(e,i,o,s,r,a){const m=O,h=g("ConnectWalletButton"),u=g("SwitchChainButton");return n(),d("nav",Ue,[t("div",Te,[c(m,{class:"navbar-brand",to:"/"},{default:p(()=>[Be]),_:1}),t("ul",We,[s.isActivated?(n(),d("li",Pe,Ie)):l("",!0),s.isActivated?l("",!0):(n(),d("li",Fe,[c(h,{class:"nav-link cursor-pointer",btnText:"Connect wallet"})])),s.isActivated?(n(),w(u,{key:2,navbar:!0,dropdown:!0})):l("",!0),s.isActivated?(n(),d("li",xe,[t("a",Ee,b(a.showDomainOrAddress),1),t("div",Ve,[s.userStore.getDefaultDomain?(n(),w(m,{key:0,class:"dropdown-item cursor-pointer",to:"/profile"},{default:p(()=>[f("Profile")]),_:1})):l("",!0),je,He,Oe,ze,t("span",{class:"dropdown-item cursor-pointer",onClick:i[0]||(i[0]=(..._)=>a.disconnectWallet&&a.disconnectWallet(..._))},"Disconnect")])])):l("",!0),s.isActivated&&e.$config.chatTokenAddress?(n(),d("li",qe,[t("a",Ge,b(s.userStore.getChatTokenBalance)+" "+b(e.$config.chatTokenSymbol),1),t("div",Ye,[c(m,{class:"dropdown-item cursor-pointer",to:"/airdrop"},{default:p(()=>[f("Claim "+b(e.$config.chatTokenSymbol)+" airdrop",1)]),_:1}),e.$config.stakingContractAddress&&e.$config.showFeatures.stake?(n(),w(m,{key:0,class:"dropdown-item cursor-pointer",to:"/stake"},{default:p(()=>[f("Stake & earn weekly "+b(e.$config.tokenSymbol)+" rewards",1)]),_:1})):l("",!0),t("span",{class:"dropdown-item cursor-pointer",onClick:i[1]||(i[1]=(..._)=>a.addToMetaMask&&a.addToMetaMask(..._))},"Add "+b(e.$config.chatTokenSymbol)+" to MetaMask",1)])])):l("",!0),t("li",Je,[s.siteStore.getColorMode==="dark"?(n(),d("span",{key:0,class:"nav-link",onClick:i[2]||(i[2]=_=>a.changeColorMode("light"))},Ke)):l("",!0),s.siteStore.getColorMode==="light"?(n(),d("span",{key:1,class:"nav-link",onClick:i[3]||(i[3]=_=>a.changeColorMode("dark"))},Xe)):l("",!0)])])])])}const tt=S(Le,[["render",et]]),it={name:"NavbarMobile",props:["lSidebar","rSidebar"],components:{ConnectWalletButton:R,SwitchChainButton:I},computed:{isSupportedChain(){return this.chainId===this.$config.supportedChainId}},methods:{toggleLeftSidebar(){this.sidebarStore.setRightSidebar(!1),this.sidebarStore.showLeftSidebar?(this.sidebarStore.setLeftSidebar(!1),this.lSidebar.hide(),this.sidebarStore.setMainContent(!0)):(this.sidebarStore.setLeftSidebar(!0),this.lSidebar.show(),this.sidebarStore.setMainContent(!1))},toggleRightSidebar(){this.lSidebar.hide(),this.sidebarStore.setLeftSidebar(!1),this.sidebarStore.showRightSidebar?(this.sidebarStore.setRightSidebar(!1),this.sidebarStore.setMainContent(!0)):(this.sidebarStore.setRightSidebar(!0),this.sidebarStore.setMainContent(!1))}},setup(){const{chainId:e,isActivated:i}=$(),o=F();return{chainId:e,isActivated:i,sidebarStore:o}}},st={class:"navbar sticky-top navbar-expand-lg navbar-mobile"},at={class:"container-fluid"},nt={key:0,class:"navbar-toggler-icon"},ot={key:1,class:"bi bi-x-lg"},rt=t("img",{src:ie,alt:"Chat logo",height:"40"},null,-1),dt={key:0,class:"navbar-toggler-icon"},lt={key:1,class:"bi bi-x-lg"},ct={key:0,class:"card border m-3"},mt={class:"card-body d-flex justify-content-center"};function ht(e,i,o,s,r,a){const m=O,h=g("ConnectWalletButton"),u=g("SwitchChainButton");return n(),d(Q,null,[t("nav",st,[t("div",at,[t("button",{onClick:i[0]||(i[0]=(..._)=>a.toggleLeftSidebar&&a.toggleLeftSidebar(..._)),class:"nav-item btn navbar-toggler nav-btn-left",type:"button"},[s.sidebarStore.showLeftSidebar?l("",!0):(n(),d("span",nt)),s.sidebarStore.showLeftSidebar?(n(),d("span",ot)):l("",!0)]),c(m,{class:"navbar-brand mx-auto",to:"/"},{default:p(()=>[rt]),_:1}),t("button",{onClick:i[1]||(i[1]=(..._)=>a.toggleRightSidebar&&a.toggleRightSidebar(..._)),class:"nav-item btn navbar-toggler nav-btn-right",type:"button"},[s.sidebarStore.showRightSidebar?l("",!0):(n(),d("span",dt)),s.sidebarStore.showRightSidebar?(n(),d("span",lt)):l("",!0)])])]),!a.isSupportedChain||!s.isActivated?(n(),d("div",ct,[t("div",mt,[s.isActivated?l("",!0):(n(),w(h,{key:0,class:"btn btn-primary",btnText:"Connect wallet"})),s.isActivated&&!a.isSupportedChain?(n(),w(u,{key:1})):l("",!0)])])):l("",!0)],64)}const ut=S(it,[["render",ht]]),ft={name:"SidebarLeft",props:["lSidebar","isMobile"],components:{ProfileImage:Se},computed:{getProfileLink(){return this.userStore.getDefaultDomain?`/profile/?id=${this.userStore.getDefaultDomain}`:this.address?`/profile/?id=${this.address}`:"/profile"},getUserAp(){return this.userStore.getCurentUserActivityPoints>0?this.userStore.getCurentUserActivityPoints:0}},methods:{getActivityPoints:j,closeLeftSidebar(){this.isMobile&&(this.lSidebar.hide(),this.sidebarStore.setLeftSidebar(!1),this.sidebarStore.setMainContent(!0))},async fetchActivityPoints(){if(this.$config.activityPointsAddress&&this.address){this.toast.info("Refreshing activity points...",{timeout:2e3});const e=this.$getFallbackProvider(this.$config.supportedChainId),i=await this.getActivityPoints(this.address,e);this.userStore.setCurrentUserActivityPoints(i)}}},setup(){const{address:e,isActivated:i}=$(),o=z(),s=F(),r=T();return{address:e,isActivated:i,sidebarStore:s,toast:o,userStore:r}}},gt={class:"col col-lg-auto px-0 mt-1"},pt={class:"sidebar-nav list-group border-0 rounded-0 text-sm-start min-vh-100"},bt={class:"card m-2 p-2 bg-light"},_t={key:0,class:"text-center"},vt={key:0,class:"mt-3"},wt={key:1,class:"mt-2"},St=t("hr",null,null,-1),kt={class:"nav nav-pills flex-column"},Nt={class:"list-group"},yt={class:"list-group"},$t={class:"list-group"},Ct=t("hr",null,null,-1),Mt=t("i",{class:"bi bi-rocket-takeoff me-2"},null,-1),At=t("i",{class:"bi bi-person me-2"},null,-1),Dt=t("i",{class:"bi bi-award me-2"},null,-1),Lt=t("i",{class:"bi bi-send me-2"},null,-1),Ut=t("i",{class:"bi bi-cash-stack me-2"},null,-1),Tt=t("i",{class:"bi bi-arrow-down-up me-2"},null,-1),Bt=t("i",{class:"bi bi-gift me-2"},null,-1),Wt=["href"],Pt=t("i",{class:"bi bi-box2 me-2"},null,-1),Rt=t("small",null,[t("i",{class:"bi bi-box-arrow-up-right ms-1"})],-1),It=t("i",{class:"bi bi-binoculars me-2"},null,-1),Ft=t("i",{class:"bi bi-patch-question me-2"},null,-1);function xt(e,i,o,s,r,a){const m=g("ProfileImage"),h=O;return n(),d("div",gt,[t("div",{id:"sidebar1",class:v(["collapse collapse-horizontal",e.$config.sidebarLeftSticky?"sticky-lg-top":""])},[t("div",pt,[t("div",bt,[s.isActivated&&s.userStore.getDefaultDomain?(n(),d("div",_t,[c(h,{to:a.getProfileLink},{default:p(()=>[(n(),w(m,{key:s.userStore.getImage,onClick:a.closeLeftSidebar,class:"img-fluid mt-3 rounded-circle w-30 sidebar-profile-image",domain:s.userStore.getDefaultDomain,image:s.userStore.getImage},null,8,["onClick","domain","image"]))]),_:1},8,["to"]),s.userStore.getDefaultDomain?(n(),d("h6",vt,b(le(ee)(s.userStore.getDefaultDomain)),1)):l("",!0),e.$config.activityPointsAddress&&e.$config.showFeatures.activityPoints?(n(),d("div",wt,[c(h,{to:"/activity-points",class:"btn btn-outline-primary btn-sm mt-2 mb-2"},{default:p(()=>[f(b(a.getUserAp)+" AP ",1)]),_:1})])):l("",!0),St])):l("",!0),t("ul",kt,[t("ul",Nt,[c(h,{to:"/",class:v(["list-group-item cursor-pointer hover-color bg-light border-0",e.$route.path==="/"?"active":""]),onClick:a.closeLeftSidebar},{default:p(()=>[f(" General discussion ")]),_:1},8,["class","onClick"])]),t("ul",yt,[c(h,{to:"/memes-images",class:v(["list-group-item cursor-pointer hover-color bg-light border-0",e.$route.path.startsWith("/memes-images")?"active":""]),onClick:a.closeLeftSidebar},{default:p(()=>[f(" Share images & NFTs ")]),_:1},8,["class","onClick"])]),t("ul",$t,[c(h,{to:"/shill",class:v(["list-group-item cursor-pointer hover-color bg-light border-0",e.$route.path.startsWith("/shill")?"active":""]),onClick:a.closeLeftSidebar},{default:p(()=>[f(" Shill & discuss projects ")]),_:1},8,["class","onClick"])]),Ct,e.$config.nftLaunchpadBondingAddress&&e.$config.showFeatures.nftLaunchpad?(n(),d("li",{key:0,class:"nav-item p-1",onClick:i[0]||(i[0]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/nft")?"active":""]),"aria-current":"page",to:"/nft"},{default:p(()=>[Mt,f(" NFT Launchpad ")]),_:1},8,["class"])])):l("",!0),s.isActivated&&s.userStore.getDefaultDomain?(n(),d("li",{key:1,class:"nav-item p-1",onClick:i[1]||(i[1]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/profile")?"active":""]),"aria-current":"page",to:a.getProfileLink},{default:p(()=>[At,f(" Profile ")]),_:1},8,["class","to"])])):l("",!0),e.$config.showFeatures.activityPoints&&e.$config.activityPointsAddress?(n(),d("li",{key:2,class:"nav-item p-1",onClick:i[2]||(i[2]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/activity-points")?"active":""]),"aria-current":"page",to:"/activity-points"},{default:p(()=>[Dt,f(" Activity Points ")]),_:1},8,["class"])])):l("",!0),e.$config.showFeatures.sendTokens?(n(),d("li",{key:3,class:"nav-item p-1",onClick:i[3]||(i[3]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/send-tokens")?"active":""]),"aria-current":"page",to:"/send-tokens"},{default:p(()=>[Lt,f(" Send Tokens ")]),_:1},8,["class"])])):l("",!0),e.$config.stakingContractAddress&&e.$config.showFeatures.stake?(n(),d("li",{key:4,class:"nav-item p-1",onClick:i[4]||(i[4]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/stake")?"active":""]),"aria-current":"page",to:"/stake"},{default:p(()=>[Ut,f(" Stake & Earn ")]),_:1},8,["class"])])):l("",!0),e.$config.swapRouterAddress&&e.$config.showFeatures.swap?(n(),d("li",{key:5,class:"nav-item p-1",onClick:i[5]||(i[5]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/swap")?"active":""]),"aria-current":"page",to:"/swap"},{default:p(()=>[Tt,f(" Swap ")]),_:1},8,["class"])])):l("",!0),(e.$config.airdropClaimDomainsAddress||e.$config.airdropApAddress)&&e.$config.showFeatures.airdrop?(n(),d("li",{key:6,class:"nav-item p-1",onClick:i[6]||(i[6]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/airdrop")?"active":""]),"aria-current":"page",to:"/airdrop"},{default:p(()=>[Bt,f(" Airdrop ")]),_:1},8,["class"])])):l("",!0),e.$config.showFeatures.governance?(n(),d("li",{key:7,class:"nav-item p-1",onClick:i[7]||(i[7]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[t("a",{class:"nav-link",href:e.$config.governanceUrl,target:"_blank"},[Pt,f(" Governance "),Rt],8,Wt)])):l("",!0),t("li",{class:"nav-item p-1",onClick:i[8]||(i[8]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/find-user")?"active":""]),"aria-current":"page",to:"/find-user"},{default:p(()=>[It,f(" Find User ")]),_:1},8,["class"])]),t("li",{class:"nav-item p-1",onClick:i[9]||(i[9]=(...u)=>a.closeLeftSidebar&&a.closeLeftSidebar(...u))},[c(h,{class:v(["nav-link",e.$route.path.startsWith("/about")?"active":""]),"aria-current":"page",to:"/about"},{default:p(()=>[Ft,f(" About ")]),_:1},8,["class"])])])])])],2)])}const Et=S(ft,[["render",xt]]),Vt={name:"NameMintWidget",data(){return{domainName:null,isMinter:!1,loadingData:!1,loadingMint:!1,paused:!0,price:null,price1char:null,price2char:null,price3char:null,price4char:null,price5char:null}},components:{ConnectWalletButton:R,SwitchChainButton:I,WaitingToast:H},mounted(){this.fetchDomainData()},computed:{balanceTooLow(){const e=be(this.balance);return Number(e)<Number(this.getNamePrice)},domainNotValid(){return this.domainName===""?{invalid:!0,message:null}:this.domainName===null?{invalid:!0,message:null}:this.domainName.includes(".")?{invalid:!0,message:"Dots not allowed"}:this.domainName.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:this.domainName.includes("%")?{invalid:!0,message:"% not allowed"}:this.domainName.includes("&")?{invalid:!0,message:"& not allowed"}:this.domainName.includes("?")?{invalid:!0,message:"? not allowed"}:this.domainName.includes("#")?{invalid:!0,message:"# not allowed"}:this.domainName.includes("/")?{invalid:!0,message:"/ not allowed"}:this.domainName.includes(",")?{invalid:!0,message:"Comma not allowed"}:this.domainName.includes("\\")||this.domainName.includes("\xAD")||this.domainName.includes("	")||this.domainName.includes("\u034F")||this.domainName.includes("\u061C")||this.domainName.includes("\u070F")||this.domainName.includes("\u115F")||this.domainName.includes("\u1160")||this.domainName.includes("\u1680")||this.domainName.includes("\u17B4")||this.domainName.includes("\u17B5")||this.domainName.includes("\u180E")||this.domainName.includes("\u2000")||this.domainName.includes("\u2001")||this.domainName.includes("\u2002")||this.domainName.includes("\u2003")||this.domainName.includes("\u2004")||this.domainName.includes("\u2005")||this.domainName.includes("\u2006")||this.domainName.includes("\u2007")||this.domainName.includes("\u2008")||this.domainName.includes("\u2009")||this.domainName.includes("\u200A")||this.domainName.includes("\u200B")||this.domainName.includes("\u200C")||this.domainName.includes("\u200D")||this.domainName.includes("\u200E")||this.domainName.includes("\u200F")||this.domainName.includes("\u202F")||this.domainName.includes("\u205F")||this.domainName.includes("\u2060")||this.domainName.includes("\u2061")||this.domainName.includes("\u2062")||this.domainName.includes("\u2063")||this.domainName.includes("\u2064")||this.domainName.includes("\u206A")||this.domainName.includes("\u206B")||this.domainName.includes("\u206C")||this.domainName.includes("\u206D")||this.domainName.includes("\u206E")||this.domainName.includes("\u206F")||this.domainName.includes("\u3000")||this.domainName.includes("\u2800")||this.domainName.includes("\u3164")||this.domainName.includes("\uFFA0")||this.domainName.includes("\u{110B1}")||this.domainName.includes("\u{1BCA0}")||this.domainName.includes("\u{1BCA1}")||this.domainName.includes("\u{1BCA2}")||this.domainName.includes("\u{1BCA3}")||this.domainName.includes("\u{1D159}")||this.domainName.includes("\u{1D173}")||this.domainName.includes("\u{1D174}")||this.domainName.includes("\u{1D175}")||this.domainName.includes("\u{1D176}")||this.domainName.includes("\u{1D177}")||this.domainName.includes("\u{1D178}")||this.domainName.includes("\u{1D179}")||this.domainName.includes("\u{1D17A}")||this.domainName.includes("\v")||this.domainName.includes("\f")||this.domainName.includes("\x85")?{invalid:!0,message:"This character is not allowed"}:{invalid:!1,message:"Domain name is valid"}},getNamePrice(){return this.$config.punkNumberOfPrices===1?this.price:this.domainName?this.domainName.match(/./gu).length===1?this.price1char:this.domainName.match(/./gu).length===2?this.price2char:this.domainName.match(/./gu).length===3?this.price3char:this.domainName.match(/./gu).length===4?this.price4char:this.domainName.match(/./gu).length>=5?this.price5char:this.price5char:this.price5char},isSupportedChain(){return this.chainId===this.$config.supportedChainId}},methods:{getDomainName:L,async fetchDomainData(){this.loadingData=!0,this.isMinter=this.$config.punkMinterAddress!=="";const e=new A(["function buyingEnabled() view returns (bool)","function paused() view returns (bool)","function price() view returns (uint256)","function price1char() view returns (uint256)","function price2char() view returns (uint256)","function price3char() view returns (uint256)","function price4char() view returns (uint256)","function price5char() view returns (uint256)","function referral() view returns (uint256)","function referralFee() view returns (uint256)"]);let i;this.isMinter?i=this.$config.punkMinterAddress:i=this.$config.punkTldAddress;let o=this.$getFallbackProvider(this.$config.supportedChainId);const s=new D(i,e,o);this.isMinter?this.paused=await s.paused():this.paused=!await s.buyingEnabled(),this.$config.punkNumberOfPrices===1?this.price=C(await s.price(),this.$config.tokenDecimals):this.$config.punkNumberOfPrices===5&&(this.price1char=C(await s.price1char(),this.$config.tokenDecimals),this.price2char=C(await s.price2char(),this.$config.tokenDecimals),this.price3char=C(await s.price3char(),this.$config.tokenDecimals),this.price4char=C(await s.price4char(),this.$config.tokenDecimals),this.price5char=C(await s.price5char(),this.$config.tokenDecimals)),this.isMinter?this.referralFee=await s.referralFee():this.referralFee=await s.referral(),this.loadingData=!1},async fetchUserDomain(){if(this.isActivated){let e;if(this.signer)e=await this.getDomainName(this.address,this.signer);else{const i=this.$getFallbackProvider(this.$config.supportedChainId);e=await this.getDomainName(this.address,i)}e?(this.userStore.setDefaultDomain(e+this.$config.tldName),G(window,this.address,e+this.$config.tldName)):this.userStore.setDefaultDomain(null)}},async mintName(){if(this.loadingMint=!0,this.isActivated&&!this.domainNotValid.invalid){const e=new A(["function getDomainHolder(string) view returns (address)"]);if(await new D(this.$config.punkTldAddress,e,this.signer).getDomainHolder(this.domainName.toLowerCase())!==X){this.toast("This name is already taken",{type:"error"}),this.loadingMint=!1;return}try{const s=new A(["function mint(string memory _domainName, address _domainHolder, address _referrer) external payable returns(uint256)"]);let r;this.isMinter?r=this.$config.punkMinterAddress:r=this.$config.punkTldAddress;const m=await new D(r,s,this.signer).mint(this.domainName.toLowerCase(),this.address,$e(window),{value:_e(this.getNamePrice,this.$config.tokenDecimals)}),h=this.toast({component:H,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+m.hash,"_blank").focus()}),u=await m.wait();u.status===1?(this.toast.dismiss(h),this.fetchUserDomain(),this.toast("You have successfully minted a name!",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+m.hash,"_blank").focus()}),this.loadingMint=!1):(this.toast.dismiss(h),this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+m.hash,"_blank").focus()}),this.loadingMint=!1,console.log(u))}catch(s){console.log("error: "+s),this.toast("Error: "+s,{type:"error"}),this.loadingMint=!1;return}}}},setup(){const{address:e,balance:i,chainId:o,isActivated:s,signer:r}=$(),a=z(),m=T();return{address:e,balance:i,chainId:o,isActivated:s,signer:r,toast:a,userStore:m}}},jt={class:"card m-2 bg-light"},Ht={class:"card-header bg-light"},Ot={class:"card-body sidebar-card-body"},zt={class:"input-group mb-3"},qt={class:"input-group-text",id:"mint-name"},Gt={key:0,class:"text-danger"},Yt=t("i",{class:"bi bi-exclamation-octagon"},null,-1),Jt={class:"text-center"},Zt=["disabled"],Kt={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Qt={key:1},Xt={key:2};function ei(e,i,o,s,r,a){const m=g("ConnectWalletButton"),h=g("SwitchChainButton");return n(),d("div",jt,[t("div",Ht,"Get a "+b(e.$config.tldName)+" name",1),t("div",Ot,[t("p",null,"Get yourself a "+b(e.$config.tldName)+" username and start chatting with other community members.",1),t("div",zt,[U(t("input",{type:"text",class:"form-control text-end",placeholder:"enter name","aria-describedby":"mint-name","onUpdate:modelValue":i[0]||(i[0]=u=>r.domainName=u)},null,512),[[P,r.domainName]]),t("span",qt,b(e.$config.tldName),1)]),a.domainNotValid.invalid&&a.domainNotValid.message?(n(),d("p",Gt,[t("small",null,[Yt,f(" "+b(a.domainNotValid.message),1)])])):l("",!0),t("p",null,"Minting price: "+b(a.getNamePrice)+" "+b(e.$config.tokenSymbol),1),t("div",Jt,[s.isActivated&&a.isSupportedChain?(n(),d("button",{key:0,class:"btn btn-outline-primary mt-2 mb-2",disabled:r.paused||a.domainNotValid.invalid||a.balanceTooLow},[r.loadingMint||r.loadingData?(n(),d("span",Kt)):l("",!0),r.loadingData?(n(),d("span",Qt,"Loading data...")):l("",!0),!r.loadingMint&&!r.loadingData&&a.balanceTooLow?(n(),d("span",Xt,"Balance too low")):l("",!0),!r.loadingMint&&!r.loadingData&&!a.balanceTooLow?(n(),d("span",{key:3,onClick:i[1]||(i[1]=(...u)=>a.mintName&&a.mintName(...u))},"Mint username")):l("",!0)],8,Zt)):l("",!0),s.isActivated?l("",!0):(n(),w(m,{key:1,class:"btn btn-outline-primary mt-2 mb-2",btnText:"Connect Wallet"})),s.isActivated&&!a.isSupportedChain?(n(),w(h,{key:2})):l("",!0)])])])}const ti=S(Vt,[["render",ei]]),ii={name:"SimpleSwapWidget",props:["poweredBy","routerAddress","title","tokens"],components:{SimpleSwap:Me}},si={class:"card m-2 bg-light"},ai={class:"card-header bg-light"},ni={class:"card-body sidebar-card-body"};function oi(e,i,o,s,r,a){const m=g("SimpleSwap");return n(),d("div",si,[t("div",ai,b(o.title),1),t("div",ni,[c(m,{class:"mt-3",routerAddress:o.routerAddress,swapId:"SidebarRight1",tokens:o.tokens,poweredBy:o.poweredBy},null,8,["routerAddress","tokens","poweredBy"])])])}const ri=S(ii,[["render",oi]]),di={name:"ReferralWidget",components:{ShareReferralLink:te}},li={class:"card m-2 bg-light"},ci=t("div",{class:"card-header bg-light"},"Your referral link \u{1F911}",-1),mi={class:"card-body sidebar-card-body"},hi=t("p",null,"Share your referral link and earn referral fees!",-1);function ui(e,i,o,s,r,a){const m=g("ShareReferralLink");return n(),d("div",li,[ci,t("div",mi,[hi,c(m)])])}const fi=S(di,[["render",ui]]),gi={name:"SidebarRight",props:["rSidebar","isMobile"],components:{ConnectWalletButton:R,NameMintWidget:ti,ReferralWidget:fi,SimpleSwapWidget:ri,SwitchChainButton:I},computed:{isSupportedChain(){return this.chainId===this.$config.supportedChainId}},methods:{closeRightSidebar(){this.isMobile&&(this.sidebarStore.setRightSidebar(!1),this.sidebarStore.setMainContent(!0))},deleteBrowserStorage(){window.localStorage.clear(),window.sessionStorage.clear(),window.location.reload()}},setup(){const{chainId:e,disconnect:i,isActivated:o}=$(),s=F();return{chainId:e,disconnect:i,isActivated:o,sidebarStore:s,tokens:ye}}},pi={class:"col-auto col-lg-3 px-0 mt-1"},bi={id:"sidebar-nav",class:"list-group border-0 rounded-0 text-sm-start min-vh-100"},_i={key:0,class:"card m-2 bg-light"},vi={class:"card-body sidebar-card-body text-center mt-4"},wi={class:"dropdown mt-2"},Si=t("button",{class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Actions ",-1),ki={class:"dropdown-menu"},Ni={key:1,class:"card m-2 bg-light"},yi={class:"card-header bg-light"},$i={class:"card-body sidebar-card-body"},Ci=["src"],Mi={key:3,class:"card m-2 bg-light"},Ai={class:"card-header bg-light"},Di={class:"card-body sidebar-card-body"},Li=["href"],Ui=t("i",{class:"bi bi-box-arrow-up-right ms-1"},null,-1);function Ti(e,i,o,s,r,a){const m=g("ConnectWalletButton"),h=g("SwitchChainButton"),u=g("NameMintWidget"),_=g("ReferralWidget"),M=g("SimpleSwapWidget");return n(),d("div",pi,[t("div",{id:"sidebar2",class:v(["collapse collapse-horizontal",{show:s.sidebarStore.showRightSidebar}])},[t("div",bi,[o.isMobile?(n(),d("div",_i,[t("div",vi,[s.isActivated?l("",!0):(n(),w(m,{key:0,class:"btn btn-primary",btnText:"Connect wallet"})),s.isActivated&&!a.isSupportedChain?(n(),w(h,{key:1})):l("",!0),t("div",wi,[Si,t("ul",ki,[t("li",null,[s.isActivated?(n(),d("button",{key:0,class:"dropdown-item",onClick:i[0]||(i[0]=(...y)=>s.disconnect&&s.disconnect(...y))},"Disconnect wallet")):l("",!0)]),t("li",null,[t("button",{class:"dropdown-item",onClick:i[1]||(i[1]=(...y)=>a.deleteBrowserStorage&&a.deleteBrowserStorage(...y))},"Delete browser storage")])])])])])):l("",!0),c(u),c(_),e.$config.showFeatures.spotify?(n(),d("div",Ni,[t("div",yi,b(e.$config.projectName)+" Playlist",1),t("div",$i,[t("iframe",{style:{"border-radius":"12px"},src:"https://open.spotify.com/embed/playlist/"+e.$config.spotifyPlaylistId+"?utm_source=generator&theme=0",width:"100%",height:"352",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"},null,8,Ci)])])):l("",!0),e.$config.swapRouterAddress&&e.$config.showFeatures.swap?(n(),w(M,{key:2,routerAddress:e.$config.swapRouterAddress,tokens:s.tokens,title:"Swap tokens"},null,8,["routerAddress","tokens"])):l("",!0),e.$config.newsletterLink&&e.$config.showFeatures.newsletter?(n(),d("div",Mi,[t("div",Ai,b(e.$config.projectName)+" Newsletter",1),t("div",Di,[t("a",{class:"btn btn-outline-primary mt-2 mb-2",target:"_blank",href:e.$config.newsletterLink},[f(" Join our newsletter! "),Ui],8,Li)])])):l("",!0)])],2)])}const Bi=S(gi,[["render",Ti]]),Wi={name:"ChatSettingsModal",computed:{slippage:{get(){return this.siteStore.getSlippage},set(e){this.siteStore.setSlippage(e)}},deadline:{get(){return this.siteStore.getSwapDeadline},set(e){this.siteStore.setSwapDeadline(e)}}},setup(){return{siteStore:q()}}},Pi={class:"modal fade",id:"chatSettingsModal",tabindex:"-1","aria-labelledby":"chatSettingsModalLabel","aria-hidden":"true"},Ri={class:"modal-dialog"},Ii={class:"modal-content"},Fi=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"chatSettingsModalLabel"},"Settings"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),xi={class:"modal-body"},Ei=t("p",null,[t("strong",null,"Swap")],-1),Vi={class:"row"},ji={class:"col-sm-6 mb-2"},Hi={class:"input-group flex-nowrap"},Oi=t("span",{class:"input-group-text",id:"addon-wrapping"},"Slippage",-1),zi=t("span",{class:"input-group-text",id:"addon-wrapping"},"%",-1),qi={class:"col-sm-6 mb-2"},Gi={class:"input-group flex-nowrap"},Yi=t("span",{class:"input-group-text",id:"addon-wrapping"},"Deadline",-1),Ji=t("span",{class:"input-group-text",id:"addon-wrapping"},"min",-1);function Zi(e,i,o,s,r,a){return n(),d("div",Pi,[t("div",Ri,[t("div",Ii,[Fi,t("div",xi,[Ei,t("div",Vi,[t("div",ji,[t("div",Hi,[Oi,U(t("input",{type:"text",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=m=>a.slippage=m),"aria-describedby":"addon-wrapping"},null,512),[[P,a.slippage]]),zi])]),t("div",qi,[t("div",Gi,[Yi,U(t("input",{"onUpdate:modelValue":i[1]||(i[1]=m=>a.deadline=m),type:"text",class:"form-control","aria-describedby":"addon-wrapping"},null,512),[[P,a.deadline]]),Ji])])])])])])])}const Ki=S(Wi,[["render",Zi]]),Qi={name:"ReferralModal",components:{ShareReferralLink:te}},Xi={class:"modal fade",id:"referralModal",tabindex:"-1","aria-labelledby":"referralModalLabel","aria-hidden":"true"},es={class:"modal-dialog"},ts={class:"modal-content"},is=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"referralModalLabel"},"Share referral link"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ss={class:"modal-body"},as={key:0},ns=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1);function os(e,i,o,s,r,a){const m=g("ShareReferralLink");return n(),d("div",Xi,[t("div",es,[t("div",ts,[is,t("div",ss,[t("p",null,[f(" Share your referral link and earn referral fees"),e.$config.showFeatures.activityPoints?(n(),d("span",as," (and activity points)")):l("",!0),f("! \u{1F911} ")]),c(m)]),ns])])])}const rs=S(Qi,[["render",os]]),ds={name:"ChangeUsernameModal",data(){return{domainName:null,loading:!1}},computed:{domainNotValid(){return this.domainName===""?{invalid:!0,message:null}:this.domainName===null?{invalid:!0,message:null}:this.domainName.includes(".")?{invalid:!0,message:"Dots not allowed"}:this.domainName.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:this.domainName.includes("%")?{invalid:!0,message:"% not allowed"}:this.domainName.includes("&")?{invalid:!0,message:"& not allowed"}:this.domainName.includes("?")?{invalid:!0,message:"? not allowed"}:this.domainName.includes("#")?{invalid:!0,message:"# not allowed"}:this.domainName.includes("/")?{invalid:!0,message:"/ not allowed"}:this.domainName.includes(",")?{invalid:!0,message:"Comma not allowed"}:this.domainName.includes("\\")||this.domainName.includes("\xAD")||this.domainName.includes("	")||this.domainName.includes("\u034F")||this.domainName.includes("\u061C")||this.domainName.includes("\u070F")||this.domainName.includes("\u115F")||this.domainName.includes("\u1160")||this.domainName.includes("\u1680")||this.domainName.includes("\u17B4")||this.domainName.includes("\u17B5")||this.domainName.includes("\u180E")||this.domainName.includes("\u2000")||this.domainName.includes("\u2001")||this.domainName.includes("\u2002")||this.domainName.includes("\u2003")||this.domainName.includes("\u2004")||this.domainName.includes("\u2005")||this.domainName.includes("\u2006")||this.domainName.includes("\u2007")||this.domainName.includes("\u2008")||this.domainName.includes("\u2009")||this.domainName.includes("\u200A")||this.domainName.includes("\u200B")||this.domainName.includes("\u200C")||this.domainName.includes("\u200D")||this.domainName.includes("\u200E")||this.domainName.includes("\u200F")||this.domainName.includes("\u202F")||this.domainName.includes("\u205F")||this.domainName.includes("\u2060")||this.domainName.includes("\u2061")||this.domainName.includes("\u2062")||this.domainName.includes("\u2063")||this.domainName.includes("\u2064")||this.domainName.includes("\u206A")||this.domainName.includes("\u206B")||this.domainName.includes("\u206C")||this.domainName.includes("\u206D")||this.domainName.includes("\u206E")||this.domainName.includes("\u206F")||this.domainName.includes("\u3000")||this.domainName.includes("\u2800")||this.domainName.includes("\u3164")||this.domainName.includes("\uFFA0")||this.domainName.includes("\u{110B1}")||this.domainName.includes("\u{1BCA0}")||this.domainName.includes("\u{1BCA1}")||this.domainName.includes("\u{1BCA2}")||this.domainName.includes("\u{1BCA3}")||this.domainName.includes("\u{1D159}")||this.domainName.includes("\u{1D173}")||this.domainName.includes("\u{1D174}")||this.domainName.includes("\u{1D175}")||this.domainName.includes("\u{1D176}")||this.domainName.includes("\u{1D177}")||this.domainName.includes("\u{1D178}")||this.domainName.includes("\u{1D179}")||this.domainName.includes("\u{1D17A}")||this.domainName.includes("\v")||this.domainName.includes("\f")||this.domainName.includes("\x85")?{invalid:!0,message:"This character is not allowed"}:{invalid:!1,message:"Domain name is valid"}}},methods:{getDomainName:L,async changeUsername(){if(this.loading=!0,this.isActivated&&!this.domainNotValid.invalid){const e=new A(["function editDefaultDomain(string calldata _domainName) external"]),i=new D(this.$config.punkTldAddress,e,this.signer);try{const o=await i.editDefaultDomain(this.domainName.toLowerCase()),s=this.toast({component:H,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),r=await o.wait();r.status===1?(this.toast.dismiss(s),this.fetchUserDomain(),this.toast("You have successfully changed your username!",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.loading=!1,document.getElementById("closeChangeUsernameModal").click()):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.loading=!1,console.log(r))}catch(o){console.log("error: "+o),this.toast("Error: "+o,{type:"error"}),this.loading=!1;return}}},async fetchUserDomain(){if(this.isActivated){let e;if(this.signer)e=await this.getDomainName(this.address,this.signer);else{const i=this.$getFallbackProvider(this.$config.supportedChainId);e=await this.getDomainName(this.address,i)}e?(this.userStore.setDefaultDomain(e+this.$config.tldName),G(window,this.address,e+this.$config.tldName)):this.userStore.setDefaultDomain(null)}}},setup(){const{address:e,isActivated:i,signer:o}=$(),s=z(),r=T();return{address:e,isActivated:i,signer:o,toast:s,userStore:r}}},ls={class:"modal fade",id:"changeUsernameModal",tabindex:"-1","aria-labelledby":"changeUsernameModalLabel","aria-hidden":"true"},cs={class:"modal-dialog"},ms={class:"modal-content"},hs=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"changeUsernameModalLabel"},"Change your username"),t("button",{id:"closeChangeUsernameModal",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),us={class:"modal-body"},fs=t("p",null,"Enter your new main username (you must own it):",-1),gs={class:"input-group mb-3"},ps={class:"input-group-text"},bs={key:0,class:"text-danger"},_s=t("i",{class:"bi bi-exclamation-octagon"},null,-1),vs={class:"modal-footer"},ws=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Ss=["disabled"],ks={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Ns(e,i,o,s,r,a){return n(),d("div",ls,[t("div",cs,[t("div",ms,[hs,t("div",us,[fs,t("div",gs,[U(t("input",{type:"text",class:"form-control text-end",placeholder:"enter name","onUpdate:modelValue":i[0]||(i[0]=m=>r.domainName=m)},null,512),[[P,r.domainName]]),t("span",ps,b(e.$config.tldName),1)]),a.domainNotValid.invalid&&a.domainNotValid.message?(n(),d("p",bs,[t("small",null,[_s,f(" "+b(a.domainNotValid.message),1)])])):l("",!0)]),t("div",vs,[ws,t("button",{type:"button",disabled:r.loading||a.domainNotValid.invalid,class:"btn btn-primary",onClick:i[1]||(i[1]=(...m)=>a.changeUsername&&a.changeUsername(...m))},[r.loading?(n(),d("span",ks)):l("",!0),f(" Submit ")],8,Ss)])])])])}const ys=S(ds,[["render",Ns]]),$s={name:"FindUserModal",components:{FindUser:Ae},methods:{closeModal(){document.getElementById("closeFindUserModal").click()}}},Cs={class:"modal fade",id:"findUserModal",tabindex:"-1","aria-labelledby":"findUserModalLabel","aria-hidden":"true"},Ms={class:"modal-dialog"},As={class:"modal-content"},Ds=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"findUserModalLabel"},"Find user"),t("button",{id:"closeFindUserModal",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ls={class:"modal-body"},Us=t("p",null,"Find user by their domain name:",-1);function Ts(e,i,o,s,r,a){const m=g("FindUser");return n(),d("div",Cs,[t("div",Ms,[t("div",As,[Ds,t("div",Ls,[Us,c(m,{onCloseModal:a.closeModal},null,8,["onCloseModal"])])])])])}const Bs=S($s,[["render",Ts]]);const Ws={data(){return{breakpoint:1e3,isMounted:!1,lSidebar:null,referrer:null,rSidebar:null,width:null}},components:{ChangeUsernameModal:ys,ChatSettingsModal:Ki,FindUserModal:Bs,NavbarDesktop:tt,NavbarMobile:ut,ReferralModal:rs,SidebarLeft:Et,SidebarRight:Bi,VueDappModal:we},mounted(){this.isMounted=!0,document.documentElement.setAttribute("data-bs-theme",this.siteStore.getColorMode),this.lSidebar=new bootstrap.Collapse("#sidebar1",{toggle:!1}),this.rSidebar=new bootstrap.Collapse("#sidebar2",{toggle:!1}),this.width=window.innerWidth,this.width<this.breakpoint?(this.sidebarStore.setLeftSidebar(!1),this.sidebarStore.setRightSidebar(!1),this.lSidebar.hide(),this.rSidebar.hide()):(this.lSidebar.show(),this.sidebarStore.setLeftSidebar(!0),this.sidebarStore.setRightSidebar(!0)),window.addEventListener("resize",this.onWidthChange),this.isActivated||(localStorage.getItem("connected")=="metamask"?this.connectMetaMask():localStorage.getItem("connected")=="coinbase"&&this.connectCoinbase()),new bootstrap.Popover(document.body,{selector:"[data-bs-toggle='popover']"}),this.fetchArweaveBalance(),this.siteStore.setFileUploadEnabled(this.$config.fileUploadEnabled),this.referrer=this.$route.query.ref,this.referrer&&this.parseReferrer()},unmounted(){window.removeEventListener("resize",onWidthChange)},computed:{isMobile(){return this.width<this.breakpoint}},methods:{getActivityPoints:j,getDomainHolder:ke,getDomainName:L,async connectCoinbase(){await this.connectTo("BrowserWallet",{target:"rdns",rdns:K.coinbase}),localStorage.setItem("connected","coinbase"),document.getElementById("closeConnectModal").click()},async connectMetaMask(){await this.connectTo("BrowserWallet",{target:"rdns",rdns:K.metamask}),localStorage.setItem("connected","metamask"),document.getElementById("closeConnectModal").click()},async fetchActivityPoints(){if(this.$config.activityPointsAddress){const e=await this.getActivityPoints(this.address,this.signer);this.userStore.setCurrentUserActivityPoints(e)}},async fetchArweaveBalance(){if(this.$config.arweaveAddress){const e=await Ne(this.$config.arweaveAddress);this.siteStore.setArweaveBalance(e)}},onWidthChange(){this.width=window.innerWidth},async parseReferrer(){if(!this.referrer.startsWith("0x")){let e=this.referrer;this.referrer.includes(this.$config.tldName)&&(e=this.referrer.split(".")[0]);const i=this.$getFallbackProvider(this.$config.supportedChainId);this.referrer=await this.getDomainHolder(e,i)}this.address&&String(this.address).toLowerCase()===String(this.referrer).toLowerCase()||ce(this.referrer)&&this.referrer!=X&&Ce(window,this.referrer)}},setup(){me();const e=F(),i=q(),o=T(),{address:s,chainId:r,isActivated:a,signer:m,setWallet:h,resetWallet:u,addConnectors:_,connectTo:M,watchWalletChanged:y,watchDisconnect:x,watchAddressChanged:Y,fetchBalance:E}=$();_([new ve]);const{$config:N,$getFallbackProvider:V}=he();y(async k=>{h(k.provider),await E(),B()}),x(()=>{u(),console.log("user disconnected"),localStorage.setItem("connected","")});async function B(){if(r.value===N.supportedChainId&&s.value!=o.getCurrentUserAddress){o.setCurrentUserAddress(s.value);let k;if(m.value)k=await L(s.value,m.value);else{const Z=V(N.supportedChainId);k=await L(s.value,Z)}k?(o.setDefaultDomain(k+N.tldName),G(window,s.value,k+N.tldName)):o.setDefaultDomain(null),W(),J()}}async function W(){if(N.activityPointsAddress){const k=await j(s.value,m.value);o.setCurrentUserActivityPoints(k)}}async function J(){if(N.chatTokenAddress){const k=new A(["function balanceOf(address owner) view returns (uint256)"]),se=await new D(N.chatTokenAddress,k,m.value).balanceOf(s.value);o.setChatTokenBalanceWei(se)}}return{address:s,chainId:r,connectTo:M,isActivated:a,signer:m,sidebarStore:e,siteStore:i,userStore:o,fetchUserDomain:B,fetchActivityPoints:W,fetchChatTokenBalance:J}},watch:{width(e,i){e>this.breakpoint?(this.lSidebar.show(),this.rSidebar.show(),this.sidebarStore.setLeftSidebar(!0),this.sidebarStore.setMainContent(!0),this.sidebarStore.setRightSidebar(!0)):(this.lSidebar.hide(),this.rSidebar.hide(),this.sidebarStore.setLeftSidebar(!1),this.sidebarStore.setMainContent(!0),this.sidebarStore.setRightSidebar(!1))}}},Ps={class:"container-fluid page-container"},Rs={class:"row flex-nowrap"},Is={class:"col col-lg-4 ps-md-2 pt-2 main-containter"};function Fs(e,i,o,s,r,a){const m=ne,h=oe,u=re,_=ae,M=g("NavbarDesktop"),y=g("NavbarMobile"),x=g("SidebarLeft"),Y=g("SidebarRight"),E=g("VueDappModal"),N=g("ChatSettingsModal"),V=g("ChangeUsernameModal"),B=g("FindUserModal"),W=g("ReferralModal");return n(),d(Q,null,[c(_,null,{default:p(()=>[c(m,null,{default:p(()=>[f(b(e.$config.projectMetadataTitle),1)]),_:1}),c(h,{name:"description",content:e.$config.projectDescription},null,8,["content"]),c(u,{rel:"icon",type:"image/x-icon",href:e.$config.favicon},null,8,["href"]),c(h,{property:"og:title",content:e.$config.projectMetadataTitle},null,8,["content"]),c(h,{property:"og:description",content:e.$config.projectDescription},null,8,["content"]),c(h,{property:"og:image",content:e.$config.projectUrl+e.$config.previewImage},null,8,["content"]),c(h,{name:"twitter:card",content:"summary_large_image"}),c(h,{name:"twitter:site",content:e.$config.projectTwitter},null,8,["content"]),c(h,{name:"twitter:creator",content:e.$config.projectTwitter},null,8,["content"]),c(h,{name:"twitter:title",content:e.$config.projectMetadataTitle},null,8,["content"]),c(h,{name:"twitter:description",content:e.$config.projectDescription},null,8,["content"]),c(h,{name:"twitter:image",content:e.$config.projectUrl+e.$config.previewImage},null,8,["content"])]),_:1}),a.isMobile?l("",!0):(n(),w(M,{key:0})),a.isMobile?(n(),w(y,{key:1,lSidebar:r.lSidebar,rSidebar:r.rSidebar},null,8,["lSidebar","rSidebar"])):l("",!0),t("div",Ps,[t("div",Rs,[c(x,{lSidebar:r.lSidebar,isMobile:a.isMobile},null,8,["lSidebar","isMobile"]),U(t("main",Is,[fe(e.$slots,"default")],512),[[ue,s.sidebarStore.showMainContent]]),c(Y,{rSidebar:r.rSidebar,isMobile:a.isMobile},null,8,["rSidebar","isMobile"])])]),c(E,{dark:s.siteStore.getColorMode==="dark","auto-connect":"","auto-connect-browser-wallet-if-solo":""},null,8,["dark"]),c(N),c(V),c(B),c(W),(n(),w(ge("script"),null,{default:p(()=>[f(" var global = global || window; ")]),_:1}))],64)}const ia=S(Ws,[["render",Fs]]);export{ia as default};
