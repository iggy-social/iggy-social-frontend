import{u as wt}from"./site.48552244.js";import{O as Be,M as g,N as gt,a as Le,o as N,b as U,f as S,y as G,i as St,z as se,t as ae,F as _t,e as Pt,v as Rt,x as Ot,D as Ct}from"./entry.0d19a7a1.js";var Me={},ve={};function ze(t,e){return function(){return t.apply(e,arguments)}}const{toString:xe}=Object.prototype,{getPrototypeOf:Ee}=Object,be=(t=>e=>{const n=xe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),C=t=>(t=t.toLowerCase(),e=>be(e)===t),X=t=>e=>typeof e===t,{isArray:V}=Array,ue=X("undefined");function Nt(t){return t!==null&&!ue(t)&&t.constructor!==null&&!ue(t.constructor)&&F(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ge=C("ArrayBuffer");function Ut(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ge(t.buffer),e}const It=X("string"),F=X("function"),He=X("number"),Ke=t=>t!==null&&typeof t=="object",Dt=t=>t===!0||t===!1,Y=t=>{if(be(t)!=="object")return!1;const e=Ee(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kt=C("Date"),$t=C("File"),jt=C("Blob"),Ft=C("FileList"),qt=t=>Ke(t)&&F(t.pipe),Bt=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||xe.call(t)===e||F(t.toString)&&t.toString()===e)},Lt=C("URLSearchParams"),Mt=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Z(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),V(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let u;for(r=0;r<s;r++)u=o[r],e.call(null,t[u],u,t)}}function ce(){const t={},e=(n,r)=>{Y(t[r])&&Y(n)?t[r]=ce(t[r],n):Y(n)?t[r]=ce({},n):V(n)?t[r]=n.slice():t[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Z(arguments[n],e);return t}const zt=(t,e,n,{allOwnKeys:r}={})=>(Z(e,(i,o)=>{n&&F(i)?t[o]=ze(i,n):t[o]=i},{allOwnKeys:r}),t),xt=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gt=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ht=(t,e,n,r)=>{let i,o,s;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!u[s]&&(e[s]=t[s],u[s]=!0);t=n!==!1&&Ee(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Kt=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Vt=t=>{if(!t)return null;if(V(t))return t;let e=t.length;if(!He(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Jt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ee(Uint8Array)),Wt=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Yt=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Qt=C("HTMLFormElement"),Xt=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),_e=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Zt=C("RegExp"),Ve=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Z(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},en=t=>{Ve(t,(e,n)=>{const r=t[n];if(!!F(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},tn=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return V(t)?r(t):r(String(t).split(e)),n},nn=()=>{},rn=(t,e)=>(t=+t,Number.isFinite(t)?t:e),c={isArray:V,isArrayBuffer:Ge,isBuffer:Nt,isFormData:Bt,isArrayBufferView:Ut,isString:It,isNumber:He,isBoolean:Dt,isObject:Ke,isPlainObject:Y,isUndefined:ue,isDate:kt,isFile:$t,isBlob:jt,isRegExp:Zt,isFunction:F,isStream:qt,isURLSearchParams:Lt,isTypedArray:Jt,isFileList:Ft,forEach:Z,merge:ce,extend:zt,trim:Mt,stripBOM:xt,inherits:Gt,toFlatObject:Ht,kindOf:be,kindOfTest:C,endsWith:Kt,toArray:Vt,forEachEntry:Wt,matchAll:Yt,isHTMLForm:Qt,hasOwnProperty:_e,hasOwnProp:_e,reduceDescriptors:Ve,freezeMethods:en,toObjectSet:tn,toCamelCase:Xt,noop:nn,toFiniteNumber:rn};function A(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}c.inherits(A,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Je=A.prototype,We={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{We[t]={value:t}});Object.defineProperties(A,We);Object.defineProperty(Je,"isAxiosError",{value:!0});A.from=(t,e,n,r,i,o)=>{const s=Object.create(Je);return c.toFlatObject(t,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),A.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var Ye=typeof self=="object"?self.FormData:window.FormData;function le(t){return c.isPlainObject(t)||c.isArray(t)}function Qe(t){return c.endsWith(t,"[]")?t.slice(0,-2):t}function Pe(t,e,n){return t?t.concat(e).map(function(i,o){return i=Qe(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function on(t){return c.isArray(t)&&!t.some(le)}const sn=c.toFlatObject(c,{},null,function(e){return/^is[A-Z]/.test(e)});function an(t){return t&&c.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function ee(t,e,n){if(!c.isObject(t))throw new TypeError("target must be an object");e=e||new(Ye||FormData),n=c.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,T){return!c.isUndefined(T[b])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,s=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&an(e);if(!c.isFunction(i))throw new TypeError("visitor must be a function");function a(m){if(m===null)return"";if(c.isDate(m))return m.toISOString();if(!d&&c.isBlob(m))throw new A("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(m)||c.isTypedArray(m)?d&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function h(m,b,T){let w=m;if(m&&!T&&typeof m=="object"){if(c.endsWith(b,"{}"))b=r?b:b.slice(0,-2),m=JSON.stringify(m);else if(c.isArray(m)&&on(m)||c.isFileList(m)||c.endsWith(b,"[]")&&(w=c.toArray(m)))return b=Qe(b),w.forEach(function(B,Tt){!c.isUndefined(B)&&e.append(s===!0?Pe([b],Tt,o):s===null?b:b+"[]",a(B))}),!1}return le(m)?!0:(e.append(Pe(T,b,o),a(m)),!1)}const y=[],E=Object.assign(sn,{defaultVisitor:h,convertValue:a,isVisitable:le});function v(m,b){if(!c.isUndefined(m)){if(y.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(m),c.forEach(m,function(w,l){(!c.isUndefined(w)&&i.call(e,w,c.isString(l)?l.trim():l,b,E))===!0&&v(w,b?b.concat(l):[l])}),y.pop()}}if(!c.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Re(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ae(t,e){this._pairs=[],t&&ee(t,this,e)}const Xe=Ae.prototype;Xe.append=function(e,n){this._pairs.push([e,n])};Xe.toString=function(e){const n=e?function(r){return e.call(this,r,Re)}:Re;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function un(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ze(t,e,n){if(!e)return t;const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r));const i=n&&n.encode||un,o=c.isURLSearchParams(e)?e.toString():new Ae(e,n).toString(i);return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}class Oe{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){c.forEach(this.handlers,function(r){r!==null&&e(r)})}}const et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cn=typeof URLSearchParams<"u"?URLSearchParams:Ae,ln=FormData,dn=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),O={isBrowser:!0,classes:{URLSearchParams:cn,FormData:ln,Blob},isStandardBrowserEnv:dn,protocols:["http","https","file","blob","url","data"]};function pn(t,e){return ee(t,new O.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return O.isNode&&c.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function fn(t){return c.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hn(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function tt(t){function e(n,r,i,o){let s=n[o++];const u=Number.isFinite(+s),d=o>=n.length;return s=!s&&c.isArray(i)?i.length:s,d?(c.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!u):((!i[s]||!c.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&c.isArray(i[s])&&(i[s]=hn(i[s])),!u)}if(c.isFormData(t)&&c.isFunction(t.entries)){const n={};return c.forEachEntry(t,(r,i)=>{e(fn(r),i,n,0)}),n}return null}function mn(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new A("Request failed with status code "+n.status,[A.ERR_BAD_REQUEST,A.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const yn=O.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,u){const d=[];d.push(n+"="+encodeURIComponent(r)),c.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),c.isString(o)&&d.push("path="+o),c.isString(s)&&d.push("domain="+s),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function vn(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function En(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function nt(t,e){return t&&!vn(e)?En(t,e):e}const bn=O.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const u=c.isString(s)?i(s):s;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}();function J(t,e,n){A.call(this,t??"canceled",A.ERR_CANCELED,e,n),this.name="CanceledError"}c.inherits(J,A,{__CANCEL__:!0});function An(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const Tn=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wn=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Tn[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ce=Symbol("internals"),rt=Symbol("defaults");function z(t){return t&&String(t).trim().toLowerCase()}function W(t){return t===!1||t==null?t:String(t)}function gn(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function Ne(t,e,n,r){if(c.isFunction(r))return r.call(this,e,n);if(!!c.isString(e)){if(c.isString(r))return e.indexOf(r)!==-1;if(c.isRegExp(r))return r.test(e)}}function Sn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function _n(t,e){const n=c.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}function L(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}function R(t,e){t&&this.set(t),this[rt]=e||null}Object.assign(R.prototype,{set:function(t,e,n){const r=this;function i(o,s,u){const d=z(s);if(!d)throw new Error("header name must be a non-empty string");const a=L(r,d);a&&u!==!0&&(r[a]===!1||u===!1)||(c.isArray(o)?o=o.map(W):o=W(o),r[a||s]=o)}return c.isPlainObject(t)?c.forEach(t,(o,s)=>{i(o,s,e)}):i(e,t,n),this},get:function(t,e){if(t=z(t),!t)return;const n=L(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return gn(r);if(c.isFunction(e))return e.call(this,r,n);if(c.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=z(t),t){const n=L(this,t);return!!(n&&(!e||Ne(this,this[n],n,e)))}return!1},delete:function(t,e){const n=this;let r=!1;function i(o){if(o=z(o),o){const s=L(n,o);s&&(!e||Ne(n,n[s],s,e))&&(delete n[s],r=!0)}}return c.isArray(t)?t.forEach(i):i(t),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,n={};return c.forEach(this,(r,i)=>{const o=L(n,i);if(o){e[o]=W(r),delete e[i];return}const s=t?Sn(i):String(i).trim();s!==i&&delete e[i],e[s]=W(r),n[s]=!0}),this},toJSON:function(){const t=Object.create(null);return c.forEach(Object.assign({},this[rt]||null,this),(e,n)=>{e==null||e===!1||(t[n]=c.isArray(e)?e.join(", "):e)}),t}});Object.assign(R,{from:function(t){return c.isString(t)?new this(wn(t)):t instanceof this?t:new this(t)},accessor:function(t){const n=(this[Ce]=this[Ce]={accessors:{}}).accessors,r=this.prototype;function i(o){const s=z(o);n[s]||(_n(r,o),n[s]=!0)}return c.isArray(t)?t.forEach(i):i(t),this}});R.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);c.freezeMethods(R.prototype);c.freezeMethods(R);function Pn(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(d){const a=Date.now(),h=r[o];s||(s=a),n[i]=d,r[i]=a;let y=o,E=0;for(;y!==i;)E+=n[y++],y=y%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),a-s<e)return;const v=h&&a-h;return v?Math.round(E*1e3/v):void 0}}function Ue(t,e){let n=0;const r=Pn(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,u=o-n,d=r(u),a=o<=s;n=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:u,rate:d||void 0,estimated:d&&s&&a?(s-o)/d:void 0};h[e?"download":"upload"]=!0,t(h)}}function Ie(t){return new Promise(function(n,r){let i=t.data;const o=R.from(t.headers).normalize(),s=t.responseType;let u;function d(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}c.isFormData(i)&&O.isStandardBrowserEnv&&o.setContentType(!1);let a=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(v+":"+m))}const h=nt(t.baseURL,t.url);a.open(t.method.toUpperCase(),Ze(h,t.params,t.paramsSerializer),!0),a.timeout=t.timeout;function y(){if(!a)return;const v=R.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:v,config:t,request:a};mn(function(w){n(w),d()},function(w){r(w),d()},b),a=null}if("onloadend"in a?a.onloadend=y:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(y)},a.onabort=function(){!a||(r(new A("Request aborted",A.ECONNABORTED,t,a)),a=null)},a.onerror=function(){r(new A("Network Error",A.ERR_NETWORK,t,a)),a=null},a.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||et;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new A(m,b.clarifyTimeoutError?A.ETIMEDOUT:A.ECONNABORTED,t,a)),a=null},O.isStandardBrowserEnv){const v=(t.withCredentials||bn(h))&&t.xsrfCookieName&&yn.read(t.xsrfCookieName);v&&o.set(t.xsrfHeaderName,v)}i===void 0&&o.setContentType(null),"setRequestHeader"in a&&c.forEach(o.toJSON(),function(m,b){a.setRequestHeader(b,m)}),c.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),s&&s!=="json"&&(a.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&a.addEventListener("progress",Ue(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",Ue(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=v=>{!a||(r(!v||v.type?new J(null,t,a):v),a.abort(),a=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const E=An(h);if(E&&O.protocols.indexOf(E)===-1){r(new A("Unsupported protocol "+E+":",A.ERR_BAD_REQUEST,t));return}a.send(i||null)})}const De={http:Ie,xhr:Ie},ke={getAdapter:t=>{if(c.isString(t)){const e=De[t];if(!t)throw Error(c.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!c.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:De},Rn={"Content-Type":"application/x-www-form-urlencoded"};function On(){let t;return typeof XMLHttpRequest<"u"?t=ke.getAdapter("xhr"):typeof process<"u"&&c.kindOf(process)==="process"&&(t=ke.getAdapter("http")),t}function Cn(t,e,n){if(c.isString(t))try{return(e||JSON.parse)(t),c.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const q={transitional:et,adapter:On(),transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=c.isObject(e);if(o&&c.isHTMLForm(e)&&(e=new FormData(e)),c.isFormData(e))return i&&i?JSON.stringify(tt(e)):e;if(c.isArrayBuffer(e)||c.isBuffer(e)||c.isStream(e)||c.isFile(e)||c.isBlob(e))return e;if(c.isArrayBufferView(e))return e.buffer;if(c.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pn(e,this.formSerializer).toString();if((u=c.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ee(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Cn(e)):e}],transformResponse:[function(e){const n=this.transitional||q.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&c.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(s)throw u.name==="SyntaxError"?A.from(u,A.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:O.classes.FormData,Blob:O.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};c.forEach(["delete","get","head"],function(e){q.headers[e]={}});c.forEach(["post","put","patch"],function(e){q.headers[e]=c.merge(Rn)});function ie(t,e){const n=this||q,r=e||n,i=R.from(r.headers);let o=r.data;return c.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function it(t){return!!(t&&t.__CANCEL__)}function oe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new J}function $e(t){return oe(t),t.headers=R.from(t.headers),t.data=ie.call(t,t.transformRequest),(t.adapter||q.adapter)(t).then(function(r){return oe(t),r.data=ie.call(t,t.transformResponse,r),r.headers=R.from(r.headers),r},function(r){return it(r)||(oe(t),r&&r.response&&(r.response.data=ie.call(t,t.transformResponse,r.response),r.response.headers=R.from(r.response.headers))),Promise.reject(r)})}function H(t,e){e=e||{};const n={};function r(a,h){return c.isPlainObject(a)&&c.isPlainObject(h)?c.merge(a,h):c.isPlainObject(h)?c.merge({},h):c.isArray(h)?h.slice():h}function i(a){if(c.isUndefined(e[a])){if(!c.isUndefined(t[a]))return r(void 0,t[a])}else return r(t[a],e[a])}function o(a){if(!c.isUndefined(e[a]))return r(void 0,e[a])}function s(a){if(c.isUndefined(e[a])){if(!c.isUndefined(t[a]))return r(void 0,t[a])}else return r(void 0,e[a])}function u(a){if(a in e)return r(t[a],e[a]);if(a in t)return r(void 0,t[a])}const d={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return c.forEach(Object.keys(t).concat(Object.keys(e)),function(h){const y=d[h]||i,E=y(h);c.isUndefined(E)&&y!==u||(n[h]=E)}),n}const ot="1.1.2",Te={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Te[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const je={};Te.transitional=function(e,n,r){function i(o,s){return"[Axios v"+ot+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,u)=>{if(e===!1)throw new A(i(s," has been removed"+(n?" in "+n:"")),A.ERR_DEPRECATED);return n&&!je[s]&&(je[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,u):!0}};function Nn(t,e,n){if(typeof t!="object")throw new A("options must be an object",A.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const u=t[o],d=u===void 0||s(u,o,t);if(d!==!0)throw new A("option "+o+" must be "+d,A.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new A("Unknown option "+o,A.ERR_BAD_OPTION)}}const st={assertOptions:Nn,validators:Te},D=st.validators;class I{constructor(e){this.defaults=e,this.interceptors={request:new Oe,response:new Oe}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=H(this.defaults,n);const r=n.transitional;r!==void 0&&st.assertOptions(r,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const i=n.headers&&c.merge(n.headers.common,n.headers[n.method]);i&&c.forEach(["delete","get","head","post","put","patch","common"],function(v){delete n.headers[v]}),n.headers=new R(n.headers,i);const o=[];let s=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(s=s&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,a=0,h;if(!s){const E=[$e.bind(this),void 0];for(E.unshift.apply(E,o),E.push.apply(E,u),h=E.length,d=Promise.resolve(n);a<h;)d=d.then(E[a++],E[a++]);return d}h=o.length;let y=n;for(a=0;a<h;){const E=o[a++],v=o[a++];try{y=E(y)}catch(m){v.call(this,m);break}}try{d=$e.call(this,y)}catch(E){return Promise.reject(E)}for(a=0,h=u.length;a<h;)d=d.then(u[a++],u[a++]);return d}getUri(e){e=H(this.defaults,e);const n=nt(e.baseURL,e.url);return Ze(n,e.params,e.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(e){I.prototype[e]=function(n,r){return this.request(H(r||{},{method:e,url:n,data:(r||{}).data}))}});c.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,u){return this.request(H(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}I.prototype[e]=n(),I.prototype[e+"Form"]=n(!0)});class we{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(u=>{r.subscribe(u),o=u}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,u){r.reason||(r.reason=new J(o,s,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new we(function(i){e=i}),cancel:e}}}function Un(t){return function(n){return t.apply(null,n)}}function In(t){return c.isObject(t)&&t.isAxiosError===!0}function at(t){const e=new I(t),n=ze(I.prototype.request,e);return c.extend(n,I.prototype,e,{allOwnKeys:!0}),c.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return at(H(t,i))},n}const P=at(q);P.Axios=I;P.CanceledError=J;P.CancelToken=we;P.isCancel=it;P.VERSION=ot;P.toFormData=ee;P.AxiosError=A;P.Cancel=P.CanceledError;P.all=function(e){return Promise.all(e)};P.spread=Un;P.isAxiosError=In;P.formToJSON=t=>tt(c.isHTMLForm(t)?new FormData(t):t);const Dn=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),ut=Be(Dn);var f=g&&g.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(h){try{a(r.next(h))}catch(y){s(y)}}function d(h){try{a(r.throw(h))}catch(y){s(y)}}function a(h){h.done?o(h.value):i(h.value).then(u,d)}a((r=r.apply(t,e||[])).next())})},kn=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ve,"__esModule",{value:!0});const $n=kn(ut);class jn{constructor(e,n){this.token=e,this.spheronApiUrl=n??"https://api-v2.spheron.network"}getTokenScope(){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,"/v1/api-keys/scope")})}getProject(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/project/${e}`)})}getProjectDeployments(e,n){return f(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return{deployments:yield this.sendApiRequest(p.GET,`/v1/project/${e}/deployments?skip=${n.skip}&limit=${n.limit}${n.status?`&status=${n.status}`:""}`)}})}getProjectDomains(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/project/${e}/domains`)})}getProjectDomain(e,n){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/project/${e}/domains/${n}`)})}addProjectDomain(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/project/${e}/domains`,n)})}patchProjectDomain(e,n,r){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/project/${e}/domains/${n}`,r)})}verifyProjectDomain(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/project/${e}/domains/${n}/verify`,{})})}deleteProjectDomain(e,n){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/project/${e}/domains/${n}`)})}getCdnRecords(){return f(this,void 0,void 0,function*(){const e=yield this.sendApiRequest(p.GET,"/v1/project/1/domains/cdn-records");return Object.assign({},e.records)})}getProjectDeploymentCount(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/project/${e}/deployments/count`)})}updateProjectState(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/project/${e}/state`,{state:n})})}updateProjectConfiguration(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PUT,`/v1/project/${e}/configuration`,n)})}createOrganization(e,n,r){return f(this,void 0,void 0,function*(){const i={username:e,name:n,appType:r},{organization:o}=yield this.sendApiRequest(p.POST,"/v1/organization",i);return o})}getOrganization(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/organization/${e}`)})}updateOrganization(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PUT,`/v1/organization/${e}`,n)})}getOrganizationProjects(e,n){return f(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return(yield this.sendApiRequest(p.GET,`/v1/organization/${e}/projects?skip=${n.skip}&limit=${n.limit}${n.state?`&state=${n.state}`:""}`)).projects})}getOrganizationProjectCount(e,n){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/organization/${e}/projects/count${n.state?`?state=${n.state}`:""}`)).count})}getProfile(){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,"/v1/profile/")).user})}verfiyGitToken(e,n,r){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/auth/${e}/cli/verify-token/${n}?port=${r}`)})}getOrganizationUsage(e,n){return f(this,void 0,void 0,function*(){const{usage:r}=yield this.sendApiRequest(p.GET,`/v1/organization/${e}/subscription-usage/specialization/${n}`);return r})}publishIPNS(e){return f(this,void 0,void 0,function*(){const n=yield this.sendApiRequest(p.POST,`/v1/ipns/deployments/${e}/names`);return this.mapIPNSResponseToIPNSName(n.ipnsName)})}updateIPNSName(e,n){return f(this,void 0,void 0,function*(){const r=yield this.sendApiRequest(p.PUT,`/v1/ipns/deployments/${n}/names/${e}`);return this.mapIPNSResponseToIPNSName(r.ipnsName)})}getIPNSName(e){return f(this,void 0,void 0,function*(){const n=yield this.sendApiRequest(p.GET,`/v1/ipns/names/${e}`);return this.mapIPNSResponseToIPNSName(n)})}getIPNSNamesForUpload(e){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/ipns/deployments/${e}/names`)).map(r=>this.mapIPNSResponseToIPNSName(r))})}getIPNSNamesForOrganization(e){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,"/v1/ipns/names",{organizationId:e})).map(r=>this.mapIPNSResponseToIPNSName(r))})}startDeployment(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,"/v1/deployment",e)})}authorizeDeployment(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/deployment/${e}/authorize`)})}cancelDeployment(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/deployment/${e}/cancel`)})}redeployDeployment(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/deployment/${e}/redeploy`)})}getDeployment(e){return f(this,void 0,void 0,function*(){const{deployment:n}=yield this.sendApiRequest(p.GET,`/v1/deployment/${e}`);return n})}suggestFramework(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,"/v1/deployment/framework/suggestion",null,{owner:e.owner,branch:e.branch,provider:e.provider,repo:e.repositoryName,root:e.root})})}addProjectEnvironmentVariables(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/project/${e}/environment-variables`,{environmentVariables:n})})}updateProjectEnvironmentVariable(e,n,r){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.PUT,`/v1/project/${e}/environment-variables/${n}`,r)).updated})}deleteProjectEnvironmentVariable(e,n){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/project/${e}/environment-variables/${n}`)})}getDeploymentEnvironments(e){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/project/${e}/deployment-environments`)).result})}createDeploymentEnvironment(e,n){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.POST,`/v1/project/${e}/deployment-environments`,n)).newEnvironment})}updateDeploymentEnvironment(e,n,r){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.PUT,`/v1/project/${e}/deployment-environments/${n}`,r)).deploymentEnvironment})}deleteDeploymentEnvironment(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.DELETE,`/v1/project/${e}/deployment-environments/${n}`)})}activateDeploymentEnvironment(e,n){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.PATCH,`/v1/project/${e}/deployment-environments/${n}/activate`)).deploymentEnvironment})}deactivateDeploymentEnvironment(e,n){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.PATCH,`/v1/project/${e}/deployment-environments/${n}/deactivate`)).deploymentEnvironment})}getOrganizationClusters(e,n){return f(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return(yield this.sendApiRequest(p.GET,`/v1/organization/${e}/clusters?skip=${n.skip}&limit=${n.limit}`)).clusters})}getCluster(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/cluster/${e}`)})}deleteCluster(e){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/cluster/${e}`)})}getClusterInstancesDetails(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/cluster/${e}/instances/count`)})}getClusterFundsUsage(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/cluster/${e}/funds-usage`)})}getClusterInstances(e,n){return f(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return(yield this.sendApiRequest(p.GET,`/v1/cluster/${e}/instances`,null,{skip:n.skip,limit:n.limit,topupReport:n.includeReport&&"y"})).extendedInstances})}getClusterTemplates(){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,"/v1/cluster-templates")).clusterTemplates})}getClusterTemplate(e){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/cluster-templates/${e}`)).clusterTemplate})}getClusterCategories(){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,"/v1/cluster-templates/categories")).categories})}getClusterInstance(e,n){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/cluster-instance/${e}`,null,{topupReport:n&&n.includeReport&&"y"})).instance})}deleteClusterInstance(e){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/cluster-instance/${e}`)})}updateClusterInstance(e,n,r){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.PATCH,`/v1/cluster-instance/${e}/update`,Object.assign(Object.assign({},r),{organizationId:n}))})}updateClusterInstanceHealthCheckInfo(e,n){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.PATCH,`/v1/cluster-instance/${e}/update/health-check`,{healthCheckUrl:n.path,healthCheckPort:n.cointainerPort})})}closeClusterInstance(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.POST,`/v1/cluster-instance/${e}/close`)})}getClusterInstanceOrder(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.GET,`/v1/cluster-instance/order/${e}`)})}getClusterInstanceOrderLogs(e,n){return f(this,void 0,void 0,function*(){if(n.from<0||n.to<0)throw new Error("From and To cannot be negative numbers.");return(yield this.sendApiRequest(p.GET,`/v1/cluster-instance/order/${e}/logs`,null,n)).order})}createClusterInstance(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.POST,"/v1/cluster-instance/create",e)})}createClusterInstanceFromTemplate(e){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.POST,"/v1/cluster-instance/template",e)})}getClusterInstanceDomains(e){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/cluster-instance/${e}/domains`)).domains})}addClusterInstanceDomain(e,n){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.POST,`/v1/cluster-instance/${e}/domains`,n)).domain})}updateClusterInstanceDomain(e,n,r){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.PATCH,`/v1/cluster-instance/${e}/domains/${n}`,r)).domain})}deleteClusterInstanceDomain(e,n){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/cluster-instance/${e}/domains/${n}`)})}verifyClusterInstanceDomain(e,n){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.PATCH,`/v1/cluster-instance/${e}/domains/${n}/verify`)})}getComputeMachines(e){return f(this,void 0,void 0,function*(){if(e.limit<0||e.skip<0)throw new Error("Limit and Skip cannot be negative numbers.");return(yield this.sendApiRequest(p.GET,"/v1/compute-machine-image",null,e)).akashMachineImages})}getComputeMachineRegions(){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,"/v1/compute-machine-image/regions")).regions})}triggerClusterInstanceHealthCheck(e,n){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.POST,`/v1/cluster-instance/${e}/trigger/container-health-check?topicId=${n}`)})}triggerClusterInstanceStatusCheck(e,n){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.POST,`/v1/cluster-instance/${e}/trigger/container-health-check?topicId=${n}`)})}triggerClusterInstanceLogFetch(e,n){return f(this,void 0,void 0,function*(){return this.sendApiRequest(p.POST,`/v1/cluster-instance/${e}/trigger/fetch-logs?topicId=${n}`)})}getPriceForToken(e){return f(this,void 0,void 0,function*(){return(yield this.sendApiRequest(p.GET,`/v1/price/liveTokenPrice/${e}`)).price})}getGPTResponse(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,"/v1/gpt/query",e)})}isWhitelisted(){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,"/v1/gpt/whitelisted")})}getOrganizationBuckets({organizationId:e,name:n,state:r,skip:i,limit:o}){return f(this,void 0,void 0,function*(){if(!e)throw new Error("Organization Id is not provided.");if(i<0||o<0)throw new Error("Skip and Limit cannot be negative numbers.");return yield this.sendApiRequest(p.GET,`/v1/organization/${e}/buckets`,null,{name:n??"",state:r??"",skip:i,limit:o})})}getOrganizationBucketCount({organizationId:e,name:n,state:r}){return f(this,void 0,void 0,function*(){if(!e)throw new Error("Organization Id is not provided.");return yield this.sendApiRequest(p.GET,`/v1/organization/${e}/buckets/count`,null,{name:n??"",state:r??""})})}getBucket(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/bucket/${e}`)})}updateBucketState(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/bucket/${e}/state`,{state:n})})}getBucketDomains(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/bucket/${e}/domains`)})}getBucketDomain(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/bucket/${e}/domains/${n}`)})}addBucketDomain(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/bucket/${e}/domains`,n)})}patchBucketDomain(e,n,r){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/bucket/${e}/domains/${n}`,r)})}verifyBucketDomain(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/bucket/${e}/domains/${n}/verify`,{})})}deleteBucketDomain(e,n){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/bucket/${e}/domains/${n}`)})}getBucketIpnsRecords(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/bucket/${e}/ipns-records`)})}getBucketIpnsRecord(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/bucket/${e}/ipns-records/${n}`)})}addBucketIpnsRecord(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/bucket/${e}/ipns-records`,{uploadId:n})})}patchBucketIpnsRecord(e,n,r){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.PATCH,`/v1/bucket/${e}/ipns-records/${n}`,{uploadId:r})})}deleteBucketIpnsRecord(e,n){return f(this,void 0,void 0,function*(){yield this.sendApiRequest(p.DELETE,`/v1/bucket/${e}/ipns-records/${n}`)})}getBucketUploads(e,n){return f(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return{uploads:yield this.sendApiRequest(p.GET,`/v1/bucket/${e}/uploads?skip=${n.skip}&limit=${n.limit}`)}})}getBucketUploadCount(e){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.GET,`/v1/bucket/${e}/uploads/count`)})}migrateStaticSiteOrgToStorage(e,n){return f(this,void 0,void 0,function*(){return yield this.sendApiRequest(p.POST,`/v1/organization/${n}/migrate-projects`,{webappOrganizationId:e})})}getUpload(e){return f(this,void 0,void 0,function*(){const{upload:n}=yield this.sendApiRequest(p.GET,`/v1/upload/${e}`);return n})}sendApiRequest(e,n,r,i){var o,s;return f(this,void 0,void 0,function*(){try{return(yield(0,$n.default)({method:e,url:`${this.spheronApiUrl}${n}`,data:r,headers:{Authorization:`Bearer ${this.token}`},params:i})).data}catch(u){throw new Error(((s=(o=u.response)===null||o===void 0?void 0:o.data)===null||s===void 0?void 0:s.message)||u?.message)}})}mapIPNSResponseToIPNSName(e){return{id:e._id,publishedUploadId:e.publishedDeploymentId,organizationId:e.organizationId,createdAt:e.createdAt,updatedAt:e.updatedAt,ipnsHash:e.keyId,ipnsLink:e.ipnsLink}}}var p;(function(t){t.GET="Get",t.POST="Post",t.PATCH="Patch",t.DELETE="Delete",t.PUT="Put"})(p||(p={}));ve.default=jn;var ge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterProtocolEnum=t.PersistentStorageClassEnum=t.InstanceLogType=t.MarketplaceCategoryEnum=t.HealthStatusEnum=t.InstanceStateEnum=t.ClusterStateEnum=t.ProviderEnum=t.AppTypeEnum=t.DeploymentStatusEnum=t.DomainApplicationTypeEnum=t.DomainTypeEnum=t.FrameworkEnum=t.NodeVersionEnum=t.ProjectStateEnum=t.DeploymentEnvironmentStatusEnum=t.ProjectTypeEnum=t.ProtocolEnum=void 0,function(l){l.ARWEAVE="arweave",l.FILECOIN="ipfs-filecoin",l.IPFS="ipfs"}(t.ProtocolEnum||(t.ProtocolEnum={}));var e;(function(l){l.STANDARD="STANDARD",l.UPLOAD="UPLOAD"})(e||(e={})),t.ProjectTypeEnum=e;var n;(function(l){l.ACTIVE="ACTIVE",l.INACTIVE="INACTIVE",l.PAYMENT_PENDING="PAYMENT_PENDING"})(n||(n={})),t.DeploymentEnvironmentStatusEnum=n;var r;(function(l){l.MAINTAINED="MAINTAINED",l.ARCHIVED="ARCHIVED"})(r||(r={})),t.ProjectStateEnum=r;var i;(function(l){l.DOMAIN="domain",l.SUBDOMAIN="subdomain",l.HANDSHAKE_DOMAIN="handshake-domain",l.HANDSHAKE_SUBDOMAIN="handshake-subdomain",l.ENS_DOMAIN="ens-domain"})(i||(i={})),t.DomainTypeEnum=i;var o;(function(l){l[l.WEB=1]="WEB",l[l.COMPUTE=2]="COMPUTE"})(o||(o={})),t.DomainApplicationTypeEnum=o;var s;(function(l){l.V_12="V_12",l.V_14="V_14",l.V_16="V_16"})(s||(s={})),t.NodeVersionEnum=s;var u;(function(l){l.SIMPLE_JAVASCRIPT_APP="static",l.VUE="vue",l.REACT="react",l.NEXT="next",l.ANGULAR="angular",l.PREACT="preact",l.NUXT="nuxt2",l.SVELTE="svelte",l.GATSBY="gatsby",l.ELEVENTY="eleventy",l.DOCUSAURUS="docusaurus",l.SANITY="sanity",l.HUGO="hugo",l.IONIC_REACT="ionicreact",l.VITE="vite",l.SCULLY="scully",l.STENCIL="stencil",l.BRUNCH="brunch",l.IONIC_ANGULAR="ionicangular"})(u||(u={})),t.FrameworkEnum=u;var d;(function(l){l.PRE_QUEUE="PreQueue",l.QUEUED="Queued",l.PENDING="Pending",l.CANCELED="Canceled",l.DEPLOYED="Deployed",l.FAILED="Failed",l.AUTHORIZATION_NEEDED="AuthorizationNeeded",l.KILLING="Killing",l.TIMED_OUT="TimedOut"})(d||(d={})),t.DeploymentStatusEnum=d;var a;(function(l){l.WEB_APP="app",l.COMPUTE="compute"})(a||(a={})),t.AppTypeEnum=a;var h;(function(l){l.GITHUB="GITHUB",l.GITLAB="GITLAB",l.BITBUCKET="BITBUCKET",l.DOCKERHUB="DOCKERHUB"})(h||(h={})),t.ProviderEnum=h;var y;(function(l){l.MAINTAINED="MAINTAINED",l.ARCHIVED="ARCHIVED"})(y||(y={})),t.ClusterStateEnum=y;var E;(function(l){l.STARTING="Starting",l.FAILED_START="Failed-start",l.ACTIVE="Active",l.CLOSED="Closed"})(E||(E={})),t.InstanceStateEnum=E;var v;(function(l){l.ACTIVE="Active",l.INACTIVE="Inactive",l.UNKNOWN="Unknown"})(v||(v={})),t.HealthStatusEnum=v;var m;(function(l){l.DATABASE="Database",l.NODE="Node",l.TOOLS="Tools"})(m||(m={})),t.MarketplaceCategoryEnum=m;var b;(function(l){l.DEPLOYMENT_LOGS="logs",l.INSTANCE_LOGS="instanceLogs",l.INSTANCE_EVENTS="instanceEvents"})(b||(b={})),t.InstanceLogType=b;var T;(function(l){l.HDD="beta1",l.SSD="beta2",l.NVMe="beta3"})(T||(T={})),t.PersistentStorageClassEnum=T;var w;(function(l){l.AKASH="akash"})(w||(w={})),t.ClusterProtocolEnum=w})(ge);var $={};Object.defineProperty($,"__esModule",{value:!0});$.UploadStatusEnum=$.BucketStateEnum=void 0;var de;(function(t){t.MAINTAINED="MAINTAINED",t.ARCHIVED="ARCHIVED"})(de||(de={}));$.BucketStateEnum=de;var pe;(function(t){t.IN_PROGRESS="InProgress",t.CANCELED="Canceled",t.UPLOADED="Uploaded",t.FAILED="Failed",t.TIMED_OUT="TimedOut",t.PINNED="Pinned",t.UNPINNED="Unpinned"})(pe||(pe={}));$.UploadStatusEnum=pe;var te={};class Fn{constructor(e){this.value=e,this.next=void 0}}class qn{constructor(){this.clear()}enqueue(e){const n=new Fn(e);this._head?(this._tail.next=n,this._tail=n):(this._head=n,this._tail=n),this._size++}dequeue(){const e=this._head;if(!!e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}var Bn=qn;const Ln=Bn,Mn=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new Ln;let n=0;const r=()=>{n--,e.size>0&&e.dequeue()()},i=async(u,d,...a)=>{n++;const h=(async()=>u(...a))();d(h);try{await h}catch{}r()},o=(u,d,...a)=>{e.enqueue(i.bind(null,u,d,...a)),(async()=>(await Promise.resolve(),n<t&&e.size>0&&e.dequeue()()))()},s=(u,...d)=>new Promise(a=>{o(u,a,...d)});return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),s};var zn=Mn,k=g&&g.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(h){try{a(r.next(h))}catch(y){s(y)}}function d(h){try{a(r.throw(h))}catch(y){s(y)}}function a(h){h.done?o(h.value):i(h.value).then(u,d)}a((r=r.apply(t,e||[])).next())})},ct=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(te,"__esModule",{value:!0});te.UploadManager=void 0;const M=ct(ut),xn=ct(zn),Gn=ge;class Hn{constructor(e){this.spheronApiUrl=e??"https://api-v2.spheron.network"}initiateUpload(e){var n,r;return k(this,void 0,void 0,function*(){try{this.validateUploadConfiguration(e);let i=`${this.spheronApiUrl}/v1/upload/initiate?protocol=${e.protocol}&bucket=${e.name}`;return e.organizationId&&(i+=`&organization=${e.organizationId}`),e.createSingleUseToken&&(i+=`&create_single_use_token=${e.createSingleUseToken}`),(yield M.default.post(i,{},{headers:{Authorization:`Bearer ${e.token}`}})).data}catch(i){const o=((r=(n=i?.response)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r.message)||i?.message;throw new Error(o)}})}pinCID(e){var n,r;return k(this,void 0,void 0,function*(){try{if(!e.name)throw new Error("Bucket name is not provided.");let i=`${this.spheronApiUrl}/v2/ipfs/pin/${e.cid}?bucket=${e.name}`;return e.organizationId&&(i+=`&organization=${e.organizationId}`),(yield M.default.post(i,{},{headers:{Authorization:`Bearer ${e.token}`}})).data}catch(i){const o=((r=(n=i?.response)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r.message)||i?.message;throw new Error(o)}})}getCIDStatus(e){var n,r;return k(this,void 0,void 0,function*(){try{if(!e)throw new Error("CID is not provided.");const i=`${this.spheronApiUrl}/v2/ipfs/pins/${e}/status`;return(yield M.default.get(i)).data}catch(i){const o=((r=(n=i?.response)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r.message)||i?.message;throw new Error(o)}})}uploadPayloads(e,n){return k(this,void 0,void 0,function*(){let r="";const i=(0,xn.default)(n.parallelUploadCount),o=(s,u)=>k(this,void 0,void 0,function*(){var d,a;try{if(r)return;const{data:h}=yield M.default.post(`${this.spheronApiUrl}/v1/upload/${u}/data`,s,this.getAxiosRequestConfig(n.token));n.onChunkUploaded&&n.onChunkUploaded(h.uploadSize)}catch(h){r=((a=(d=h?.response)===null||d===void 0?void 0:d.data)===null||a===void 0?void 0:a.message)||h?.message}});return yield Promise.all(e.map(s=>i(()=>o(s,n.uploadId)))),{success:!r,errorMessage:r}})}finalizeUpload(e,n,r){var i,o;return k(this,void 0,void 0,function*(){try{return(yield M.default.post(`${this.spheronApiUrl}/v1/upload/${e}/finish?action=${n?"UPLOAD":"CANCEL"}`,{},this.getAxiosRequestConfig(r))).data}catch(s){const u=((o=(i=s?.response)===null||i===void 0?void 0:i.data)===null||o===void 0?void 0:o.message)||s?.message;throw new Error(u)}})}validateUploadConfiguration(e){const n=Object.values(Gn.ProtocolEnum);if(n.indexOf(e.protocol)===-1)throw new Error(`Protocol '${e.protocol}' is not supported. Supported protocols are [${n.join(", ")}].`);if(!e.name)throw new Error("Bucket name is not provided.")}getAxiosRequestConfig(e){return{headers:{Authorization:`Bearer ${e}`}}}}te.UploadManager=Hn;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});var dt={};Object.defineProperty(dt,"__esModule",{value:!0});(function(t){var e=g&&g.__createBinding||(Object.create?function(o,s,u,d){d===void 0&&(d=u);var a=Object.getOwnPropertyDescriptor(s,u);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(o,d,a)}:function(o,s,u,d){d===void 0&&(d=u),o[d]=s[u]}),n=g&&g.__exportStar||function(o,s){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&e(s,o,u)},r=g&&g.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpheronApi=void 0;var i=ve;Object.defineProperty(t,"SpheronApi",{enumerable:!0,get:function(){return r(i).default}}),n(ge,t),n($,t),n(te,t),n(lt,t),n(dt,t)})(Me);function fe(t){this.message=t}fe.prototype=new Error,fe.prototype.name="InvalidCharacterError";var Fe=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new fe("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=e.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function Kn(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Fe(n).replace(/(.)/g,function(r,i){var o=i.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(e)}catch{return Fe(e)}}function K(t){this.message=t}function Vn(t,e){if(typeof t!="string")throw new K("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(Kn(t.split(".")[n]))}catch(r){throw new K("Invalid token specified: "+r.message)}}K.prototype=new Error,K.prototype.name="InvalidTokenError";const Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Vn,InvalidTokenError:K},Symbol.toStringTag,{value:"Module"})),Wn=Be(Jn);var pt={},Se={};(function(t){var e=g&&g.__awaiter||function(s,u,d,a){function h(y){return y instanceof d?y:new d(function(E){E(y)})}return new(d||(d=Promise))(function(y,E){function v(T){try{b(a.next(T))}catch(w){E(w)}}function m(T){try{b(a.throw(T))}catch(w){E(w)}}function b(T){T.done?y(T.value):h(T.value).then(v,m)}b((a=a.apply(s,u||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.encryptWithSymmetricKey=t.generateSymmetricKey=t.decryptWithSymmetricKey=t.importSymmetricKey=t.SYMM_KEY_ALGO_PARAMS=void 0,t.SYMM_KEY_ALGO_PARAMS={name:"AES-CBC",length:256};const n=s=>e(void 0,void 0,void 0,function*(){return yield crypto.subtle.importKey("raw",s,t.SYMM_KEY_ALGO_PARAMS,!0,["encrypt","decrypt"])});t.importSymmetricKey=n;const r=(s,u)=>e(void 0,void 0,void 0,function*(){const d=yield s.slice(0,16),a=yield s.slice(16);return yield crypto.subtle.decrypt({name:"AES-CBC",iv:d},u,a)});t.decryptWithSymmetricKey=r;const i=()=>e(void 0,void 0,void 0,function*(){return yield crypto.subtle.generateKey(t.SYMM_KEY_ALGO_PARAMS,!0,["encrypt","decrypt"])});t.generateSymmetricKey=i;const o=(s,u)=>e(void 0,void 0,void 0,function*(){const d=crypto.getRandomValues(new Uint8Array(16)),a=yield crypto.subtle.encrypt({name:"AES-CBC",iv:d},s,u);return new Uint8Array([...d,...new Uint8Array(a)])});t.encryptWithSymmetricKey=o})(Se);var j={},ft=g&&g.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(h){try{a(r.next(h))}catch(y){s(y)}}function d(h){try{a(r.throw(h))}catch(y){s(y)}}function a(h){h.done?o(h.value):i(h.value).then(u,d)}a((r=r.apply(t,e||[])).next())})};Object.defineProperty(j,"__esModule",{value:!0});j.decryptData=j.encryptData=void 0;const Q=Se,Yn=t=>ft(void 0,void 0,void 0,function*(){const e=yield(0,Q.generateSymmetricKey)(),n=yield(0,Q.encryptWithSymmetricKey)(e,t);return{symmetricKey:new Uint8Array(yield crypto.subtle.exportKey("raw",e)),encryptedData:n}});j.encryptData=Yn;const Qn=(t,e)=>ft(void 0,void 0,void 0,function*(){const n=yield(0,Q.importSymmetricKey)(e);return yield(0,Q.decryptWithSymmetricKey)(t,n)});j.decryptData=Qn;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});var mt={};Object.defineProperty(mt,"__esModule",{value:!0});var _={};Object.defineProperty(_,"__esModule",{value:!0});_.convertJsonToFile=_.uint8arrayToString=_.uint8arrayFromString=_.uint8ArrayToBase64=_.base64ToUint8Array=_.utf8Decode=void 0;function Xn(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|r&63):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yt(t){let e="",n=0;for(;n<t.length;){let r=t[n++];r<128?e+=String.fromCharCode(r):r>191&&r<224?e+=String.fromCharCode((r&31)<<6|t[n++]&63):r>239&&r<365?(r=(r&7)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63,r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(r&1023))):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63)}return e}_.utf8Decode=yt;function he(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}_.base64ToUint8Array=he;function me(t){const e=String.fromCharCode(...t);return btoa(e)}_.uint8ArrayToBase64=me;function Zn(t){return t.replace("-","+").replace("_","/")+"=".repeat((4-t.length%4)%4)}function er(t){return t.replace("+","-").replace("/","_").replace(/=+$/,"")}function tr(t,e="utf8"){switch(e){case"utf8":return Xn(t);case"base16":{const n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.slice(r,r+2),16));return new Uint8Array(n)}case"base64":return he(t);case"base64urlpad":return he(Zn(t));default:throw new Error(`Unsupported encoding "${e}"`)}}_.uint8arrayFromString=tr;function nr(t,e="utf8"){const n=new Uint8Array(t);switch(e){case"utf8":return yt(n);case"base16":return Array.from(n).map(r=>r.toString(16).padStart(2,"0")).join("");case"base64":return me(n);case"base64urlpad":return er(me(n));default:throw new Error(`Unsupported encoding "${e}"`)}}_.uint8arrayToString=nr;const rr=(t,e)=>{const n=new Blob([JSON.stringify(t)],{type:"application/json"});return new File([n],e,{type:"application/json"})};_.convertJsonToFile=rr;(function(t){var e=g&&g.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var u=Object.getOwnPropertyDescriptor(i,o);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,u)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=g&&g.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Se,t),n(j,t),n(ht,t),n(mt,t),n(_,t);try{globalThis.crypto=gt.webcrypto}catch{}})(pt);var ir=Object.create,ne=Object.defineProperty,or=Object.getOwnPropertyDescriptor,sr=Object.getOwnPropertyNames,ar=Object.getPrototypeOf,ur=Object.prototype.hasOwnProperty,cr=(t,e)=>{for(var n in e)ne(t,n,{get:e[n],enumerable:!0})},vt=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sr(e))!ur.call(t,i)&&i!==n&&ne(t,i,{get:()=>e[i],enumerable:!(r=or(e,i))||r.enumerable});return t},Et=(t,e,n)=>(n=t!=null?ir(ar(t)):{},vt(e||!t||!t.__esModule?ne(n,"default",{value:t,enumerable:!0}):n,t)),lr=t=>vt(ne({},"__esModule",{value:!0}),t),re=(t,e,n)=>new Promise((r,i)=>{var o=d=>{try{u(n.next(d))}catch(a){i(a)}},s=d=>{try{u(n.throw(d))}catch(a){i(a)}},u=d=>d.done?r(d.value):Promise.resolve(d.value).then(o,s);u((n=n.apply(t,e)).next())}),bt={};cr(bt,{ProtocolEnum:()=>ye.ProtocolEnum,UploadResult:()=>ye.UploadResult,decryptUpload:()=>yr,encryptUpload:()=>mr,upload:()=>At});var dr=lr(bt),ye=Me,qe=Et(Ye),pr=(t,e)=>re(void 0,null,function*(){const n={payloads:new Array,currentPayload:null,currentPayloadSize:0,totalSize:0};return t.forEach(r=>{if(n.totalSize+=r.size,r.size>e){const i=fr(r,e);i.forEach((o,s)=>{const u=new qe.default;u.append(`chunk-${s}-${i.length}`,new File([o],r.name),r.name),n.payloads.push(u)})}else n.currentPayload||(n.currentPayload=new qe.default),n.currentPayload.append("files",r,r.name),n.currentPayloadSize+=r.size,n.currentPayloadSize>e&&(n.payloads.push(n.currentPayload),n.currentPayload=null,n.currentPayloadSize=0)}),n.currentPayload&&n.payloads.push(n.currentPayload),{payloads:n.payloads,totalSize:n.totalSize}});function fr(t,e){const n=[];let r=0,i=e;for(;r<t.size;){const o=t.slice(r,i);n.push(o),r+=e,i+=e}return n}var hr=Et(Wn),x=pt;function At(t,e){return re(this,null,function*(){var n,r,i;let o=[];if(t instanceof FileList?o=Array.from(t):Array.isArray(t)&&(o=t),!o||o.length===0)throw new Error("No files to upload.");if(!e.token)throw new Error("No token provided.");const s=(0,hr.default)(e.token),u=(n=s?.uploadId)!=null?n:"";if(!u)throw new Error("The provided token is invalid.");const d=(r=s?.payloadSize)!=null?r:5*5*1024,a=(i=s?.parallelUploadCount)!=null?i:3,{payloads:h,totalSize:y}=yield pr(o,d);let E=!0,v;const m=new ye.UploadManager(e.apiUrl);try{const T=yield m.uploadPayloads(h,{uploadId:u,token:e.token,parallelUploadCount:a,onChunkUploaded:w=>e.onChunkUploaded&&e.onChunkUploaded(w,y)});if(!T.success)throw new Error(T.errorMessage)}catch(T){E=!1,v=T}const b=yield m.finalizeUpload(u,E,e.token);if(v)throw v;if(!b.success)throw new Error(`Upload failed. ${b.message}`);return{uploadId:b.uploadId,bucketId:b.bucketId,protocolLink:b.protocolLink,dynamicLinks:b.dynamicLinks,cid:b.cid}})}function mr(t){return re(this,arguments,function*({authSig:e,sessionSigs:n,accessControlConditions:r,evmContractConditions:i,solRpcConditions:o,unifiedAccessControlConditions:s,chain:u,string:d,file:a,litNodeClient:h,configuration:y}){if(!d&&!a)throw new Error("Either string or file must be provided");if(!y?.token)throw new Error("Token must be provided");let E=null;if(d&&a)throw new Error("Provide only either a string or file to encrypt");if(d?E=(0,x.uint8arrayFromString)(d,"utf8"):a&&(E=new Uint8Array(yield a.arrayBuffer())),E===null)throw new Error("Failed to encrypt data");const{symmetricKey:v,encryptedData:m}=yield(0,x.encryptData)(E),b=yield h.saveEncryptionKey({accessControlConditions:r,evmContractConditions:i,solRpcConditions:o,unifiedAccessControlConditions:s,symmetricKey:v,authSig:e,sessionSigs:n,chain:u}),T=(0,x.uint8arrayToString)(b,"base16"),w=Buffer.from(yield m).toJSON(),l=JSON.stringify({encryptedData:w,encryptedSymmetricKeyString:T,accessControlConditions:r,evmContractConditions:i,solRpcConditions:o,unifiedAccessControlConditions:s,chain:u}),B=(0,x.convertJsonToFile)(l,"data.json");return yield At([B],y)})}function yr(t){return re(this,arguments,function*({authSig:e,sessionSigs:n,ipfsCid:r,litNodeClient:i}){const o=yield(yield fetch(`https://${r}.ipfs.sphn.link/data.json`).catch(()=>{throw new Error("Error finding metadata from IPFS CID")})).json(),s=JSON.parse(o),u=yield i.getEncryptionKey({accessControlConditions:s.accessControlConditions,evmContractConditions:s.evmContractConditions,solRpcConditions:s.solRpcConditions,unifiedAccessControlConditions:s.unifiedAccessControlConditions,toDecrypt:s.encryptedSymmetricKeyString,chain:s.chain,authSig:e,sessionSigs:n}),d=new Uint8Array(Buffer.from(s.encryptedData));return(0,x.decryptData)(d,u)})}const vr={name:"FileUploadInput",props:["btnCls","maxFileSize"],emits:["processUploadedFileUrl"],data(){return{componentId:null,file:null,newFileName:null,uploadedFileSize:null,uploadToken:null,waitingUpload:!1}},mounted(){this.componentId=this.$.uid},computed:{fileTooBig(){if(this.uploadedFileSize)return this.maxFileSize&&this.uploadedFileSize>this.maxFileSize}},methods:{async fetchUploadToken(){const t=window.location.origin;let e;if(this.$config.fileUploadTokenService==="netlify"?e=t+"/.netlify/functions/imageUploader":this.$config.fileUploadTokenService==="vercel"&&(e=t+"/api/imageUploader"),e)try{const n=await $fetch(e).catch(i=>i.data);let r=n;if(typeof n=="string"&&(r=JSON.parse(n)),r?.error){console.log("Error fetching upload token: ",r.error);return}r?.data&&(this.uploadToken=r.data)}catch(n){console.log("Error fetching a file upload token: ",n)}},handleFileInput(t){const e=t.target.files[0];if(this.uploadedFileSize=e.size,this.maxFileSize&&e.size>this.maxFileSize){const o=this.maxFileSize/1024/1024;console.error("File is too large (max size is "+o+" MB)");return}const r=e.name.split(".").pop();this.newFileName=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+"."+r;const i=new File([e],this.newFileName,{type:e.type});this.file=i},async uploadFile(){if(this.waitingUpload=!0,await this.fetchUploadToken(),this.uploadToken){const t=this.uploadToken,{protocolLink:e}=await dr.upload([this.file],{token:t}),n=e+"/"+this.newFileName;this.$emit("processUploadedFileUrl",n)}this.waitingUpload=!1}}},Er=["id"],br=["disabled"],Ar={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Tr={key:0,class:"alert alert-danger mt-3",role:"alert"};function wr(t,e,n,r,i,o){return N(),U(_t,null,[S("input",{onChange:e[0]||(e[0]=(...s)=>o.handleFileInput&&o.handleFileInput(...s)),type:"file",class:"form-control form-control-lg mb-3",id:"file-input-"+i.componentId},null,40,Er),S("button",{type:"button",class:se(n.btnCls),onClick:e[1]||(e[1]=(...s)=>o.uploadFile&&o.uploadFile(...s)),disabled:i.waitingUpload||!i.file||o.fileTooBig},[i.waitingUpload?(N(),U("span",Ar)):G("",!0),St(" Upload ")],10,br),o.fileTooBig?(N(),U("div",Tr," File is too big (max size is "+ae(n.maxFileSize/1024/1024)+" MB). ",1)):G("",!0)],64)}const gr=Le(vr,[["render",wr]]),Sr={name:"FileUploadModal",props:["title","componentId","infoText","maxFileSize"],emits:["processFileUrl"],components:{FileUploadInput:gr},data(){return{currentTab:"upload",pastedLink:null}},mounted(){this.fileUploadEnabled||(this.currentTab="paste")},computed:{fileUploadEnabled(){return this.siteStore.getFileUploadEnabled},getTitle(){return this.title||"Upload file"}},methods:{processUploadedFileUrl(t){this.$emit("processFileUrl",t),document.getElementById("closeFileUploadModal"+this.componentId).click()}},setup(){return{siteStore:wt()}},watch:{fileUploadEnabled(){this.fileUploadEnabled?this.currentTab="upload":this.currentTab="paste"}}},_r=["id","aria-labelledby"],Pr={class:"modal-dialog"},Rr={class:"modal-content"},Or={class:"modal-header"},Cr=["id"],Nr=["id"],Ur={class:"modal-body mb-4"},Ir={class:"nav nav-tabs nav-fill"},Dr={class:"nav-item"},kr=["disabled"],$r={class:"nav-item"},jr={class:"tab-content mt-3"},Fr={key:0},qr={key:0},Br={key:1},Lr=S("p",null,"Paste file link",-1),Mr=["disabled"];function zr(t,e,n,r,i,o){const s=Ct("FileUploadInput");return N(),U("div",{class:"modal fade",id:"fileUploadModal"+n.componentId,tabindex:"-1","aria-labelledby":"fileUploadModalLabel"+n.componentId,"aria-hidden":"true"},[S("div",Pr,[S("div",Rr,[S("div",Or,[S("h1",{class:"modal-title fs-5",id:"fileUploadModalLabel"+n.componentId},ae(o.getTitle),9,Cr),S("button",{id:"closeFileUploadModal"+n.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,Nr)]),S("div",Ur,[S("ul",Ir,[S("li",Dr,[S("button",{disabled:!this.fileUploadEnabled,class:se(["nav-link",i.currentTab==="upload"?"active":""]),onClick:e[0]||(e[0]=u=>i.currentTab="upload")},"Upload",10,kr)]),S("li",$r,[S("button",{class:se(["nav-link",i.currentTab==="paste"?"active":""]),onClick:e[1]||(e[1]=u=>i.currentTab="paste")},"Paste Link",2)])]),S("div",jr,[i.currentTab==="upload"?(N(),U("div",Fr,[n.infoText?(N(),U("p",qr,ae(n.infoText),1)):G("",!0),Pt(s,{btnCls:"btn btn-primary",maxFileSize:n.maxFileSize,onProcessUploadedFileUrl:o.processUploadedFileUrl},null,8,["maxFileSize","onProcessUploadedFileUrl"])])):G("",!0),i.currentTab==="paste"?(N(),U("div",Br,[Lr,Rt(S("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>i.pastedLink=u),type:"text",class:"form-control mb-3",placeholder:"Enter http link to file"},null,512),[[Ot,i.pastedLink]]),S("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=u=>o.processUploadedFileUrl(i.pastedLink)),disabled:!i.pastedLink}," Submit link ",8,Mr)])):G("",!0)])])])])],8,_r)}const Hr=Le(Sr,[["render",zr]]);export{Hr as F,gr as a};
