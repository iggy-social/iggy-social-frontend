import{u as Mt}from"./site.bb228923.js";import{P as Ye,N as S,O as Lt,a as Qe,o as U,b as k,f as _,m as J,i as jt,D as fe,t as pe,F as Ft,e as qt,y as Bt,z as xt,r as zt}from"./entry.85bfceb9.js";var Ze={},Se={};function Xe(t,e){return function(){return t.apply(e,arguments)}}const{toString:et}=Object.prototype,{getPrototypeOf:_e}=Object,we=(t=>e=>{const n=et.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),C=t=>(t=t.toLowerCase(),e=>we(e)===t),ie=t=>e=>typeof e===t,{isArray:Z}=Array,he=ie("undefined");function Gt(t){return t!==null&&!he(t)&&t.constructor!==null&&!he(t.constructor)&&B(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tt=C("ArrayBuffer");function Kt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tt(t.buffer),e}const Ht=ie("string"),B=ie("function"),nt=ie("number"),rt=t=>t!==null&&typeof t=="object",Vt=t=>t===!0||t===!1,ne=t=>{if(we(t)!=="object")return!1;const e=_e(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jt=C("Date"),Wt=C("File"),Yt=C("Blob"),Qt=C("FileList"),Zt=t=>rt(t)&&B(t.pipe),Xt=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||et.call(t)===e||B(t.toString)&&t.toString()===e)},en=C("URLSearchParams"),tn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oe(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Z(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function me(){const t={},e=(n,r)=>{ne(t[r])&&ne(n)?t[r]=me(t[r],n):ne(n)?t[r]=me({},n):Z(n)?t[r]=n.slice():t[r]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&oe(arguments[n],e);return t}const nn=(t,e,n,{allOwnKeys:r}={})=>(oe(e,(i,o)=>{n&&B(i)?t[o]=Xe(i,n):t[o]=i},{allOwnKeys:r}),t),rn=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),on=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sn=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&_e(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},an=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},un=t=>{if(!t)return null;if(Z(t))return t;let e=t.length;if(!nt(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},cn=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_e(Uint8Array)),ln=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},dn=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},fn=C("HTMLFormElement"),pn=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ce=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hn=C("RegExp"),it=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};oe(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},mn=t=>{it(t,(e,n)=>{const r=t[n];if(!!B(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},yn=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Z(t)?r(t):r(String(t).split(e)),n},vn=()=>{},En=(t,e)=>(t=+t,Number.isFinite(t)?t:e),c={isArray:Z,isArrayBuffer:tt,isBuffer:Gt,isFormData:Xt,isArrayBufferView:Kt,isString:Ht,isNumber:nt,isBoolean:Vt,isObject:rt,isPlainObject:ne,isUndefined:he,isDate:Jt,isFile:Wt,isBlob:Yt,isRegExp:hn,isFunction:B,isStream:Zt,isURLSearchParams:en,isTypedArray:cn,isFileList:Qt,forEach:oe,merge:me,extend:nn,trim:tn,stripBOM:rn,inherits:on,toFlatObject:sn,kindOf:we,kindOfTest:C,endsWith:an,toArray:un,forEachEntry:ln,matchAll:dn,isHTMLForm:fn,hasOwnProperty:Ce,hasOwnProp:Ce,reduceDescriptors:it,freezeMethods:mn,toObjectSet:yn,toCamelCase:pn,noop:vn,toFiniteNumber:En};function A(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}c.inherits(A,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ot=A.prototype,st={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{st[t]={value:t}});Object.defineProperties(A,st);Object.defineProperty(ot,"isAxiosError",{value:!0});A.from=(t,e,n,r,i,o)=>{const s=Object.create(ot);return c.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),A.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var at=typeof self=="object"?self.FormData:window.FormData;function ye(t){return c.isPlainObject(t)||c.isArray(t)}function ut(t){return c.endsWith(t,"[]")?t.slice(0,-2):t}function De(t,e,n){return t?t.concat(e).map(function(i,o){return i=ut(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function gn(t){return c.isArray(t)&&!t.some(ye)}const An=c.toFlatObject(c,{},null,function(e){return/^is[A-Z]/.test(e)});function Tn(t){return t&&c.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function se(t,e,n){if(!c.isObject(t))throw new TypeError("target must be an object");e=e||new(at||FormData),n=c.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,T){return!c.isUndefined(T[g])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Tn(e);if(!c.isFunction(i))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(c.isDate(E))return E.toISOString();if(!l&&c.isBlob(E))throw new A("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(E)||c.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function h(E,g,T){let b=E;if(E&&!T&&typeof E=="object"){if(c.endsWith(g,"{}"))g=r?g:g.slice(0,-2),E=JSON.stringify(E);else if(c.isArray(E)&&gn(E)||c.isFileList(E)||c.endsWith(g,"[]")&&(b=c.toArray(E)))return g=ut(g),b.forEach(function(z,$t){!c.isUndefined(z)&&e.append(s===!0?De([g],$t,o):s===null?g:g+"[]",u(z))}),!1}return ye(E)?!0:(e.append(De(T,g,o),u(E)),!1)}const y=[],v=Object.assign(An,{defaultVisitor:h,convertValue:u,isVisitable:ye});function m(E,g){if(!c.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+g.join("."));y.push(E),c.forEach(E,function(b,d){(!c.isUndefined(b)&&i.call(e,b,c.isString(d)?d.trim():d,g,v))===!0&&m(b,g?g.concat(d):[d])}),y.pop()}}if(!c.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Ue(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Pe(t,e){this._pairs=[],t&&se(t,this,e)}const ct=Pe.prototype;ct.append=function(e,n){this._pairs.push([e,n])};ct.toString=function(e){const n=e?function(r){return e.call(this,r,Ue)}:Ue;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function bn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lt(t,e,n){if(!e)return t;const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r));const i=n&&n.encode||bn,o=c.isURLSearchParams(e)?e.toString():new Pe(e,n).toString(i);return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}class ke{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){c.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sn=typeof URLSearchParams<"u"?URLSearchParams:Pe,_n=FormData,wn=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),N={isBrowser:!0,classes:{URLSearchParams:Sn,FormData:_n,Blob},isStandardBrowserEnv:wn,protocols:["http","https","file","blob","url","data"]};function Pn(t,e){return se(t,new N.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return N.isNode&&c.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Rn(t){return c.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function In(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ft(t){function e(n,r,i,o){let s=n[o++];const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&c.isArray(i)?i.length:s,l?(c.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!c.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&c.isArray(i[s])&&(i[s]=In(i[s])),!a)}if(c.isFormData(t)&&c.isFunction(t.entries)){const n={};return c.forEachEntry(t,(r,i)=>{e(Rn(r),i,n,0)}),n}return null}function On(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new A("Request failed with status code "+n.status,[A.ERR_BAD_REQUEST,A.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Nn=N.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),c.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),c.isString(o)&&l.push("path="+o),c.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Cn(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Dn(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function pt(t,e){return t&&!Cn(e)?Dn(t,e):e}const Un=N.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=c.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function X(t,e,n){A.call(this,t??"canceled",A.ERR_CANCELED,e,n),this.name="CanceledError"}c.inherits(X,A,{__CANCEL__:!0});function kn(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const $n=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mn=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&$n[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$e=Symbol("internals"),ht=Symbol("defaults");function H(t){return t&&String(t).trim().toLowerCase()}function ee(t){return t===!1||t==null?t:String(t)}function Ln(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function Me(t,e,n,r){if(c.isFunction(r))return r.call(this,e,n);if(!!c.isString(e)){if(c.isString(r))return e.indexOf(r)!==-1;if(c.isRegExp(r))return r.test(e)}}function jn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Fn(t,e){const n=c.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}function G(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}function R(t,e){t&&this.set(t),this[ht]=e||null}Object.assign(R.prototype,{set:function(t,e,n){const r=this;function i(o,s,a){const l=H(s);if(!l)throw new Error("header name must be a non-empty string");const u=G(r,l);u&&a!==!0&&(r[u]===!1||a===!1)||(c.isArray(o)?o=o.map(ee):o=ee(o),r[u||s]=o)}return c.isPlainObject(t)?c.forEach(t,(o,s)=>{i(o,s,e)}):i(e,t,n),this},get:function(t,e){if(t=H(t),!t)return;const n=G(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return Ln(r);if(c.isFunction(e))return e.call(this,r,n);if(c.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=H(t),t){const n=G(this,t);return!!(n&&(!e||Me(this,this[n],n,e)))}return!1},delete:function(t,e){const n=this;let r=!1;function i(o){if(o=H(o),o){const s=G(n,o);s&&(!e||Me(n,n[s],s,e))&&(delete n[s],r=!0)}}return c.isArray(t)?t.forEach(i):i(t),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,n={};return c.forEach(this,(r,i)=>{const o=G(n,i);if(o){e[o]=ee(r),delete e[i];return}const s=t?jn(i):String(i).trim();s!==i&&delete e[i],e[s]=ee(r),n[s]=!0}),this},toJSON:function(){const t=Object.create(null);return c.forEach(Object.assign({},this[ht]||null,this),(e,n)=>{e==null||e===!1||(t[n]=c.isArray(e)?e.join(", "):e)}),t}});Object.assign(R,{from:function(t){return c.isString(t)?new this(Mn(t)):t instanceof this?t:new this(t)},accessor:function(t){const n=(this[$e]=this[$e]={accessors:{}}).accessors,r=this.prototype;function i(o){const s=H(o);n[s]||(Fn(r,o),n[s]=!0)}return c.isArray(t)?t.forEach(i):i(t),this}});R.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);c.freezeMethods(R.prototype);c.freezeMethods(R);function qn(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[o];s||(s=u),n[i]=l,r[i]=u;let y=o,v=0;for(;y!==i;)v+=n[y++],y=y%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const m=h&&u-h;return m?Math.round(v*1e3/m):void 0}}function Le(t,e){let n=0;const r=qn(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a),u=o<=s;n=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&u?(s-o)/l:void 0};h[e?"download":"upload"]=!0,t(h)}}function je(t){return new Promise(function(n,r){let i=t.data;const o=R.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}c.isFormData(i)&&N.isStandardBrowserEnv&&o.setContentType(!1);let u=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(m+":"+E))}const h=pt(t.baseURL,t.url);u.open(t.method.toUpperCase(),lt(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function y(){if(!u)return;const m=R.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),g={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:m,config:t,request:u};On(function(b){n(b),l()},function(b){r(b),l()},g),u=null}if("onloadend"in u?u.onloadend=y:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(y)},u.onabort=function(){!u||(r(new A("Request aborted",A.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new A("Network Error",A.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||dt;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new A(E,g.clarifyTimeoutError?A.ETIMEDOUT:A.ECONNABORTED,t,u)),u=null},N.isStandardBrowserEnv){const m=(t.withCredentials||Un(h))&&t.xsrfCookieName&&Nn.read(t.xsrfCookieName);m&&o.set(t.xsrfHeaderName,m)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&c.forEach(o.toJSON(),function(E,g){u.setRequestHeader(g,E)}),c.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Le(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Le(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=m=>{!u||(r(!m||m.type?new X(null,t,u):m),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const v=kn(h);if(v&&N.protocols.indexOf(v)===-1){r(new A("Unsupported protocol "+v+":",A.ERR_BAD_REQUEST,t));return}u.send(i||null)})}const Fe={http:je,xhr:je},qe={getAdapter:t=>{if(c.isString(t)){const e=Fe[t];if(!t)throw Error(c.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!c.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:Fe},Bn={"Content-Type":"application/x-www-form-urlencoded"};function xn(){let t;return typeof XMLHttpRequest<"u"?t=qe.getAdapter("xhr"):typeof process<"u"&&c.kindOf(process)==="process"&&(t=qe.getAdapter("http")),t}function zn(t,e,n){if(c.isString(t))try{return(e||JSON.parse)(t),c.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const x={transitional:dt,adapter:xn(),transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=c.isObject(e);if(o&&c.isHTMLForm(e)&&(e=new FormData(e)),c.isFormData(e))return i&&i?JSON.stringify(ft(e)):e;if(c.isArrayBuffer(e)||c.isBuffer(e)||c.isStream(e)||c.isFile(e)||c.isBlob(e))return e;if(c.isArrayBufferView(e))return e.buffer;if(c.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Pn(e,this.formSerializer).toString();if((a=c.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return se(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),zn(e)):e}],transformResponse:[function(e){const n=this.transitional||x.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&c.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?A.from(a,A.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:N.classes.FormData,Blob:N.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};c.forEach(["delete","get","head"],function(e){x.headers[e]={}});c.forEach(["post","put","patch"],function(e){x.headers[e]=c.merge(Bn)});function le(t,e){const n=this||x,r=e||n,i=R.from(r.headers);let o=r.data;return c.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function mt(t){return!!(t&&t.__CANCEL__)}function de(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new X}function Be(t){return de(t),t.headers=R.from(t.headers),t.data=le.call(t,t.transformRequest),(t.adapter||x.adapter)(t).then(function(r){return de(t),r.data=le.call(t,t.transformResponse,r),r.headers=R.from(r.headers),r},function(r){return mt(r)||(de(t),r&&r.response&&(r.response.data=le.call(t,t.transformResponse,r.response),r.response.headers=R.from(r.response.headers))),Promise.reject(r)})}function Y(t,e){e=e||{};const n={};function r(u,h){return c.isPlainObject(u)&&c.isPlainObject(h)?c.merge(u,h):c.isPlainObject(h)?c.merge({},h):c.isArray(h)?h.slice():h}function i(u){if(c.isUndefined(e[u])){if(!c.isUndefined(t[u]))return r(void 0,t[u])}else return r(t[u],e[u])}function o(u){if(!c.isUndefined(e[u]))return r(void 0,e[u])}function s(u){if(c.isUndefined(e[u])){if(!c.isUndefined(t[u]))return r(void 0,t[u])}else return r(void 0,e[u])}function a(u){if(u in e)return r(t[u],e[u]);if(u in t)return r(void 0,t[u])}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return c.forEach(Object.keys(t).concat(Object.keys(e)),function(h){const y=l[h]||i,v=y(h);c.isUndefined(v)&&y!==a||(n[h]=v)}),n}const yt="1.1.2",Re={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Re[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const xe={};Re.transitional=function(e,n,r){function i(o,s){return"[Axios v"+yt+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new A(i(s," has been removed"+(n?" in "+n:"")),A.ERR_DEPRECATED);return n&&!xe[s]&&(xe[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Gn(t,e,n){if(typeof t!="object")throw new A("options must be an object",A.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new A("option "+o+" must be "+l,A.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new A("Unknown option "+o,A.ERR_BAD_OPTION)}}const vt={assertOptions:Gn,validators:Re},L=vt.validators;class M{constructor(e){this.defaults=e,this.interceptors={request:new ke,response:new ke}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Y(this.defaults,n);const r=n.transitional;r!==void 0&&vt.assertOptions(r,{silentJSONParsing:L.transitional(L.boolean),forcedJSONParsing:L.transitional(L.boolean),clarifyTimeoutError:L.transitional(L.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const i=n.headers&&c.merge(n.headers.common,n.headers[n.method]);i&&c.forEach(["delete","get","head","post","put","patch","common"],function(m){delete n.headers[m]}),n.headers=new R(n.headers,i);const o=[];let s=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(s=s&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const a=[];this.interceptors.response.forEach(function(m){a.push(m.fulfilled,m.rejected)});let l,u=0,h;if(!s){const v=[Be.bind(this),void 0];for(v.unshift.apply(v,o),v.push.apply(v,a),h=v.length,l=Promise.resolve(n);u<h;)l=l.then(v[u++],v[u++]);return l}h=o.length;let y=n;for(u=0;u<h;){const v=o[u++],m=o[u++];try{y=v(y)}catch(E){m.call(this,E);break}}try{l=Be.call(this,y)}catch(v){return Promise.reject(v)}for(u=0,h=a.length;u<h;)l=l.then(a[u++],a[u++]);return l}getUri(e){e=Y(this.defaults,e);const n=pt(e.baseURL,e.url);return lt(n,e.params,e.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(e){M.prototype[e]=function(n,r){return this.request(Y(r||{},{method:e,url:n,data:(r||{}).data}))}});c.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Y(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}M.prototype[e]=n(),M.prototype[e+"Form"]=n(!0)});class Ie{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new X(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ie(function(i){e=i}),cancel:e}}}function Kn(t){return function(n){return t.apply(null,n)}}function Hn(t){return c.isObject(t)&&t.isAxiosError===!0}function Et(t){const e=new M(t),n=Xe(M.prototype.request,e);return c.extend(n,M.prototype,e,{allOwnKeys:!0}),c.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Et(Y(t,i))},n}const P=Et(x);P.Axios=M;P.CanceledError=X;P.CancelToken=Ie;P.isCancel=mt;P.VERSION=yt;P.toFormData=se;P.AxiosError=A;P.Cancel=P.CanceledError;P.all=function(e){return Promise.all(e)};P.spread=Kn;P.isAxiosError=Hn;P.formToJSON=t=>ft(c.isHTMLForm(t)?new FormData(t):t);const Vn=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),gt=Ye(Vn);var p=S&&S.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(y){s(y)}}function l(h){try{u(r.throw(h))}catch(y){s(y)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},Jn=S&&S.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});const Wn=Jn(gt);class Yn{constructor(e,n){this.token=e,this.spheronApiUrl=n??"https://api-v2.spheron.network"}getTokenScope(){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,"/v1/api-keys/scope")})}getProject(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/project/${e}`)})}getProjectDeployments(e,n){return p(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return{deployments:yield this.sendApiRequest(f.GET,`/v1/project/${e}/deployments?skip=${n.skip}&limit=${n.limit}${n.status?`&status=${n.status}`:""}`)}})}getProjectDomains(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/project/${e}/domains`)})}getProjectDomain(e,n){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/project/${e}/domains/${n}`)})}addProjectDomain(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/project/${e}/domains`,n)})}patchProjectDomain(e,n,r){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/project/${e}/domains/${n}`,r)})}verifyProjectDomain(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/project/${e}/domains/${n}/verify`,{})})}deleteProjectDomain(e,n){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/project/${e}/domains/${n}`)})}getCdnRecords(){return p(this,void 0,void 0,function*(){const e=yield this.sendApiRequest(f.GET,"/v1/project/1/domains/cdn-records");return Object.assign({},e.records)})}getProjectDeploymentCount(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/project/${e}/deployments/count`)})}updateProjectState(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/project/${e}/state`,{state:n})})}updateProjectConfiguration(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PUT,`/v1/project/${e}/configuration`,n)})}createOrganization(e,n,r){return p(this,void 0,void 0,function*(){const i={username:e,name:n,appType:r},{organization:o}=yield this.sendApiRequest(f.POST,"/v1/organization",i);return o})}getOrganization(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/organization/${e}`)})}updateOrganization(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PUT,`/v1/organization/${e}`,n)})}getOrganizationProjects(e,n){return p(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return(yield this.sendApiRequest(f.GET,`/v1/organization/${e}/projects?skip=${n.skip}&limit=${n.limit}${n.state?`&state=${n.state}`:""}`)).projects})}getOrganizationProjectCount(e,n){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/organization/${e}/projects/count${n.state?`?state=${n.state}`:""}`)).count})}getProfile(){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,"/v1/profile/")).user})}verfiyGitToken(e,n,r){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/auth/${e}/cli/verify-token/${n}?port=${r}`)})}getOrganizationUsage(e,n){return p(this,void 0,void 0,function*(){const{usage:r}=yield this.sendApiRequest(f.GET,`/v1/organization/${e}/subscription-usage/specialization/${n}`);return r})}publishIPNS(e){return p(this,void 0,void 0,function*(){const n=yield this.sendApiRequest(f.POST,`/v1/ipns/deployments/${e}/names`);return this.mapIPNSResponseToIPNSName(n.ipnsName)})}updateIPNSName(e,n){return p(this,void 0,void 0,function*(){const r=yield this.sendApiRequest(f.PUT,`/v1/ipns/deployments/${n}/names/${e}`);return this.mapIPNSResponseToIPNSName(r.ipnsName)})}getIPNSName(e){return p(this,void 0,void 0,function*(){const n=yield this.sendApiRequest(f.GET,`/v1/ipns/names/${e}`);return this.mapIPNSResponseToIPNSName(n)})}getIPNSNamesForUpload(e){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/ipns/deployments/${e}/names`)).map(r=>this.mapIPNSResponseToIPNSName(r))})}getIPNSNamesForOrganization(e){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,"/v1/ipns/names",{organizationId:e})).map(r=>this.mapIPNSResponseToIPNSName(r))})}startDeployment(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,"/v1/deployment",e)})}authorizeDeployment(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/deployment/${e}/authorize`)})}cancelDeployment(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/deployment/${e}/cancel`)})}redeployDeployment(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/deployment/${e}/redeploy`)})}getDeployment(e){return p(this,void 0,void 0,function*(){const{deployment:n}=yield this.sendApiRequest(f.GET,`/v1/deployment/${e}`);return n})}suggestFramework(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,"/v1/deployment/framework/suggestion",null,{owner:e.owner,branch:e.branch,provider:e.provider,repo:e.repositoryName,root:e.root})})}addProjectEnvironmentVariables(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/project/${e}/environment-variables`,{environmentVariables:n})})}updateProjectEnvironmentVariable(e,n,r){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.PUT,`/v1/project/${e}/environment-variables/${n}`,r)).updated})}deleteProjectEnvironmentVariable(e,n){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/project/${e}/environment-variables/${n}`)})}getDeploymentEnvironments(e){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/project/${e}/deployment-environments`)).result})}createDeploymentEnvironment(e,n){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.POST,`/v1/project/${e}/deployment-environments`,n)).newEnvironment})}updateDeploymentEnvironment(e,n,r){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.PUT,`/v1/project/${e}/deployment-environments/${n}`,r)).deploymentEnvironment})}deleteDeploymentEnvironment(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.DELETE,`/v1/project/${e}/deployment-environments/${n}`)})}activateDeploymentEnvironment(e,n){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.PATCH,`/v1/project/${e}/deployment-environments/${n}/activate`)).deploymentEnvironment})}deactivateDeploymentEnvironment(e,n){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.PATCH,`/v1/project/${e}/deployment-environments/${n}/deactivate`)).deploymentEnvironment})}getOrganizationClusters(e,n){return p(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return(yield this.sendApiRequest(f.GET,`/v1/organization/${e}/clusters?skip=${n.skip}&limit=${n.limit}`)).clusters})}getCluster(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/cluster/${e}`)})}deleteCluster(e){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/cluster/${e}`)})}getClusterInstancesDetails(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/cluster/${e}/instances/count`)})}getClusterFundsUsage(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/cluster/${e}/funds-usage`)})}getClusterInstances(e,n){return p(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return(yield this.sendApiRequest(f.GET,`/v1/cluster/${e}/instances`,null,{skip:n.skip,limit:n.limit,topupReport:n.includeReport&&"y"})).extendedInstances})}getClusterTemplates(){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,"/v1/cluster-templates")).clusterTemplates})}getClusterTemplate(e){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/cluster-templates/${e}`)).clusterTemplate})}getClusterCategories(){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,"/v1/cluster-templates/categories")).categories})}getClusterInstance(e,n){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/cluster-instance/${e}`,null,{topupReport:n&&n.includeReport&&"y"})).instance})}deleteClusterInstance(e){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/cluster-instance/${e}`)})}updateClusterInstance(e,n,r){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.PATCH,`/v1/cluster-instance/${e}/update`,Object.assign(Object.assign({},r),{organizationId:n}))})}updateClusterInstanceHealthCheckInfo(e,n){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.PATCH,`/v1/cluster-instance/${e}/update/health-check`,{healthCheckUrl:n.path,healthCheckPort:n.cointainerPort})})}closeClusterInstance(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.POST,`/v1/cluster-instance/${e}/close`)})}getClusterInstanceOrder(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.GET,`/v1/cluster-instance/order/${e}`)})}getClusterInstanceOrderLogs(e,n){return p(this,void 0,void 0,function*(){if(n.from<0||n.to<0)throw new Error("From and To cannot be negative numbers.");return(yield this.sendApiRequest(f.GET,`/v1/cluster-instance/order/${e}/logs`,null,n)).order})}createClusterInstance(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.POST,"/v1/cluster-instance/create",e)})}createClusterInstanceFromTemplate(e){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.POST,"/v1/cluster-instance/template",e)})}getClusterInstanceDomains(e){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/cluster-instance/${e}/domains`)).domains})}addClusterInstanceDomain(e,n){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.POST,`/v1/cluster-instance/${e}/domains`,n)).domain})}updateClusterInstanceDomain(e,n,r){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.PATCH,`/v1/cluster-instance/${e}/domains/${n}`,r)).domain})}deleteClusterInstanceDomain(e,n){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/cluster-instance/${e}/domains/${n}`)})}verifyClusterInstanceDomain(e,n){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.PATCH,`/v1/cluster-instance/${e}/domains/${n}/verify`)})}getComputeMachines(e){return p(this,void 0,void 0,function*(){if(e.limit<0||e.skip<0)throw new Error("Limit and Skip cannot be negative numbers.");return(yield this.sendApiRequest(f.GET,"/v1/compute-machine-image",null,e)).akashMachineImages})}getComputeMachineRegions(){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,"/v1/compute-machine-image/regions")).regions})}triggerClusterInstanceHealthCheck(e,n){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.POST,`/v1/cluster-instance/${e}/trigger/container-health-check?topicId=${n}`)})}triggerClusterInstanceStatusCheck(e,n){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.POST,`/v1/cluster-instance/${e}/trigger/container-health-check?topicId=${n}`)})}triggerClusterInstanceLogFetch(e,n){return p(this,void 0,void 0,function*(){return this.sendApiRequest(f.POST,`/v1/cluster-instance/${e}/trigger/fetch-logs?topicId=${n}`)})}getPriceForToken(e){return p(this,void 0,void 0,function*(){return(yield this.sendApiRequest(f.GET,`/v1/price/liveTokenPrice/${e}`)).price})}getGPTResponse(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,"/v1/gpt/query",e)})}isWhitelisted(){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,"/v1/gpt/whitelisted")})}getOrganizationBuckets({organizationId:e,name:n,state:r,skip:i,limit:o}){return p(this,void 0,void 0,function*(){if(!e)throw new Error("Organization Id is not provided.");if(i<0||o<0)throw new Error("Skip and Limit cannot be negative numbers.");return yield this.sendApiRequest(f.GET,`/v1/organization/${e}/buckets`,null,{name:n??"",state:r??"",skip:i,limit:o})})}getOrganizationBucketCount({organizationId:e,name:n,state:r}){return p(this,void 0,void 0,function*(){if(!e)throw new Error("Organization Id is not provided.");return yield this.sendApiRequest(f.GET,`/v1/organization/${e}/buckets/count`,null,{name:n??"",state:r??""})})}getBucket(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/bucket/${e}`)})}updateBucketState(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/bucket/${e}/state`,{state:n})})}getBucketDomains(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/bucket/${e}/domains`)})}getBucketDomain(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/bucket/${e}/domains/${n}`)})}addBucketDomain(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/bucket/${e}/domains`,n)})}patchBucketDomain(e,n,r){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/bucket/${e}/domains/${n}`,r)})}verifyBucketDomain(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/bucket/${e}/domains/${n}/verify`,{})})}deleteBucketDomain(e,n){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/bucket/${e}/domains/${n}`)})}getBucketIpnsRecords(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/bucket/${e}/ipns-records`)})}getBucketIpnsRecord(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/bucket/${e}/ipns-records/${n}`)})}addBucketIpnsRecord(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/bucket/${e}/ipns-records`,{uploadId:n})})}patchBucketIpnsRecord(e,n,r){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.PATCH,`/v1/bucket/${e}/ipns-records/${n}`,{uploadId:r})})}deleteBucketIpnsRecord(e,n){return p(this,void 0,void 0,function*(){yield this.sendApiRequest(f.DELETE,`/v1/bucket/${e}/ipns-records/${n}`)})}getBucketUploads(e,n){return p(this,void 0,void 0,function*(){if(n.skip<0||n.limit<0)throw new Error("Skip and Limit cannot be negative numbers.");return{uploads:yield this.sendApiRequest(f.GET,`/v1/bucket/${e}/uploads?skip=${n.skip}&limit=${n.limit}`)}})}getBucketUploadCount(e){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.GET,`/v1/bucket/${e}/uploads/count`)})}migrateStaticSiteOrgToStorage(e,n){return p(this,void 0,void 0,function*(){return yield this.sendApiRequest(f.POST,`/v1/organization/${n}/migrate-projects`,{webappOrganizationId:e})})}getUpload(e){return p(this,void 0,void 0,function*(){const{upload:n}=yield this.sendApiRequest(f.GET,`/v1/upload/${e}`);return n})}sendApiRequest(e,n,r,i){var o,s;return p(this,void 0,void 0,function*(){try{return(yield(0,Wn.default)({method:e,url:`${this.spheronApiUrl}${n}`,data:r,headers:{Authorization:`Bearer ${this.token}`},params:i})).data}catch(a){throw new Error(((s=(o=a.response)===null||o===void 0?void 0:o.data)===null||s===void 0?void 0:s.message)||a?.message)}})}mapIPNSResponseToIPNSName(e){return{id:e._id,publishedUploadId:e.publishedDeploymentId,organizationId:e.organizationId,createdAt:e.createdAt,updatedAt:e.updatedAt,ipnsHash:e.keyId,ipnsLink:e.ipnsLink}}}var f;(function(t){t.GET="Get",t.POST="Post",t.PATCH="Patch",t.DELETE="Delete",t.PUT="Put"})(f||(f={}));Se.default=Yn;var Oe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterProtocolEnum=t.PersistentStorageClassEnum=t.InstanceLogType=t.MarketplaceCategoryEnum=t.HealthStatusEnum=t.InstanceStateEnum=t.ClusterStateEnum=t.ProviderEnum=t.AppTypeEnum=t.DeploymentStatusEnum=t.DomainApplicationTypeEnum=t.DomainTypeEnum=t.FrameworkEnum=t.NodeVersionEnum=t.ProjectStateEnum=t.DeploymentEnvironmentStatusEnum=t.ProjectTypeEnum=t.ProtocolEnum=void 0,function(d){d.ARWEAVE="arweave",d.FILECOIN="ipfs-filecoin",d.IPFS="ipfs"}(t.ProtocolEnum||(t.ProtocolEnum={}));var e;(function(d){d.STANDARD="STANDARD",d.UPLOAD="UPLOAD"})(e||(e={})),t.ProjectTypeEnum=e;var n;(function(d){d.ACTIVE="ACTIVE",d.INACTIVE="INACTIVE",d.PAYMENT_PENDING="PAYMENT_PENDING"})(n||(n={})),t.DeploymentEnvironmentStatusEnum=n;var r;(function(d){d.MAINTAINED="MAINTAINED",d.ARCHIVED="ARCHIVED"})(r||(r={})),t.ProjectStateEnum=r;var i;(function(d){d.DOMAIN="domain",d.SUBDOMAIN="subdomain",d.HANDSHAKE_DOMAIN="handshake-domain",d.HANDSHAKE_SUBDOMAIN="handshake-subdomain",d.ENS_DOMAIN="ens-domain"})(i||(i={})),t.DomainTypeEnum=i;var o;(function(d){d[d.WEB=1]="WEB",d[d.COMPUTE=2]="COMPUTE"})(o||(o={})),t.DomainApplicationTypeEnum=o;var s;(function(d){d.V_12="V_12",d.V_14="V_14",d.V_16="V_16"})(s||(s={})),t.NodeVersionEnum=s;var a;(function(d){d.SIMPLE_JAVASCRIPT_APP="static",d.VUE="vue",d.REACT="react",d.NEXT="next",d.ANGULAR="angular",d.PREACT="preact",d.NUXT="nuxt2",d.SVELTE="svelte",d.GATSBY="gatsby",d.ELEVENTY="eleventy",d.DOCUSAURUS="docusaurus",d.SANITY="sanity",d.HUGO="hugo",d.IONIC_REACT="ionicreact",d.VITE="vite",d.SCULLY="scully",d.STENCIL="stencil",d.BRUNCH="brunch",d.IONIC_ANGULAR="ionicangular"})(a||(a={})),t.FrameworkEnum=a;var l;(function(d){d.PRE_QUEUE="PreQueue",d.QUEUED="Queued",d.PENDING="Pending",d.CANCELED="Canceled",d.DEPLOYED="Deployed",d.FAILED="Failed",d.AUTHORIZATION_NEEDED="AuthorizationNeeded",d.KILLING="Killing",d.TIMED_OUT="TimedOut"})(l||(l={})),t.DeploymentStatusEnum=l;var u;(function(d){d.WEB_APP="app",d.COMPUTE="compute"})(u||(u={})),t.AppTypeEnum=u;var h;(function(d){d.GITHUB="GITHUB",d.GITLAB="GITLAB",d.BITBUCKET="BITBUCKET",d.DOCKERHUB="DOCKERHUB"})(h||(h={})),t.ProviderEnum=h;var y;(function(d){d.MAINTAINED="MAINTAINED",d.ARCHIVED="ARCHIVED"})(y||(y={})),t.ClusterStateEnum=y;var v;(function(d){d.STARTING="Starting",d.FAILED_START="Failed-start",d.ACTIVE="Active",d.CLOSED="Closed"})(v||(v={})),t.InstanceStateEnum=v;var m;(function(d){d.ACTIVE="Active",d.INACTIVE="Inactive",d.UNKNOWN="Unknown"})(m||(m={})),t.HealthStatusEnum=m;var E;(function(d){d.DATABASE="Database",d.NODE="Node",d.TOOLS="Tools"})(E||(E={})),t.MarketplaceCategoryEnum=E;var g;(function(d){d.DEPLOYMENT_LOGS="logs",d.INSTANCE_LOGS="instanceLogs",d.INSTANCE_EVENTS="instanceEvents"})(g||(g={})),t.InstanceLogType=g;var T;(function(d){d.HDD="beta1",d.SSD="beta2",d.NVMe="beta3"})(T||(T={})),t.PersistentStorageClassEnum=T;var b;(function(d){d.AKASH="akash"})(b||(b={})),t.ClusterProtocolEnum=b})(Oe);var F={};Object.defineProperty(F,"__esModule",{value:!0});F.UploadStatusEnum=F.BucketStateEnum=void 0;var ve;(function(t){t.MAINTAINED="MAINTAINED",t.ARCHIVED="ARCHIVED"})(ve||(ve={}));F.BucketStateEnum=ve;var Ee;(function(t){t.IN_PROGRESS="InProgress",t.CANCELED="Canceled",t.UPLOADED="Uploaded",t.FAILED="Failed",t.TIMED_OUT="TimedOut",t.PINNED="Pinned",t.UNPINNED="Unpinned"})(Ee||(Ee={}));F.UploadStatusEnum=Ee;var ae={};class Qn{constructor(e){this.value=e,this.next=void 0}}class Zn{constructor(){this.clear()}enqueue(e){const n=new Qn(e);this._head?(this._tail.next=n,this._tail=n):(this._head=n,this._tail=n),this._size++}dequeue(){const e=this._head;if(!!e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}var Xn=Zn;const er=Xn,tr=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const e=new er;let n=0;const r=()=>{n--,e.size>0&&e.dequeue()()},i=async(a,l,...u)=>{n++;const h=(async()=>a(...u))();l(h);try{await h}catch{}r()},o=(a,l,...u)=>{e.enqueue(i.bind(null,a,l,...u)),(async()=>(await Promise.resolve(),n<t&&e.size>0&&e.dequeue()()))()},s=(a,...l)=>new Promise(u=>{o(a,u,...l)});return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),s};var nr=tr,j=S&&S.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(y){s(y)}}function l(h){try{u(r.throw(h))}catch(y){s(y)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},At=S&&S.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ae,"__esModule",{value:!0});ae.UploadManager=void 0;const K=At(gt),rr=At(nr),ir=Oe;class or{constructor(e){this.spheronApiUrl=e??"https://api-v2.spheron.network"}initiateUpload(e){var n,r;return j(this,void 0,void 0,function*(){try{this.validateUploadConfiguration(e);let i=`${this.spheronApiUrl}/v1/upload/initiate?protocol=${e.protocol}&bucket=${e.name}`;return e.organizationId&&(i+=`&organization=${e.organizationId}`),e.createSingleUseToken&&(i+=`&create_single_use_token=${e.createSingleUseToken}`),(yield K.default.post(i,{},{headers:{Authorization:`Bearer ${e.token}`}})).data}catch(i){const o=((r=(n=i?.response)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r.message)||i?.message;throw new Error(o)}})}pinCID(e){var n,r;return j(this,void 0,void 0,function*(){try{if(!e.name)throw new Error("Bucket name is not provided.");let i=`${this.spheronApiUrl}/v2/ipfs/pin/${e.cid}?bucket=${e.name}`;return e.organizationId&&(i+=`&organization=${e.organizationId}`),(yield K.default.post(i,{},{headers:{Authorization:`Bearer ${e.token}`}})).data}catch(i){const o=((r=(n=i?.response)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r.message)||i?.message;throw new Error(o)}})}getCIDStatus(e){var n,r;return j(this,void 0,void 0,function*(){try{if(!e)throw new Error("CID is not provided.");const i=`${this.spheronApiUrl}/v2/ipfs/pins/${e}/status`;return(yield K.default.get(i)).data}catch(i){const o=((r=(n=i?.response)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r.message)||i?.message;throw new Error(o)}})}uploadPayloads(e,n){return j(this,void 0,void 0,function*(){let r="";const i=(0,rr.default)(n.parallelUploadCount),o=(s,a)=>j(this,void 0,void 0,function*(){var l,u;try{if(r)return;const{data:h}=yield K.default.post(`${this.spheronApiUrl}/v1/upload/${a}/data`,s,this.getAxiosRequestConfig(n.token));n.onChunkUploaded&&n.onChunkUploaded(h.uploadSize)}catch(h){r=((u=(l=h?.response)===null||l===void 0?void 0:l.data)===null||u===void 0?void 0:u.message)||h?.message}});return yield Promise.all(e.map(s=>i(()=>o(s,n.uploadId)))),{success:!r,errorMessage:r}})}finalizeUpload(e,n,r){var i,o;return j(this,void 0,void 0,function*(){try{return(yield K.default.post(`${this.spheronApiUrl}/v1/upload/${e}/finish?action=${n?"UPLOAD":"CANCEL"}`,{},this.getAxiosRequestConfig(r))).data}catch(s){const a=((o=(i=s?.response)===null||i===void 0?void 0:i.data)===null||o===void 0?void 0:o.message)||s?.message;throw new Error(a)}})}validateUploadConfiguration(e){const n=Object.values(ir.ProtocolEnum);if(n.indexOf(e.protocol)===-1)throw new Error(`Protocol '${e.protocol}' is not supported. Supported protocols are [${n.join(", ")}].`);if(!e.name)throw new Error("Bucket name is not provided.")}getAxiosRequestConfig(e){return{headers:{Authorization:`Bearer ${e}`}}}}ae.UploadManager=or;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var bt={};Object.defineProperty(bt,"__esModule",{value:!0});(function(t){var e=S&&S.__createBinding||(Object.create?function(o,s,a,l){l===void 0&&(l=a);var u=Object.getOwnPropertyDescriptor(s,a);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,u)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]}),n=S&&S.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,o,a)},r=S&&S.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpheronApi=void 0;var i=Se;Object.defineProperty(t,"SpheronApi",{enumerable:!0,get:function(){return r(i).default}}),n(Oe,t),n(F,t),n(ae,t),n(Tt,t),n(bt,t)})(Ze);function ge(t){this.message=t}ge.prototype=new Error,ge.prototype.name="InvalidCharacterError";var ze=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new ge("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=e.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function sr(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(ze(n).replace(/(.)/g,function(r,i){var o=i.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(e)}catch{return ze(e)}}function Q(t){this.message=t}function ar(t,e){if(typeof t!="string")throw new Q("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(sr(t.split(".")[n]))}catch(r){throw new Q("Invalid token specified: "+r.message)}}Q.prototype=new Error,Q.prototype.name="InvalidTokenError";const ur=Object.freeze(Object.defineProperty({__proto__:null,default:ar,InvalidTokenError:Q},Symbol.toStringTag,{value:"Module"})),cr=Ye(ur);var St={},Ne={};(function(t){var e=S&&S.__awaiter||function(s,a,l,u){function h(y){return y instanceof l?y:new l(function(v){v(y)})}return new(l||(l=Promise))(function(y,v){function m(T){try{g(u.next(T))}catch(b){v(b)}}function E(T){try{g(u.throw(T))}catch(b){v(b)}}function g(T){T.done?y(T.value):h(T.value).then(m,E)}g((u=u.apply(s,a||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.encryptWithSymmetricKey=t.generateSymmetricKey=t.decryptWithSymmetricKey=t.importSymmetricKey=t.SYMM_KEY_ALGO_PARAMS=void 0,t.SYMM_KEY_ALGO_PARAMS={name:"AES-CBC",length:256};const n=s=>e(void 0,void 0,void 0,function*(){return yield crypto.subtle.importKey("raw",s,t.SYMM_KEY_ALGO_PARAMS,!0,["encrypt","decrypt"])});t.importSymmetricKey=n;const r=(s,a)=>e(void 0,void 0,void 0,function*(){const l=yield s.slice(0,16),u=yield s.slice(16);return yield crypto.subtle.decrypt({name:"AES-CBC",iv:l},a,u)});t.decryptWithSymmetricKey=r;const i=()=>e(void 0,void 0,void 0,function*(){return yield crypto.subtle.generateKey(t.SYMM_KEY_ALGO_PARAMS,!0,["encrypt","decrypt"])});t.generateSymmetricKey=i;const o=(s,a)=>e(void 0,void 0,void 0,function*(){const l=crypto.getRandomValues(new Uint8Array(16)),u=yield crypto.subtle.encrypt({name:"AES-CBC",iv:l},s,a);return new Uint8Array([...l,...new Uint8Array(u)])});t.encryptWithSymmetricKey=o})(Ne);var q={},_t=S&&S.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(y){s(y)}}function l(h){try{u(r.throw(h))}catch(y){s(y)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(q,"__esModule",{value:!0});q.decryptData=q.encryptData=void 0;const re=Ne,lr=t=>_t(void 0,void 0,void 0,function*(){const e=yield(0,re.generateSymmetricKey)(),n=yield(0,re.encryptWithSymmetricKey)(e,t);return{symmetricKey:new Uint8Array(yield crypto.subtle.exportKey("raw",e)),encryptedData:n}});q.encryptData=lr;const dr=(t,e)=>_t(void 0,void 0,void 0,function*(){const n=yield(0,re.importSymmetricKey)(e);return yield(0,re.decryptWithSymmetricKey)(t,n)});q.decryptData=dr;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});var w={};Object.defineProperty(w,"__esModule",{value:!0});w.convertJsonToFile=w.uint8arrayToString=w.uint8arrayFromString=w.uint8ArrayToBase64=w.base64ToUint8Array=w.utf8Decode=void 0;function fr(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|r&63):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Rt(t){let e="",n=0;for(;n<t.length;){let r=t[n++];r<128?e+=String.fromCharCode(r):r>191&&r<224?e+=String.fromCharCode((r&31)<<6|t[n++]&63):r>239&&r<365?(r=(r&7)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63,r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(r&1023))):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63)}return e}w.utf8Decode=Rt;function Ae(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}w.base64ToUint8Array=Ae;function Te(t){const e=String.fromCharCode(...t);return btoa(e)}w.uint8ArrayToBase64=Te;function pr(t){return t.replace("-","+").replace("_","/")+"=".repeat((4-t.length%4)%4)}function hr(t){return t.replace("+","-").replace("/","_").replace(/=+$/,"")}function mr(t,e="utf8"){switch(e){case"utf8":return fr(t);case"base16":{const n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.slice(r,r+2),16));return new Uint8Array(n)}case"base64":return Ae(t);case"base64urlpad":return Ae(pr(t));default:throw new Error(`Unsupported encoding "${e}"`)}}w.uint8arrayFromString=mr;function yr(t,e="utf8"){const n=new Uint8Array(t);switch(e){case"utf8":return Rt(n);case"base16":return Array.from(n).map(r=>r.toString(16).padStart(2,"0")).join("");case"base64":return Te(n);case"base64urlpad":return hr(Te(n));default:throw new Error(`Unsupported encoding "${e}"`)}}w.uint8arrayToString=yr;const vr=(t,e)=>{const n=new Blob([JSON.stringify(t)],{type:"application/json"});return new File([n],e,{type:"application/json"})};w.convertJsonToFile=vr;(function(t){var e=S&&S.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=S&&S.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ne,t),n(q,t),n(wt,t),n(Pt,t),n(w,t);try{globalThis.crypto=Lt.webcrypto}catch{}})(St);var Er=Object.create,ue=Object.defineProperty,gr=Object.getOwnPropertyDescriptor,Ar=Object.getOwnPropertyNames,Tr=Object.getPrototypeOf,br=Object.prototype.hasOwnProperty,Sr=(t,e)=>{for(var n in e)ue(t,n,{get:e[n],enumerable:!0})},It=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ar(e))!br.call(t,i)&&i!==n&&ue(t,i,{get:()=>e[i],enumerable:!(r=gr(e,i))||r.enumerable});return t},Ot=(t,e,n)=>(n=t!=null?Er(Tr(t)):{},It(e||!t||!t.__esModule?ue(n,"default",{value:t,enumerable:!0}):n,t)),_r=t=>It(ue({},"__esModule",{value:!0}),t),ce=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(u){i(u)}},s=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())}),Nt={};Sr(Nt,{ProtocolEnum:()=>be.ProtocolEnum,UploadResult:()=>be.UploadResult,decryptUpload:()=>Nr,encryptUpload:()=>Or,upload:()=>Ct});var wr=_r(Nt),be=Ze,Ge=Ot(at),Pr=(t,e)=>ce(void 0,null,function*(){const n={payloads:new Array,currentPayload:null,currentPayloadSize:0,totalSize:0};return t.forEach(r=>{if(n.totalSize+=r.size,r.size>e){const i=Rr(r,e);i.forEach((o,s)=>{const a=new Ge.default;a.append(`chunk-${s}-${i.length}`,new File([o],r.name),r.name),n.payloads.push(a)})}else n.currentPayload||(n.currentPayload=new Ge.default),n.currentPayload.append("files",r,r.name),n.currentPayloadSize+=r.size,n.currentPayloadSize>e&&(n.payloads.push(n.currentPayload),n.currentPayload=null,n.currentPayloadSize=0)}),n.currentPayload&&n.payloads.push(n.currentPayload),{payloads:n.payloads,totalSize:n.totalSize}});function Rr(t,e){const n=[];let r=0,i=e;for(;r<t.size;){const o=t.slice(r,i);n.push(o),r+=e,i+=e}return n}var Ir=Ot(cr),V=St;function Ct(t,e){return ce(this,null,function*(){var n,r,i;let o=[];if(t instanceof FileList?o=Array.from(t):Array.isArray(t)&&(o=t),!o||o.length===0)throw new Error("No files to upload.");if(!e.token)throw new Error("No token provided.");const s=(0,Ir.default)(e.token),a=(n=s?.uploadId)!=null?n:"";if(!a)throw new Error("The provided token is invalid.");const l=(r=s?.payloadSize)!=null?r:5*5*1024,u=(i=s?.parallelUploadCount)!=null?i:3,{payloads:h,totalSize:y}=yield Pr(o,l);let v=!0,m;const E=new be.UploadManager(e.apiUrl);try{const T=yield E.uploadPayloads(h,{uploadId:a,token:e.token,parallelUploadCount:u,onChunkUploaded:b=>e.onChunkUploaded&&e.onChunkUploaded(b,y)});if(!T.success)throw new Error(T.errorMessage)}catch(T){v=!1,m=T}const g=yield E.finalizeUpload(a,v,e.token);if(m)throw m;if(!g.success)throw new Error(`Upload failed. ${g.message}`);return{uploadId:g.uploadId,bucketId:g.bucketId,protocolLink:g.protocolLink,dynamicLinks:g.dynamicLinks,cid:g.cid}})}function Or(t){return ce(this,arguments,function*({authSig:e,sessionSigs:n,accessControlConditions:r,evmContractConditions:i,solRpcConditions:o,unifiedAccessControlConditions:s,chain:a,string:l,file:u,litNodeClient:h,configuration:y}){if(!l&&!u)throw new Error("Either string or file must be provided");if(!y?.token)throw new Error("Token must be provided");let v=null;if(l&&u)throw new Error("Provide only either a string or file to encrypt");if(l?v=(0,V.uint8arrayFromString)(l,"utf8"):u&&(v=new Uint8Array(yield u.arrayBuffer())),v===null)throw new Error("Failed to encrypt data");const{symmetricKey:m,encryptedData:E}=yield(0,V.encryptData)(v),g=yield h.saveEncryptionKey({accessControlConditions:r,evmContractConditions:i,solRpcConditions:o,unifiedAccessControlConditions:s,symmetricKey:m,authSig:e,sessionSigs:n,chain:a}),T=(0,V.uint8arrayToString)(g,"base16"),b=Buffer.from(yield E).toJSON(),d=JSON.stringify({encryptedData:b,encryptedSymmetricKeyString:T,accessControlConditions:r,evmContractConditions:i,solRpcConditions:o,unifiedAccessControlConditions:s,chain:a}),z=(0,V.convertJsonToFile)(d,"data.json");return yield Ct([z],y)})}function Nr(t){return ce(this,arguments,function*({authSig:e,sessionSigs:n,ipfsCid:r,litNodeClient:i}){const o=yield(yield fetch(`https://${r}.ipfs.sphn.link/data.json`).catch(()=>{throw new Error("Error finding metadata from IPFS CID")})).json(),s=JSON.parse(o),a=yield i.getEncryptionKey({accessControlConditions:s.accessControlConditions,evmContractConditions:s.evmContractConditions,solRpcConditions:s.solRpcConditions,unifiedAccessControlConditions:s.unifiedAccessControlConditions,toDecrypt:s.encryptedSymmetricKeyString,chain:s.chain,authSig:e,sessionSigs:n}),l=new Uint8Array(Buffer.from(s.encryptedData));return(0,V.decryptData)(l,a)})}function W(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W=function(e){return typeof e}:W=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(t)}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dr(t,e,n){return e&&Ke(t.prototype,e),n&&Ke(t,n),t}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?He(Object(n),!0).forEach(function(r){Dt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ur="2.0.0",I={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},PRIVATE_KEY_CLIENT_SIDE:{message:"privateKey should not be passed on the client side",help:""},MISSING_UPLOAD_DATA:{message:"Missing data for upload",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_AUTHENTICATION_ENDPOINT:{message:"Missing authentication endpoint for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},AUTH_ENDPOINT_TIMEOUT:{message:"The authenticationEndpoint you provided timed out in 60 seconds",help:""},AUTH_ENDPOINT_NETWORK_ERROR:{message:"Request to authenticationEndpoint failed due to network error",help:""},AUTH_INVALID_RESPONSE:{message:"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, sginature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, sginature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, sginature and expire for authentication.",help:""}};function O(t,e,n){typeof n=="function"&&(t?n(e,null):n(null,e))}function kr(t){var e={},n=t.getAllResponseHeaders();return Object.keys(n).length&&n.trim().split(/[\r\n]+/).map(function(r){return r.split(/: /)}).forEach(function(r){e[r[0].trim()]=r[1].trim()}),e}var Ve=function(e,n){var r=$({},e),i={statusCode:n.status,headers:kr(n)};return Object.defineProperty(r,"$ResponseMetadata",{value:i,enumerable:!1,writable:!1}),r},$r=function(e,n,r){Mr(e,n).then(function(i){return O(!1,i,r)},function(i){return O(!0,i,r)})},Mr=function(e,n){return new Promise(function(r,i){e.open("POST","https://upload.imagekit.io/api/v1/files/upload"),e.onerror=function(o){return i(I.UPLOAD_ENDPOINT_NETWORK_ERROR)},e.onload=function(){if(e.status===200)try{var o=JSON.parse(e.responseText),s=Ve(o,e);return r(s)}catch(l){return i(l)}else try{var o=JSON.parse(e.responseText),a=Ve(o,e);return i(a)}catch(l){return i(l)}},e.send(n)})},Lr=function(e,n,r,i){if(!n.file){O(!0,I.MISSING_UPLOAD_FILE_PARAMETER,i);return}if(!n.fileName){O(!0,I.MISSING_UPLOAD_FILENAME_PARAMETER,i);return}if(!r.publicKey){O(!0,I.MISSING_PUBLIC_KEY,i);return}if(!n.token){O(!0,I.MISSING_TOKEN,i);return}if(!n.signature){O(!0,I.MISSING_SIGNATURE,i);return}if(!n.expire){O(!0,I.MISSING_EXPIRE,i);return}var o=new FormData,s;for(s in n)s&&(s==="file"&&typeof n.file!="string"?o.append("file",n.file,String(n.fileName)):s==="tags"&&Array.isArray(n.tags)?o.append("tags",n.tags.join(",")):s==="signature"?o.append("signature",n.signature):s==="expire"?o.append("expire",String(n.expire)):s==="token"?o.append("token",n.token):s==="responseFields"&&Array.isArray(n.responseFields)?o.append("responseFields",n.responseFields.join(",")):s==="extensions"&&Array.isArray(n.extensions)?o.append("extensions",JSON.stringify(n.extensions)):s==="customMetadata"&&W(n.customMetadata)==="object"&&!Array.isArray(n.customMetadata)&&n.customMetadata!==null?o.append("customMetadata",JSON.stringify(n.customMetadata)):n[s]!==void 0&&o.append(s,String(n[s])));o.append("publicKey",r.publicKey),$r(e,o,i)},Je={width:"w",height:"h",aspectRatio:"ar",quality:"q",crop:"c",cropMode:"cm",focus:"fo",x:"x",y:"y",format:"f",radius:"r",background:"bg",border:"b",rotation:"rt",rotate:"rt",blur:"bl",named:"n",overlayImage:"oi",overlayImageAspectRatio:"oiar",overlayImageBackground:"oibg",overlayImageBorder:"oib",overlayImageDPR:"oidpr",overlayImageQuality:"oiq",overlayImageCropping:"oic",overlayImageTrim:"oit",overlayX:"ox",overlayY:"oy",overlayFocus:"ofo",overlayHeight:"oh",overlayWidth:"ow",overlayText:"ot",overlayTextFontSize:"ots",overlayTextFontFamily:"otf",overlayTextColor:"otc",overlayTextTransparency:"oa",overlayAlpha:"oa",overlayTextTypography:"ott",overlayBackground:"obg",overlayTextEncoded:"ote",overlayTextWidth:"otw",overlayTextBackground:"otbg",overlayTextPadding:"otp",overlayTextInnerAlignment:"otia",overlayRadius:"or",progressive:"pr",lossless:"lo",trim:"t",metadata:"md",colorProfile:"cp",defaultImage:"di",dpr:"dpr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",original:"orig",raw:"raw"},Ut="path",kt="query",jr=[Ut,kt],Fr=":",qr=",",Br="-",D={getDefault:function(){return Ut},addAsQueryParameter:function(e){return e.transformationPosition===kt},validParameters:function(e){return typeof e.transformationPosition>"u"?!1:jr.indexOf(e.transformationPosition)!=-1},getTransformKey:function(e){return e&&(Je[e]||Je[e.toLowerCase()])||""},getChainTransformDelimiter:function(){return Fr},getTransformDelimiter:function(){return qr},getTransformKeyValueDelimiter:function(){return Br}},We="tr";function xr(t){return typeof t=="string"&&t[t.length-1]=="/"&&(t=t.substring(0,t.length-1)),t}function zr(t){return typeof t=="string"&&t[0]=="/"&&(t=t.slice(1)),t}function te(t,e){var n=e||"/",r=new RegExp(n+"{1,}","g");return t.join(n).replace(r,n)}var Gr=function(e){if(!e.path&&!e.src)return"";var n,r,i;try{e.path?(i=new URL(e.urlEndpoint).pathname,n=new URL(te([e.urlEndpoint.replace(i,""),e.path]))):(n=new URL(e.src),r=!0)}catch(a){return console.error(a),""}for(var o in e.queryParameters)n.searchParams.append(o,String(e.queryParameters[o]));var s=Kr(e.transformation);return s&&s.length&&(D.addAsQueryParameter(e)||r?n.searchParams.append(We,s):n.pathname=te([We+D.getChainTransformDelimiter()+s,n.pathname])),i?n.pathname=te([i,n.pathname]):n.pathname=te([n.pathname]),n.href};function Kr(t){if(!Array.isArray(t))return"";for(var e=[],n=0,r=t.length;n<r;n++){var i=[];for(var o in t[n]){var s=D.getTransformKey(o);if(s||(s=o),t[n][o]==="-")i.push(s);else if(o==="raw")i.push(t[n][o]);else{var a=t[n][o];(s==="oi"||s==="di")&&(a=xr(zr(a||"")),a=a.replace(/\//g,"@@")),i.push([s,a].join(D.getTransformKeyValueDelimiter()))}}e.push(i.join(D.getTransformDelimiter()))}return e.join(D.getChainTransformDelimiter())}var Hr=function(e,n){return Gr($($({},n),e))};function Vr(t){return t.urlEndpoint}var Jr=function(e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i.length===n.length&&typeof i[i.length-1]<"u"){if(typeof i[i.length-1]!="function")throw new Error("Callback must be a function.");n.call.apply(n,[e].concat(i))}else return new Promise(function(s,a){var l=function(h){if(h)return a(h);for(var y=arguments.length,v=new Array(y>1?y-1:0),m=1;m<y;m++)v[m-1]=arguments[m];s(v.length>1?v:v[0])};i.pop(),i.push(l),n.call.apply(n,[e].concat(i))})}},Wr=function(){function t(e){if(Cr(this,t),Dt(this,"options",{sdkVersion:"javascript-".concat(Ur),publicKey:"",urlEndpoint:"",transformationPosition:D.getDefault()}),this.options=$($({},this.options),e||{}),!Vr(this.options))throw I.MANDATORY_INITIALIZATION_MISSING;if(!D.validParameters(this.options))throw I.INVALID_TRANSFORMATION_POSITION}return Dr(t,[{key:"url",value:function(n){return Hr(n,this.options)}},{key:"upload",value:function(n,r,i){var o;if(typeof r=="function"?o=r:i=r||{},!n||W(n)!=="object")return O(!0,I.INVALID_UPLOAD_OPTIONS,o);var s=$($({},this.options),i),a=n||{},l=a.xhr;delete n.xhr;var u=l||new XMLHttpRequest;return Jr(this,Lr)(u,n,s,o)}}]),t}();const Yr={name:"FileUploadInput",props:["btnCls","maxFileSize"],emits:["processUploadedFileUrl"],data(){return{componentId:null,file:null,newFileName:null,uploadedFileSize:null,uploadToken:null,waitingUpload:!1}},mounted(){this.componentId=this.$.uid},computed:{fileTooBig(){if(this.uploadedFileSize)return this.maxFileSize&&this.uploadedFileSize>this.maxFileSize}},methods:{async fallbackUpload(){const t=window.location.origin;let e;this.$config.fileUploadTokenService==="netlify"?e=t+"/.netlify/functions/imageUploaderFallback":this.$config.fileUploadTokenService==="vercel"&&(e=t+"/api/imageUploaderFallback");const n=await $fetch(e).catch(s=>s.data);let r=n;typeof n=="string"&&(r=JSON.parse(n));const o=await new Wr({publicKey:this.$config.imagekitPublicKey,urlEndpoint:this.$config.imagekitEndpoint}).upload({file:this.file,fileName:this.newFileName,tags:[this.$config.projectName,this.$config.projectUrl],token:r.data.token,signature:r.data.signature,expire:r.data.expire});this.$emit("processUploadedFileUrl",o.url),this.waitingUpload=!1},async fetchUploadToken(){const t=window.location.origin;let e;if(this.$config.fileUploadTokenService==="netlify"?e=t+"/.netlify/functions/imageUploader":this.$config.fileUploadTokenService==="vercel"&&(e=t+"/api/imageUploader"),e)try{const n=await $fetch(e).catch(i=>i.data);let r=n;if(typeof n=="string"&&(r=JSON.parse(n)),r?.error)throw console.log("Error fetching upload token: ",r.error),r.error;r?.data&&(this.uploadToken=r.data)}catch(n){throw console.log("Error fetching a file upload token: ",n),n}},handleFileInput(t){const e=t.target.files[0];if(this.uploadedFileSize=e.size,this.maxFileSize&&e.size>this.maxFileSize){const o=this.maxFileSize/1024/1024;console.error("File is too large (max size is "+o+" MB)");return}const r=e.name.split(".").pop();this.newFileName=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+"."+r;const i=new File([e],this.newFileName,{type:e.type});this.file=i},async uploadFile(){this.waitingUpload=!0;try{if(await this.fetchUploadToken(),this.uploadToken){const t=this.uploadToken,{protocolLink:e,cid:n}=await wr.upload([this.file],{token:t}),r=this.$config.ipfsGateway+n+"/"+this.newFileName;this.$emit("processUploadedFileUrl",r)}}catch{console.log("Error uploading file. Switching to fallback upload method."),await this.fallbackUpload()}this.waitingUpload=!1}}},Qr=["id"],Zr=["disabled"],Xr={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ei={key:0,class:"alert alert-danger mt-3",role:"alert"};function ti(t,e,n,r,i,o){return U(),k(Ft,null,[_("input",{onChange:e[0]||(e[0]=(...s)=>o.handleFileInput&&o.handleFileInput(...s)),type:"file",class:"form-control form-control-lg mb-3",id:"file-input-"+i.componentId},null,40,Qr),_("button",{type:"button",class:fe(n.btnCls),onClick:e[1]||(e[1]=(...s)=>o.uploadFile&&o.uploadFile(...s)),disabled:i.waitingUpload||!i.file||o.fileTooBig},[i.waitingUpload?(U(),k("span",Xr)):J("",!0),jt(" Upload ")],10,Zr),o.fileTooBig?(U(),k("div",ei," File is too big (max size is "+pe(n.maxFileSize/1024/1024)+" MB). ",1)):J("",!0)],64)}const ni=Qe(Yr,[["render",ti]]),ri={name:"FileUploadModal",props:["title","componentId","infoText","maxFileSize"],emits:["processFileUrl"],components:{FileUploadInput:ni},data(){return{currentTab:"upload",pastedLink:null}},mounted(){this.fileUploadEnabled||(this.currentTab="paste")},computed:{fileUploadEnabled(){return this.siteStore.getFileUploadEnabled},getTitle(){return this.title||"Upload file"}},methods:{processUploadedFileUrl(t){this.$emit("processFileUrl",t),document.getElementById("closeFileUploadModal"+this.componentId).click()}},setup(){return{siteStore:Mt()}},watch:{fileUploadEnabled(){this.fileUploadEnabled?this.currentTab="upload":this.currentTab="paste"}}},ii=["id","aria-labelledby"],oi={class:"modal-dialog"},si={class:"modal-content"},ai={class:"modal-header"},ui=["id"],ci=["id"],li={class:"modal-body mb-4"},di={class:"nav nav-tabs nav-fill"},fi={class:"nav-item"},pi=["disabled"],hi={class:"nav-item"},mi={class:"tab-content mt-3"},yi={key:0},vi={key:0},Ei={key:1},gi=_("p",null,"Paste file link",-1),Ai=["disabled"];function Ti(t,e,n,r,i,o){const s=zt("FileUploadInput");return U(),k("div",{class:"modal fade",id:"fileUploadModal"+n.componentId,tabindex:"-1","aria-labelledby":"fileUploadModalLabel"+n.componentId,"aria-hidden":"true"},[_("div",oi,[_("div",si,[_("div",ai,[_("h1",{class:"modal-title fs-5",id:"fileUploadModalLabel"+n.componentId},pe(o.getTitle),9,ui),_("button",{id:"closeFileUploadModal"+n.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,ci)]),_("div",li,[_("ul",di,[_("li",fi,[_("button",{disabled:!this.fileUploadEnabled,class:fe(["nav-link",i.currentTab==="upload"?"active":""]),onClick:e[0]||(e[0]=a=>i.currentTab="upload")},"Upload",10,pi)]),_("li",hi,[_("button",{class:fe(["nav-link",i.currentTab==="paste"?"active":""]),onClick:e[1]||(e[1]=a=>i.currentTab="paste")},"Paste Link",2)])]),_("div",mi,[i.currentTab==="upload"?(U(),k("div",yi,[n.infoText?(U(),k("p",vi,pe(n.infoText),1)):J("",!0),qt(s,{btnCls:"btn btn-primary",maxFileSize:n.maxFileSize,onProcessUploadedFileUrl:o.processUploadedFileUrl},null,8,["maxFileSize","onProcessUploadedFileUrl"])])):J("",!0),i.currentTab==="paste"?(U(),k("div",Ei,[gi,Bt(_("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>i.pastedLink=a),type:"text",class:"form-control mb-3",placeholder:"Enter http link to file"},null,512),[[xt,i.pastedLink]]),_("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=a=>o.processUploadedFileUrl(i.pastedLink)),disabled:!i.pastedLink}," Submit link ",8,Ai)])):J("",!0)])])])])],8,ii)}const _i=Qe(ri,[["render",Ti]]);export{_i as F,ni as a};
