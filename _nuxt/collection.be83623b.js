import{H as Ib,T as Mb,M as xb}from"./components.2a6fbe9e.js";import{J as Tb,ab as Ob,ac as Rb,ad as Nb,ae as Pb,af as Db,ag as Lb,ah as jb,ai as Bb,aj as Fb,ak as $b,al as Ub,am as Sf,an as Ef,ao as au,ap as Cf,aq as kf,ar as Af,as as If,at as cu,au as Mf,av as uu,aw as xf,ax as Ki,ay as Qn,az as Tf,D as Is,aA as Wb,aB as Hb,aC as Vb,aD as zb,aE as qb,aF as Gb,aG as Qb,aH as Zb,aI as Kb,aJ as Yb,aK as Of,aL as Jb,aM as Xb,aN as eg,aO as tg,aP as ng,aQ as rg,aR as ig,aS as sg,aT as og,aU as ag,aV as cg,aW as ug,aX as lg,aY as dg,aZ as fg,I as We,a_ as hg,a$ as pg,b0 as bg,b1 as gg,b2 as yg,b3 as mg,b4 as vg,b5 as _g,b6 as wg,b7 as Sg,b8 as Eg,b9 as Cg,ba as kg,bb as Ag,bc as Ig,bd as Mg,be as xg,bf as Tg,bg as Og,bh as Rg,bi as Ng,bj as Pg,bk as Dg,bl as Lg,bm as jg,bn as Bg,bo as Fg,aa as os,C as Rf,bp as $g,H as Ug,$ as Wg,bq as Hg,br as Vg,bs as zg,bt as qg,bu as Gg,bv as Qg,bw as Zg,bx as Kg,by as Yg,bz as Jg,bA as Xg,bB as e1,bC as t1,bD as n1,bE as r1,bF as i1,bG as s1,bH as o1,bI as a1,bJ as c1,bK as u1,bL as l1,bM as Nf,bN as Pf,bO as Df,bP as Lf,bQ as jf,bR as Bf,G as He,bS as Ff,bT as $f,bU as Uf,bV as Wf,bW as Hf,bX as ai,X as B,bY as ft,a as bn,K as Ln,r as xe,o as R,b as L,f as v,e as Ce,l as F,L as un,M as Tn,c as at,i as ge,t as Oe,F as Yr,Q as lu,O as tr,Z as ke,bZ as d1,b_ as f1,b$ as h1,c0 as p1,c1 as b1,c2 as g1,c3 as y1,c4 as m1,c5 as v1,c6 as _1,c7 as w1,c8 as S1,c9 as yl,ca as E1,cb as C1,cc as ci,Y as du,cd as Ms,ce as k1,cf as A1,s as ht,q as Vf,j as zf,B as I1,p as qf,z as M1,w as nr,T as Oc,a6 as x1,a7 as T1,cg as O1,ch as R1,W as N1,y as as,h as Gf,a8 as Qf,a9 as Zf,N as P1,a2 as D1}from"./entry.b0d95836.js";import{u as Er,v as ml}from"./ethers.2b590fc3.js";import{C as L1}from"./ChatFeed.f3ebca3e.js";import{C as j1}from"./ConnectWalletButton.113ab353.js";import{I as xs}from"./Image.66192812.js";import{S as B1}from"./SwitchChainButton.5354b196.js";import{W as Ft}from"./WaitingToast.719df137.js";import{a as Kf}from"./FileUploadModal.8fdf5ea2.js";import{g as vl,a as _l}from"./ipfsUtils.f33bf212.js";import{y as F1,h as wl,g as Sl}from"./textUtils.e6aac444.js";import{r as $1}from"./index.42fa81bd.js";import{g as U1}from"./domainUtils.af55b43e.js";import{s as W1,b as H1,a as El,c as Cl}from"./storageUtils.110dafa9.js";import"./composables.bc388d81.js";import"./ChatPost.9a261afb.js";import"./user.089218f5.js";import"./MintedPostImage.14fe1136.js";import"./site.375dc12b.js";const V1="\u039E",Yf=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:Tb,NegativeOne:Ob,Zero:Rb,One:Nb,Two:Pb,WeiPerEther:Db,MaxUint256:Lb,MinInt256:jb,MaxInt256:Bb,HashZero:Fb,EtherSymbol:V1},Symbol.toStringTag,{value:"Module"})),Jf=Object.freeze(Object.defineProperty({__proto__:null,decode:$b,encode:Ub},Symbol.toStringTag,{value:"Module"})),z1=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:Sf,ripemd160:Ef,sha256:au,sha512:Cf,get SupportedAlgorithm(){return kf}},Symbol.toStringTag,{value:"Module"})),q1=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Af,shuffled:If},Symbol.toStringTag,{value:"Module"})),G1="solidity/5.7.0",Q1=new RegExp("^bytes([0-9]+)$"),Z1=new RegExp("^(u?int)([0-9]*)$"),K1=new RegExp("^(.*)\\[([0-9]*)\\]$"),Y1="0000000000000000000000000000000000000000000000000000000000000000",Zn=new cu(G1);function Xf(t,e,n){switch(t){case"address":return n?Ki(e,32):Qn(e);case"string":return Tf(e);case"bytes":return Qn(e);case"bool":return e=e?"0x01":"0x00",n?Ki(e,32):Qn(e)}let r=t.match(Z1);if(r){let i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!==0||i===0||i>256)&&Zn.throwArgumentError("invalid number type","type",t),n&&(i=256),e=Is.from(e).toTwos(i),Ki(e,i/8)}if(r=t.match(Q1),r){const i=parseInt(r[1]);return(String(i)!==r[1]||i===0||i>32)&&Zn.throwArgumentError("invalid bytes type","type",t),Qn(e).byteLength!==i&&Zn.throwArgumentError(`invalid value for ${t}`,"value",e),n?Qn((e+Y1).substring(0,66)):e}if(r=t.match(K1),r&&Array.isArray(e)){const i=r[1];parseInt(r[2]||String(e.length))!=e.length&&Zn.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(Xf(i,a,!0))}),uu(o)}return Zn.throwArgumentError("invalid type","type",t)}function Ts(t,e){t.length!=e.length&&Zn.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const n=[];return t.forEach(function(r,i){n.push(Xf(r,e[i]))}),Mf(uu(n))}function eh(t,e){return xf(Ts(t,e))}function th(t,e){return au(Ts(t,e))}const J1=Object.freeze(Object.defineProperty({__proto__:null,pack:Ts,keccak256:eh,sha256:th},Symbol.toStringTag,{value:"Module"})),nh=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Wb,defaultAbiCoder:Hb,Fragment:Vb,ConstructorFragment:zb,ErrorFragment:qb,EventFragment:Gb,FunctionFragment:Qb,ParamType:Zb,FormatTypes:Kb,checkResultErrors:Yb,Logger:cu,RLP:Of,_fetchData:Jb,fetchJson:Xb,poll:eg,checkProperties:tg,deepCopy:ng,defineReadOnly:rg,getStatic:ig,resolveProperties:sg,shallowCopy:og,arrayify:Qn,concat:uu,stripZeros:ag,zeroPad:Ki,isBytes:cg,isBytesLike:ug,defaultPath:lg,HDNode:dg,SigningKey:fg,Interface:We,LogDescription:hg,TransactionDescription:pg,base58:bg,base64:Jf,hexlify:Mf,isHexString:gg,hexConcat:yg,hexStripZeros:mg,hexValue:vg,hexZeroPad:_g,hexDataLength:wg,hexDataSlice:Sg,nameprep:Eg,_toEscapedUtf8String:Cg,toUtf8Bytes:Tf,toUtf8CodePoints:kg,toUtf8String:Ag,Utf8ErrorFuncs:Ig,formatBytes32String:Mg,parseBytes32String:xg,dnsEncode:Tg,hashMessage:Og,namehash:Rg,isValidName:Ng,id:Pg,_TypedDataEncoder:Dg,getAddress:Lg,getIcapAddress:jg,getContractAddress:Bg,getCreate2Address:Fg,isAddress:os,formatEther:Rf,parseEther:$g,formatUnits:Ug,parseUnits:Wg,commify:Hg,computeHmac:Sf,keccak256:xf,ripemd160:Ef,sha256:au,sha512:Cf,randomBytes:Af,shuffled:If,solidityPack:Ts,solidityKeccak256:eh,soliditySha256:th,splitSignature:Vg,joinSignature:zg,accessListify:qg,parseTransaction:Gg,serializeTransaction:Qg,get TransactionTypes(){return Zg},getJsonWalletAddress:Kg,computeAddress:Yg,recoverAddress:Jg,computePublicKey:Xg,recoverPublicKey:e1,verifyMessage:t1,verifyTypedData:n1,getAccountPath:r1,mnemonicToEntropy:i1,entropyToMnemonic:s1,isValidMnemonic:o1,mnemonicToSeed:a1,get SupportedAlgorithm(){return kf},get UnicodeNormalizationForm(){return c1},get Utf8ErrorReason(){return u1},Indexed:l1},Symbol.toStringTag,{value:"Module"})),fu="ethers/5.7.2",rh=new cu(fu),ih=Object.freeze(Object.defineProperty({__proto__:null,Signer:Nf,Wallet:Pf,VoidSigner:Df,getDefaultProvider:Lf,providers:jf,BaseContract:Bf,Contract:He,ContractFactory:Ff,BigNumber:Is,FixedNumber:$f,constants:Yf,get errors(){return Uf},logger:rh,utils:nh,wordlists:Wf,version:fu,Wordlist:Hf},Symbol.toStringTag,{value:"Module"}));try{const t=window;t._ethers==null&&(t._ethers=ih)}catch{}const X1=Object.freeze(Object.defineProperty({__proto__:null,ethers:ih,Signer:Nf,Wallet:Pf,VoidSigner:Df,getDefaultProvider:Lf,providers:jf,BaseContract:Bf,Contract:He,ContractFactory:Ff,BigNumber:Is,FixedNumber:$f,constants:Yf,get errors(){return Uf},logger:rh,utils:nh,wordlists:Wf,version:fu,Wordlist:Hf},Symbol.toStringTag,{value:"Module"}));var Ut={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ai,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Ut,Ut.exports);var ey=ty;function ty(t,e){if(La("noDeprecation"))return t;var n=!1;function r(){if(!n){if(La("throwDeprecation"))throw new Error(e);La("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return r}function La(t){try{if(!B.localStorage)return!1}catch{return!1}var e=B.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Rc={},Nc={exports:{}};(function(t,e){var n=ai,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Nc,Nc.exports);var hu=Nc.exports.Buffer,kl=hu.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ny(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ry(t){var e=ny(t);if(typeof e!="string"&&(hu.isEncoding===kl||!kl(t)))throw new Error("Unknown encoding: "+t);return e||t}Rc.StringDecoder=ui;function ui(t){this.encoding=ry(t);var e;switch(this.encoding){case"utf16le":this.text=uy,this.end=ly,e=4;break;case"utf8":this.fillLast=oy,e=4;break;case"base64":this.text=dy,this.end=fy,e=3;break;default:this.write=hy,this.end=py;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=hu.allocUnsafe(e)}ui.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};ui.prototype.end=cy;ui.prototype.text=ay;ui.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ja(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function iy(t,e,n){var r=e.length-1;if(r<n)return 0;var i=ja(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=ja(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=ja(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function sy(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function oy(t){var e=this.lastTotal-this.lastNeed,n=sy(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ay(t,e){var n=iy(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function cy(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function uy(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function ly(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function dy(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function fy(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function hy(t){return t.toString(this.encoding)}function py(t){return t&&t.length?this.write(t):""}var sh={exports:{}},oh=Ut.exports.Buffer;function Os(t,e){this._block=oh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Os.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=oh.from(t,e));for(var n=this._block,r=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%r,c=Math.min(i-o,r-a),u=0;u<c;u++)n[a+u]=t[o+u];s+=c,o+=c,s%r===0&&this._update(n)}return this._len+=i,this};Os.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(n&4294967295)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Os.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Cr=Os,by=ft.exports,ah=Cr,gy=Ut.exports.Buffer,yy=[1518500249,1859775393,-1894007588,-899497514],my=new Array(80);function li(){this.init(),this._w=my,ah.call(this,64,56)}by(li,ah);li.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function vy(t){return t<<5|t>>>27}function _y(t){return t<<30|t>>>2}function wy(t,e,n,r){return t===0?e&n|~e&r:t===2?e&n|e&r|n&r:e^n^r}li.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=vy(n)+wy(u,r,i,s)+o+e[c]+yy[u]|0;o=s,s=i,i=_y(r),r=n,n=l}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};li.prototype._hash=function(){var t=gy.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Sy=li,Ey=ft.exports,ch=Cr,Cy=Ut.exports.Buffer,ky=[1518500249,1859775393,-1894007588,-899497514],Ay=new Array(80);function di(){this.init(),this._w=Ay,ch.call(this,64,56)}Ey(di,ch);di.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Iy(t){return t<<1|t>>>31}function My(t){return t<<5|t>>>27}function xy(t){return t<<30|t>>>2}function Ty(t,e,n,r){return t===0?e&n|~e&r:t===2?e&n|e&r|n&r:e^n^r}di.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Iy(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=My(n)+Ty(u,r,i,s)+o+e[c]+ky[u]|0;o=s,s=i,i=xy(r),r=n,n=l}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};di.prototype._hash=function(){var t=Cy.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Oy=di,Ry=ft.exports,uh=Cr,Ny=Ut.exports.Buffer,Py=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Dy=new Array(64);function fi(){this.init(),this._w=Dy,uh.call(this,64,56)}Ry(fi,uh);fi.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Ly(t,e,n){return n^t&(e^n)}function jy(t,e,n){return t&e|n&(t|e)}function By(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Fy(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function $y(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Uy(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}fi.prototype._update=function(t){for(var e=this._w,n=this._a|0,r=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=Uy(e[l-2])+e[l-7]+$y(e[l-15])+e[l-16]|0;for(var p=0;p<64;++p){var d=u+Fy(o)+Ly(o,a,c)+Py[p]+e[p]|0,b=By(n)+jy(n,r,i)|0;u=c,c=a,a=o,o=s+d|0,s=i,i=r,r=n,n=d+b|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};fi.prototype._hash=function(){var t=Ny.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var lh=fi,Wy=ft.exports,Hy=lh,Vy=Cr,zy=Ut.exports.Buffer,qy=new Array(64);function Rs(){this.init(),this._w=qy,Vy.call(this,64,56)}Wy(Rs,Hy);Rs.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Rs.prototype._hash=function(){var t=zy.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Gy=Rs,Qy=ft.exports,dh=Cr,Zy=Ut.exports.Buffer,Al=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Ky=new Array(160);function hi(){this.init(),this._w=Ky,dh.call(this,128,112)}Qy(hi,dh);hi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Il(t,e,n){return n^t&(e^n)}function Ml(t,e,n){return t&e|n&(t|e)}function xl(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Tl(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Yy(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Jy(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Xy(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function em(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Pe(t,e){return t>>>0<e>>>0?1:0}hi.prototype._update=function(t){for(var e=this._w,n=this._ah|0,r=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,p=this._bl|0,d=this._cl|0,b=this._dl|0,g=this._el|0,E=this._fl|0,k=this._gl|0,S=this._hl|0,w=0;w<32;w+=2)e[w]=t.readInt32BE(w*4),e[w+1]=t.readInt32BE(w*4+4);for(;w<160;w+=2){var A=e[w-30],M=e[w-15*2+1],$=Yy(A,M),z=Jy(M,A);A=e[w-2*2],M=e[w-2*2+1];var q=Xy(A,M),H=em(M,A),U=e[w-7*2],ce=e[w-7*2+1],Y=e[w-16*2],Q=e[w-16*2+1],J=z+ce|0,N=$+U+Pe(J,z)|0;J=J+H|0,N=N+q+Pe(J,H)|0,J=J+Q|0,N=N+Y+Pe(J,Q)|0,e[w]=N,e[w+1]=J}for(var j=0;j<160;j+=2){N=e[j],J=e[j+1];var G=Ml(n,r,i),oe=Ml(l,p,d),ye=xl(n,l),me=xl(l,n),Ve=Tl(o,g),Xe=Tl(g,o),_=Al[j],I=Al[j+1],P=Il(o,a,c),X=Il(g,E,k),y=S+Xe|0,m=u+Ve+Pe(y,S)|0;y=y+X|0,m=m+P+Pe(y,X)|0,y=y+I|0,m=m+_+Pe(y,I)|0,y=y+J|0,m=m+N+Pe(y,J)|0;var C=me+oe|0,D=ye+G+Pe(C,me)|0;u=c,S=k,c=a,k=E,a=o,E=g,g=b+y|0,o=s+m+Pe(g,b)|0,s=i,b=d,i=r,d=p,r=n,p=l,l=y+C|0,n=m+D+Pe(l,y)|0}this._al=this._al+l|0,this._bl=this._bl+p|0,this._cl=this._cl+d|0,this._dl=this._dl+b|0,this._el=this._el+g|0,this._fl=this._fl+E|0,this._gl=this._gl+k|0,this._hl=this._hl+S|0,this._ah=this._ah+n+Pe(this._al,l)|0,this._bh=this._bh+r+Pe(this._bl,p)|0,this._ch=this._ch+i+Pe(this._cl,d)|0,this._dh=this._dh+s+Pe(this._dl,b)|0,this._eh=this._eh+o+Pe(this._el,g)|0,this._fh=this._fh+a+Pe(this._fl,E)|0,this._gh=this._gh+c+Pe(this._gl,k)|0,this._hh=this._hh+u+Pe(this._hl,S)|0};hi.prototype._hash=function(){var t=Zy.allocUnsafe(64);function e(n,r,i){t.writeInt32BE(n,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var fh=hi,tm=ft.exports,nm=fh,rm=Cr,im=Ut.exports.Buffer,sm=new Array(160);function Ns(){this.init(),this._w=sm,rm.call(this,128,112)}tm(Ns,nm);Ns.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ns.prototype._hash=function(){var t=im.allocUnsafe(48);function e(n,r,i){t.writeInt32BE(n,i),t.writeInt32BE(r,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var om=Ns,jn=sh.exports=function(e){e=e.toLowerCase();var n=jn[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};jn.sha=Sy;jn.sha1=Oy;jn.sha224=Gy;jn.sha256=lh;jn.sha384=om;jn.sha512=fh;const am={name:"AddImageToCollectionModal",props:["cAddress","mdAddress"],components:{FileUploadInput:Kf,Image:xs},data(){return{componentId:null,imageUrl:null,waiting:!1}},mounted(){this.componentId=this.$.uid},methods:{async addNewImage(){this.waiting=!0;const t=new We(["function addImageToCollection(address nftAddress_, string memory imageUrl_) external"]),e=new He(this.mdAddress,t,this.signer);try{const n=await e.addImageToCollection(this.cAddress,this.imageUrl),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();i.status===1?(this.toast.dismiss(r),this.toast("You have successfully added new image URL to the NFT collection.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.imageUrl=null,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(r),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i))}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}},insertImageLink(t){this.imageUrl=t}},setup(){const{signer:t}=Er(),e=Ln();return{signer:t,toast:e}}},cm=["aria-labelledby"],um={class:"modal-dialog"},lm={class:"modal-content"},dm={class:"modal-header"},fm=["id"],hm=["id"],pm={class:"modal-body"},bm={class:"mt-2"},gm={key:0},ym=v("p",null,"Upload additional image (and then click Submit below):",-1),mm=v("p",{class:"mt-3"},"Or paste image link here:",-1),vm={key:1},_m={key:2,class:"mt-3"},wm=v("br",null,null,-1),Sm=v("small",null,"If image didn't appear above, then something is wrong with the link you added (wait until the loading indicator completes). If you have an IPFS link, it also helps to cut/paste the same link a couple of times.",-1),Em={class:"modal-footer"},Cm=["disabled"],km={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Am(t,e,n,r,i,s){const o=xe("FileUploadInput"),a=xe("Image");return R(),L("div",{class:"modal fade",id:"addImageToCollectionModal",tabindex:"-1","aria-labelledby":"modalLabel-"+i.componentId,"aria-hidden":"true"},[v("div",um,[v("div",lm,[v("div",dm,[v("h1",{class:"modal-title fs-5",id:"modalLabel-"+i.componentId},"Add Image To Collection",8,fm),v("button",{id:"closeModal-"+i.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,hm)]),v("div",pm,[v("div",bm,[!i.imageUrl&&t.$config.fileUploadEnabled?(R(),L("div",gm,[ym,Ce(o,{btnCls:"btn btn-primary",storageType:"arweave",maxFileSize:t.$config.fileUploadSizeLimit,onProcessUploadedFileUrl:s.insertImageLink},null,8,["maxFileSize","onProcessUploadedFileUrl"]),mm])):F("",!0),t.$config.fileUploadEnabled?F("",!0):(R(),L("p",vm,"Paste image link here:")),un(v("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.imageUrl=c),type:"text",class:"form-control",id:"addImageToCollectionInput"},null,512),[[Tn,i.imageUrl]]),i.imageUrl?(R(),L("div",_m,[(R(),at(a,{url:i.imageUrl,key:i.imageUrl,cls:"img-thumbnail img-fluid",style:{"max-width":"100px"}},null,8,["url"])),wm,Sm])):F("",!0)])]),v("div",Em,[v("button",{onClick:e[1]||(e[1]=(...c)=>s.addNewImage&&s.addNewImage(...c)),type:"button",class:"btn btn-primary",disabled:!i.imageUrl||i.waiting},[i.waiting?(R(),L("span",km)):F("",!0),ge(" Submit to blockchain ")],8,Cm)])])])],8,cm)}const Im=bn(am,[["render",Am]]),Mm={name:"ChangeCollectionPreviewModal",props:["cAddress","mdAddress"],emits:["saveCollection"],components:{FileUploadInput:Kf,Image:xs},data(){return{componentId:null,imageUrl:null,waiting:!1}},mounted(){this.componentId=this.$.uid},methods:{async updateImage(){this.waiting=!0;const t=new We(["function setCollectionPreview(address nftAddress_, string memory collectionPreview_) external"]),e=new He(this.mdAddress,t,this.signer);try{const n=await e.setCollectionPreview(this.cAddress,this.imageUrl),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();i.status===1?(this.toast.dismiss(r),this.toast("You have updated the NFT collection preview image.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.$emit("saveCollection",{image:this.imageUrl}),this.imageUrl=null,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(r),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i))}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}},insertImageLink(t){this.imageUrl=t}},setup(){const{signer:t}=Er(),e=Ln();return{signer:t,toast:e}}},xm=["aria-labelledby"],Tm={class:"modal-dialog"},Om={class:"modal-content"},Rm={class:"modal-header"},Nm=["id"],Pm=["id"],Dm={class:"modal-body"},Lm=v("p",null,"Change your collection preview image.",-1),jm={class:"mt-4"},Bm={key:0},Fm=v("p",null,"Upload new image (and then click Submit below):",-1),$m=v("p",{class:"mt-3"},"Or paste image link here:",-1),Um={key:1},Wm={key:2,class:"mt-3"},Hm=v("br",null,null,-1),Vm=v("small",null,"If image didn't appear above, then something is wrong with the link you added (wait until the loading indicator completes). If you have an IPFS link, it also helps to cut/paste the same link a couple of times.",-1),zm={class:"modal-footer"},qm=["disabled"],Gm={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Qm(t,e,n,r,i,s){const o=xe("FileUploadInput"),a=xe("Image");return R(),L("div",{class:"modal fade",id:"changeCollectionPreviewModal",tabindex:"-1","aria-labelledby":"modalLabel-"+i.componentId,"aria-hidden":"true"},[v("div",Tm,[v("div",Om,[v("div",Rm,[v("h1",{class:"modal-title fs-5",id:"modalLabel-"+i.componentId},"Change Collection Preview Image",8,Nm),v("button",{id:"closeModal-"+i.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,Pm)]),v("div",Dm,[Lm,v("div",jm,[!i.imageUrl&&t.$config.fileUploadEnabled?(R(),L("div",Bm,[Fm,Ce(o,{btnCls:"btn btn-primary",storageType:"arweave",maxFileSize:t.$config.fileUploadSizeLimit,onProcessUploadedFileUrl:s.insertImageLink},null,8,["maxFileSize","onProcessUploadedFileUrl"]),$m])):F("",!0),t.$config.fileUploadEnabled?F("",!0):(R(),L("p",Um,"Paste image link here:")),un(v("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.imageUrl=c),type:"text",class:"form-control"},null,512),[[Tn,i.imageUrl]]),i.imageUrl?(R(),L("div",Wm,[Ce(a,{url:i.imageUrl,cls:"img-thumbnail img-fluid",style:{"max-width":"100px"}},null,8,["url"]),Hm,Vm])):F("",!0)])]),v("div",zm,[v("button",{onClick:e[1]||(e[1]=(...c)=>s.updateImage&&s.updateImage(...c)),type:"button",class:"btn btn-primary",disabled:!i.imageUrl||i.waiting},[i.waiting?(R(),L("span",Gm)):F("",!0),ge(" Submit to blockchain ")],8,qm)])])])],8,xm)}const Zm=bn(Mm,[["render",Qm]]),Km={name:"ChangeDescriptionModal",props:["cAddress","cDescription","mdAddress"],emits:["saveCollection"],data(){return{componentId:null,editDescription:null,waiting:!1}},mounted(){this.componentId=this.$.uid,this.editDescription=this.cDescription},methods:{async update(){this.waiting=!0;const t=new We(["function setDescription(address nftAddress_, string memory description_) external"]),e=new He(this.mdAddress,t,this.signer);try{const n=await e.setDescription(this.cAddress,this.editDescription.replace(/"/g,"'")),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();i.status===1?(this.toast.dismiss(r),this.toast("You have updated the NFT description.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.$emit("saveCollection",{description:this.editDescription.replace(/"/g,"'")}),this.editDescription=null,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(r),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i))}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}}},setup(){const{signer:t}=Er(),e=Ln();return{signer:t,toast:e}},watch:{cDescription(){this.editDescription=this.cDescription}}},Ym=["aria-labelledby"],Jm={class:"modal-dialog"},Xm={class:"modal-content"},ev={class:"modal-header"},tv=["id"],nv=["id"],rv={class:"modal-body"},iv=v("p",null,"Change your collection description.",-1),sv={class:"mt-4"},ov=["for"],av=v("strong",null," Enter new description: ",-1),cv=[av],uv=["id"],lv={class:"modal-footer"},dv=v("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),fv=["disabled"],hv={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function pv(t,e,n,r,i,s){return R(),L("div",{class:"modal fade",id:"changeDescriptionModal",tabindex:"-1","aria-labelledby":"modalLabel-"+i.componentId,"aria-hidden":"true"},[v("div",Jm,[v("div",Xm,[v("div",ev,[v("h1",{class:"modal-title fs-5",id:"modalLabel-"+i.componentId},"Change description",8,tv),v("button",{id:"closeModal-"+i.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,nv)]),v("div",rv,[iv,v("div",sv,[v("label",{for:"input-"+i.componentId,class:"form-label"},cv,8,ov),un(v("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.editDescription=o),type:"text",class:"form-control",id:"input-"+i.componentId},null,8,uv),[[Tn,i.editDescription]])])]),v("div",lv,[dv,v("button",{onClick:e[1]||(e[1]=(...o)=>s.update&&s.update(...o)),type:"button",class:"btn btn-primary",disabled:!i.editDescription||i.waiting},[i.waiting?(R(),L("span",hv)):F("",!0),ge(" Submit ")],8,fv)])])])],8,Ym)}const bv=bn(Km,[["render",pv]]),gv={name:"ChangeNftTypeModal",props:["cAddress","cType","mdAddress"],emits:["saveCollection"],data(){return{componentId:null,editImageMetadataUrl:null,editImageOptions:[{description:"0) Onchain image(s)"},{description:"1) Static metadata URL"},{description:"2) Generative metadata (.json)"},{description:"3) Generative metadata"}],editImagePreviewUrl:"",typeChoice:0,waitingMetadata:!1}},mounted(){this.componentId=this.$.uid},methods:{async updateMetadata(){this.waitingMetadata=!0;const t=new We(["function setMdTypeAndUrlOrImage(address nftAddress_, uint256 mdType_, string memory mdUrlOrImage_, string memory collectionImage_) external"]),e=new He(this.mdAddress,t,this.signer);this.typeChoice===0&&(this.editImagePreviewUrl=this.editImageMetadataUrl),this.editImagePreviewUrl===null&&(this.editImagePreviewUrl="");try{const n=await e.setMdTypeAndUrlOrImage(this.cAddress,this.typeChoice,this.editImageMetadataUrl,this.editImagePreviewUrl),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();i.status===1?(this.toast.dismiss(r),this.toast("You have updated the NFT image and/or metadata URL.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.$emit("saveCollection",{type:this.typeChoice,image:this.editImagePreviewUrl}),this.editImageMetadataUrl=null,this.editImagePreviewUrl="",document.getElementById("closeModal-"+this.componentId).click(),this.waitingMetadata=!1):(this.toast.dismiss(r),this.waitingMetadata=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i))}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingMetadata=!1}}},setup(){const{signer:t}=Er(),e=Ln();return{signer:t,toast:e}}},yv={class:"modal fade",id:"changeNftTypeModal",tabindex:"-1","aria-labelledby":"changeNftTypeModalLabel","aria-hidden":"true"},mv={class:"modal-dialog"},vv={class:"modal-content"},_v={class:"modal-header"},wv=v("h1",{class:"modal-title fs-5",id:"changeNftTypeModalLabel"},"Change NFT Type",-1),Sv=["id"],Ev={class:"modal-body"},Cv=v("p",null,[v("strong",null,"Pick one of these options:")],-1),kv={class:"dropdown"},Av={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Iv={class:"dropdown-menu text-break"},Mv=["onClick"],xv={class:"mt-3"},Tv={key:0},Ov={key:1},Rv=v("strong",null,"file",-1),Nv={key:2},Pv=v("strong",null,"folder",-1),Dv={key:3},Lv=v("strong",null,"folder",-1),jv={class:"mt-4"},Bv={for:"imageMetadataUrl",class:"form-label"},Fv={key:0},$v={key:1},Uv={key:2},Wv={key:3},Hv={key:0,class:"mt-4"},Vv=v("label",{for:"collectionPreviewUrl",class:"form-label"},[v("strong",null," Change collection preview image (optional): ")],-1),zv=v("div",{id:"previewImageHelp",class:"form-text"}," This is a preview image for the whole collection, not for individual NFTs. ",-1),qv={class:"modal-footer"},Gv=v("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Qv=["disabled"],Zv={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Kv(t,e,n,r,i,s){return R(),L("div",yv,[v("div",mv,[v("div",vv,[v("div",_v,[wv,v("button",{id:"closeModal-"+i.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,Sv)]),v("div",Ev,[v("p",null,"Current type of this NFT collection is: "+Oe(i.editImageOptions[n.cType].description)+".",1),Cv,v("div",kv,[v("button",Av,Oe(i.editImageOptions[i.typeChoice].description),1),v("div",Iv,[(R(!0),L(Yr,null,lu(i.editImageOptions,(o,a)=>(R(),L("span",{key:a,onClick:c=>i.typeChoice=a,class:"dropdown-item cursor-pointer"},Oe(o.description),9,Mv))),128))])]),v("div",xv,[i.typeChoice==0?(R(),L("p",Tv,' The "Onchain image(s)" option means that metadata is stored onchain (within the smart contract itself). Use this option if you want to add an image URL in the field below (not a metadata file). This is the default option for NFTs created through this launchpad. ')):F("",!0),i.typeChoice==1?(R(),L("p",Ov,[ge(' The "Static metadata URL" option means that all the NFTs in the collection have the same (static) image and meta data. The metadata is stored offchain, usually on IPFS or on a centralized server. Use this option if you have a URL of a single metadata '),Rv,ge(" (all NFTs have the same metadata and image). ")])):F("",!0),i.typeChoice==2?(R(),L("p",Nv,[ge(' The "Generative metadata (.json)" option means that all the NFTs in the collection have a different image and different meta data. The metadata is stored offchain, usually on IPFS or on a centralized server. Use this option if you have a metadata '),Pv,ge(" URL with multiple metadata files in it, where these files HAVE a .json extension. ")])):F("",!0),i.typeChoice==3?(R(),L("p",Dv,[ge(' The "Generative metadata" option means that all the NFTs in the collection have a different image and different meta data. The metadata is stored offchain, usually on IPFS or on a centralized server. Use this option if you have a metadata '),Lv,ge(" URL with multiple metadata files in it, where these files DO NOT HAVE a .json extension. ")])):F("",!0)]),v("div",jv,[v("label",Bv,[v("strong",null,[ge(" Enter "),i.typeChoice==0?(R(),L("span",Fv,"image URL:")):F("",!0),i.typeChoice==1?(R(),L("span",$v,"metadata file URL:")):F("",!0),i.typeChoice==2?(R(),L("span",Uv,"metadata folder URL:")):F("",!0),i.typeChoice==3?(R(),L("span",Wv,"metadata folder URL:")):F("",!0)])]),un(v("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.editImageMetadataUrl=o),type:"text",class:"form-control",id:"imageMetadataUrl"},null,512),[[Tn,i.editImageMetadataUrl]])]),i.typeChoice>0?(R(),L("div",Hv,[Vv,un(v("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>i.editImagePreviewUrl=o),type:"text",class:"form-control",id:"collectionPreviewUrl","aria-describedby":"previewImageHelp"},null,512),[[Tn,i.editImagePreviewUrl]]),zv])):F("",!0)]),v("div",qv,[Gv,v("button",{onClick:e[2]||(e[2]=(...o)=>s.updateMetadata&&s.updateMetadata(...o)),type:"button",class:"btn btn-primary",disabled:!i.editImageMetadataUrl||i.waitingMetadata},[i.waitingMetadata?(R(),L("span",Zv)):F("",!0),ge(" Submit ")],8,Qv)])])])])}const Yv=bn(gv,[["render",Kv]]),Jv={name:"CollectionMediaSection",props:["audioUrl","videoUrl","youtubeUrl"],data(){return{aFormat:null,aUrl:null,currentTab:"audio",vFormat:null,vUrl:null,yUrl:null}},mounted(){this.fetchMetadata()},methods:{youtubeParsing:F1,async fetchMetadata(){try{if(this.youtubeUrl&&(this.yUrl=this.youtubeUrl),this.audioUrl){const t=await vl(this.audioUrl);t&&(this.aUrl=t.url,this.aFormat=t.format)}if(this.videoUrl){const t=await vl(this.videoUrl);t&&(this.vUrl=t.url,this.vFormat=t.format)}}catch(t){console.log(t)}this.yUrl?this.currentTab="youtube":this.aUrl?this.currentTab="audio":this.vUrl&&(this.currentTab="video")}}},Xv={class:"card border mt-3"},e_={class:"card-body"},t_={class:"nav nav-tabs nav-fill"},n_={key:0,class:"nav-item"},r_={key:1,class:"nav-item"},i_={key:2,class:"nav-item"},s_={class:"tab-content mt-3 d-flex justify-content-center"},o_={key:0,class:"col-12 col-lg-8"},a_={class:"text-center mt-3"},c_={class:"ratio ratio-16x9",controls:""},u_=["src","type"],l_={key:1,class:"col-12 col-lg-8"},d_={class:"ratio ratio-16x9 rounded",controls:""},f_=["src","type"],h_={key:2,class:"col-12 col-lg-8"},p_=["innerHTML"];function b_(t,e,n,r,i,s){return R(),L("div",Xv,[v("div",e_,[v("ul",t_,[i.aUrl?(R(),L("li",n_,[v("button",{class:tr(["nav-link",i.currentTab==="audio"?"active":""]),onClick:e[0]||(e[0]=o=>i.currentTab="audio")},"Audio",2)])):F("",!0),i.vUrl?(R(),L("li",r_,[v("button",{class:tr(["nav-link",i.currentTab==="video"?"active":""]),onClick:e[1]||(e[1]=o=>i.currentTab="video")},"Video",2)])):F("",!0),i.yUrl?(R(),L("li",i_,[v("button",{class:tr(["nav-link",i.currentTab==="youtube"?"active":""]),onClick:e[2]||(e[2]=o=>i.currentTab="youtube")},"YouTube",2)])):F("",!0)]),v("div",s_,[i.currentTab==="audio"&&i.aUrl?(R(),L("div",o_,[v("p",a_,[v("audio",c_,[v("source",{src:i.aUrl,type:i.aFormat},null,8,u_),ge(" Your browser does not support mp3 audio player. ")])])])):F("",!0),i.currentTab==="video"&&i.vUrl?(R(),L("div",l_,[v("video",d_,[v("source",{src:i.vUrl,type:i.vFormat},null,8,f_),ge(" Your browser does not support mp4 video player. ")])])):F("",!0),i.currentTab==="youtube"&&i.yUrl?(R(),L("div",h_,[v("span",{innerHTML:s.youtubeParsing(i.yUrl)},null,8,p_)])):F("",!0)])])])}const g_=bn(Jv,[["render",b_]]),y_={name:"RemoveImageFromCollectionModal",props:["cAddress","mdAddress"],data(){return{componentId:null,images:[],imageUrl:null,waitingLoad:!1,waitingRemove:!1}},components:{Image:xs},mounted(){this.componentId=this.$.uid},methods:{async loadImages(){this.waitingLoad=!0;const t=new We(["function getCollectionImages(address nftAddress_) external view returns (string[] memory)"]),e=new He(this.mdAddress,t,this.signer);try{this.images=await e.getCollectionImages(this.cAddress),this.waitingLoad=!1}catch(n){console.error(n),this.waitingLoad=!1}},async removeImage(t){this.waitingRemove=!0;const e=new We(["function removeImageFromCollectionByIndex(address nftAddress_, uint256 index_) external"]),n=new He(this.mdAddress,e,this.signer);try{const r=await n.removeImageFromCollectionByIndex(this.cAddress,t),i=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),s=await r.wait();if(s.status===1){this.toast.dismiss(i),this.toast("You have successfully removed an image from the NFT collection.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),this.imageUrl=null;const o=[...this.images];o.splice(t,1),this.images=o,this.waitingRemove=!1}else this.toast.dismiss(i),this.waitingRemove=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),console.log(s)}catch(r){console.error(r);try{let i=r.message.split("reason=")[1];i=i.split(", method=")[0],i=i.replace(/"/g,""),i=i.replace("execution reverted:","Error:"),console.log(i),this.toast(i,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingRemove=!1}}},setup(){const{signer:t}=Er(),e=Ln();return{signer:t,toast:e}}},m_=["aria-labelledby"],v_={class:"modal-dialog"},__={class:"modal-content"},w_={class:"modal-header"},S_=["id"],E_=["id"],C_={class:"modal-body"},k_={class:"row"},A_=["for"],I_=v("strong",null," Load images from collection: ",-1),M_=[I_],x_=["disabled"],T_={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},O_={key:0,class:"row mt-3"},R_={class:"card"},N_={class:"card-body"},P_={class:"row"},D_=["onClick","disabled"],L_=v("div",{class:"modal-footer"},[v("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1);function j_(t,e,n,r,i,s){const o=xe("Image");return R(),L("div",{class:"modal fade",id:"removeImageFromCollectionModal",tabindex:"-1","aria-labelledby":"modalLabel-"+i.componentId,"aria-hidden":"true"},[v("div",v_,[v("div",__,[v("div",w_,[v("h1",{class:"modal-title fs-5",id:"modalLabel-"+i.componentId},"Remove Image From Collection",8,S_),v("button",{id:"closeModal-"+i.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,E_)]),v("div",C_,[v("div",k_,[v("label",{for:"input-"+i.componentId,class:"form-label"},M_,8,A_)]),v("div",null,[v("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...a)=>s.loadImages&&s.loadImages(...a)),disabled:i.waitingLoad},[i.waitingLoad?(R(),L("span",T_)):F("",!0),ge(" Load images ")],8,x_)]),i.images?(R(),L("div",O_,[(R(!0),L(Yr,null,lu(i.images,(a,c)=>(R(),L("div",{key:a,class:"col-md-4 mb-3"},[v("div",R_,[Ce(o,{url:a,alt:"Image",cls:"card-img-top"},null,8,["url"]),v("div",N_,[v("div",P_,[v("button",{class:"btn btn-danger",onClick:u=>s.removeImage(c),disabled:i.waitingRemove||i.images.length==1}," Delete ",8,D_)])])])]))),128))])):F("",!0)]),L_])])],8,m_)}const B_=bn(y_,[["render",j_]]);var hh={};const F_=ke(d1),$_=ke(Jf),U_=ke(f1),W_=ke(h1),H_=ke(p1),V_=ke(b1),z_=ke(g1),Ol=ke(z1),q_=ke(J1),G_=ke(q1),Q_=ke(y1),Z_=ke(Of),K_=ke(m1),Y_=ke(v1),J_=ke(_1);(function(t){var e=B&&B.__createBinding||(Object.create?function(Y,Q,J,N){N===void 0&&(N=J),Object.defineProperty(Y,N,{enumerable:!0,get:function(){return Q[J]}})}:function(Y,Q,J,N){N===void 0&&(N=J),Y[N]=Q[J]}),n=B&&B.__setModuleDefault||(Object.create?function(Y,Q){Object.defineProperty(Y,"default",{enumerable:!0,value:Q})}:function(Y,Q){Y.default=Q}),r=B&&B.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var Q={};if(Y!=null)for(var J in Y)J!=="default"&&Object.prototype.hasOwnProperty.call(Y,J)&&e(Q,Y,J);return n(Q,Y),Q};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=$1;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=F_;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=r($_);t.base64=o;var a=U_;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=w1;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var u=S1;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return u._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return u.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return u.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return u.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return u.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return u.namehash}});var l=W_;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return l.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return l.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return l.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return l.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}});var p=H_;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var d=V_;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return d.keccak256}});var b=z_;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return b.Logger}});var g=Ol;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return g.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return g.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return g.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return g.sha512}});var E=q_;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return E.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return E.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return E.sha256}});var k=G_;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return k.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return k.shuffled}});var S=Q_;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return S.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return S.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return S.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return S.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return S.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return S.shallowCopy}});var w=r(Z_);t.RLP=w;var A=K_;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return A.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return A.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return A.SigningKey}});var M=yl;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return M.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return M.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return M.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return M._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return M.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return M.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return M.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return M.Utf8ErrorFuncs}});var $=Y_;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return $.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return $.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return $.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return $.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return $.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return $.TransactionTypes}});var z=E1;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return z.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return z.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return z.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return z.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return z.parseUnits}});var q=C1;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return q.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return q.verifyTypedData}});var H=J_;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return H._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return H.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return H.poll}});var U=Ol;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return U.SupportedAlgorithm}});var ce=yl;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return ce.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return ce.Utf8ErrorReason}})})(hh);var X_={},Jr={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.walletLogo=void 0;const e2=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Ps.walletLogo=e2;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.ScopedLocalStorage=void 0;class t2{constructor(e){this.scope=e}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`${this.scope}:${e}`}}Ds.ScopedLocalStorage=t2;var ur={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});const n2=ci.exports;function Rl(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function r2(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class i2 extends n2.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Rl(s,this,n);else{const o=s.length,a=r2(s);for(let c=0;c<o;c+=1)Rl(a[c],this,n)}return!0}}kr.default=i2;var pi={},ln={},s2=Xr;Xr.default=Xr;Xr.stable=gh;Xr.stableStringify=gh;var cs="[...]",ph="[Circular]",On=[],In=[];function bh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Xr(t,e,n,r){typeof r>"u"&&(r=bh()),Pc(t,"",0,[],void 0,0,r);var i;try{In.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,yh(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;On.length!==0;){var s=On.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function rr(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),On.push([r,n,e,i])):In.push([e,n,t]):(r[n]=t,On.push([r,n,e]))}function Pc(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){rr(ph,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){rr(cs,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){rr(cs,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Pc(t[a],a,a,r,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];Pc(t[u],u,a,r,t,s,o)}}r.pop()}}function o2(t,e){return t<e?-1:t>e?1:0}function gh(t,e,n,r){typeof r>"u"&&(r=bh());var i=Dc(t,"",0,[],void 0,0,r)||t,s;try{In.length===0?s=JSON.stringify(i,e,n):s=JSON.stringify(i,yh(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;On.length!==0;){var o=On.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Dc(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){rr(ph,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){rr(cs,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){rr(cs,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Dc(t[a],a,a,r,t,s,o);else{var c={},u=Object.keys(t).sort(o2);for(a=0;a<u.length;a++){var l=u[a];Dc(t[l],l,a,r,t,s,o),c[l]=t[l]}if(typeof i<"u")On.push([i,e,t]),i[e]=c;else return c}r.pop()}}function yh(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(In.length>0)for(var r=0;r<In.length;r++){var i=In[r];if(i[1]===e&&i[0]===n){n=i[2],In.splice(r,1);break}}return t.call(this,e,n)}}Object.defineProperty(ln,"__esModule",{value:!0});ln.EthereumProviderError=ln.EthereumRpcError=void 0;const a2=s2;class mh extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return a2.default(this.serialize(),l2,2)}}ln.EthereumRpcError=mh;class c2 extends mh{constructor(e,n,r){if(!u2(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}ln.EthereumProviderError=c2;function u2(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function l2(t,e){if(e!=="[Circular]")return e}var pu={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.errorValues=dn.errorCodes=void 0;dn.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};dn.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=dn,n=ln,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:r,message:o(r)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,b=i){if(Number.isInteger(d)){const g=d.toString();if(p(e.errorValues,g))return e.errorValues[g].message;if(u(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const b=d.toString();return!!(e.errorValues[b]||u(d))}t.isValidCode=a;function c(d,{fallbackError:b=s,shouldIncludeStack:g=!1}={}){var E,k;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof n.EthereumRpcError)return d.serialize();const S={};if(d&&typeof d=="object"&&!Array.isArray(d)&&p(d,"code")&&a(d.code)){const A=d;S.code=A.code,A.message&&typeof A.message=="string"?(S.message=A.message,p(A,"data")&&(S.data=A.data)):(S.message=o(S.code),S.data={originalError:l(d)})}else{S.code=b.code;const A=(E=d)===null||E===void 0?void 0:E.message;S.message=A&&typeof A=="string"?A:b.message,S.data={originalError:l(d)}}const w=(k=d)===null||k===void 0?void 0:k.stack;return g&&d&&w&&typeof w=="string"&&(S.stack=w),S}t.serializeError=c;function u(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function p(d,b){return Object.prototype.hasOwnProperty.call(d,b)}})(pu);var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ethErrors=void 0;const bu=ln,vh=pu,ze=dn;Ls.ethErrors={rpc:{parse:t=>it(ze.errorCodes.rpc.parse,t),invalidRequest:t=>it(ze.errorCodes.rpc.invalidRequest,t),invalidParams:t=>it(ze.errorCodes.rpc.invalidParams,t),methodNotFound:t=>it(ze.errorCodes.rpc.methodNotFound,t),internal:t=>it(ze.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return it(e,t)},invalidInput:t=>it(ze.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>it(ze.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>it(ze.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>it(ze.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>it(ze.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>it(ze.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>jr(ze.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>jr(ze.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>jr(ze.errorCodes.provider.unsupportedMethod,t),disconnected:t=>jr(ze.errorCodes.provider.disconnected,t),chainDisconnected:t=>jr(ze.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new bu.EthereumProviderError(e,n,r)}}};function it(t,e){const[n,r]=_h(e);return new bu.EthereumRpcError(t,n||vh.getMessageFromCode(t),r)}function jr(t,e){const[n,r]=_h(e);return new bu.EthereumProviderError(t,n||vh.getMessageFromCode(t),r)}function _h(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=ln;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=pu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Ls;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=dn;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(pi);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.EVENTS=void 0;Ar.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ir={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lc=function(t,e){return Lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Lc(t,e)};function O(t,e){Lc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function lr(t){return typeof t=="function"}var Nl=!1,ct={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Nl=t},get useDeprecatedSynchronousErrorHandling(){return Nl}};function Jn(t){setTimeout(function(){throw t},0)}var us={closed:!0,next:function(t){},error:function(t){if(ct.useDeprecatedSynchronousErrorHandling)throw t;Jn(t)},complete:function(){}},Ye=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function gu(t){return t!==null&&typeof t=="object"}var d2=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Hr=d2,Ee=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,s=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var c=r[a];c.remove(this)}if(lr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(p){e=p instanceof Hr?Pl(p.errors):[p]}}if(Ye(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(gu(l))try{l.unsubscribe()}catch(d){e=e||[],d instanceof Hr?e=e.concat(Pl(d.errors)):e.push(d)}}if(e)throw new Hr(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var s=this._subscriptions;return s===null?this._subscriptions=[n]:s.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Pl(t){return t.reduce(function(e,n){return e.concat(n instanceof Hr?n.errors:n)},[])}var ls=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),K=function(t){O(e,t);function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=us;break;case 1:if(!n){s.destination=us;break}if(typeof n=="object"){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new Dl(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new Dl(s,n,r,i);break}return s}return e.prototype[ls]=function(){return this},e.create=function(n,r,i){var s=new e(n,r,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(Ee),Dl=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this)||this;o._parentSubscriber=n;var a,c=o;return lr(r)?a=r:r&&(a=r.next,i=r.error,s=r.complete,r!==us&&(c=Object.create(r),lr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!ct.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=ct.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):Jn(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;Jn(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!ct.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),ct.useDeprecatedSynchronousErrorHandling)throw i;Jn(i)}},e.prototype.__tryOrSetError=function(n,r,i){if(!ct.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(s){return ct.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=s,n.syncErrorThrown=!0,!0):(Jn(s),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(K);function yu(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;r&&r instanceof K?t=r:t=null}return!0}function f2(t,e,n){if(t){if(t instanceof K)return t;if(t[ls])return t[ls]()}return!t&&!e&&!n?new K(us):new K(t,e,n)}var Mr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function fn(t){return t}function jc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return wh(t)}function wh(t){return t.length===0?fn:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var se=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this.operator,s=f2(e,n,r);if(i?s.add(i.call(s,this.source)):s.add(this.source||ct.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),ct.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){ct.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),yu(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Ll(n),new n(function(i,s){var o;o=r.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[Mr]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:wh(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Ll(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Ll(t){if(t||(t=ct.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var h2=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),nn=h2,Sh=function(t){O(e,t);function e(n,r){var i=t.call(this)||this;return i.subject=n,i.subscriber=r,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},e}(Ee),Eh=function(t){O(e,t);function e(n){var r=t.call(this,n)||this;return r.destination=n,r}return e}(K),Fe=function(t){O(e,t);function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype[ls]=function(){return new Eh(this)},e.prototype.lift=function(n){var r=new jl(this,this);return r.operator=n,r},e.prototype.next=function(n){if(this.closed)throw new nn;if(!this.isStopped)for(var r=this.observers,i=r.length,s=r.slice(),o=0;o<i;o++)s[o].next(n)},e.prototype.error=function(n){if(this.closed)throw new nn;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,i=r.length,s=r.slice(),o=0;o<i;o++)s[o].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new nn;this.isStopped=!0;for(var n=this.observers,r=n.length,i=n.slice(),s=0;s<r;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new nn;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new nn;return this.hasError?(n.error(this.thrownError),Ee.EMPTY):this.isStopped?(n.complete(),Ee.EMPTY):(this.observers.push(n),new Sh(this,n))},e.prototype.asObservable=function(){var n=new se;return n.source=this,n},e.create=function(n,r){return new jl(n,r)},e}(se),jl=function(t){O(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},e.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):Ee.EMPTY},e}(Fe);function mu(){return function(e){return e.lift(new p2(e))}}var p2=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,n){var r=this.connectable;r._refCount++;var i=new b2(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s},t}(),b2=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var r=n._refCount;if(r<=0){this.connection=null;return}if(n._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,s=n._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(K),Ch=function(t){O(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new Ee,n.add(this.source.subscribe(new y2(this.getSubject(),this))),n.closed&&(this._connection=null,n=Ee.EMPTY)),n},e.prototype.refCount=function(){return mu()(this)},e}(se),g2=function(){var t=Ch.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),y2=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},e}(Eh);function m2(t,e,n,r){return function(i){return i.lift(new v2(t,e,n,r))}}var v2=function(){function t(e,n,r,i){this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return t.prototype.call=function(e,n){return n.subscribe(new _2(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),_2=function(t){O(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.keySelector=r,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(n){var r;try{r=this.keySelector(n)}catch(i){this.error(i);return}this._group(n,r)},e.prototype._group=function(n,r){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(r),o;if(this.elementSelector)try{o=this.elementSelector(n)}catch(u){this.error(u)}else o=n;if(!s){s=this.subjectSelector?this.subjectSelector():new Fe,i.set(r,s);var a=new Bc(r,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Bc(r,s))}catch(u){this.error(u);return}this.add(c.subscribe(new w2(r,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(i,s){i.error(n)}),r.clear()),this.destination.error(n)},e.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,i){r.complete()}),n.clear()),this.destination.complete()},e.prototype.removeGroup=function(n){this.groups.delete(n)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(K),w2=function(t){O(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.key=n,s.group=r,s.parent=i,s}return e.prototype._next=function(n){this.complete()},e.prototype._unsubscribe=function(){var n=this,r=n.parent,i=n.key;this.key=this.parent=null,r&&r.removeGroup(i)},e}(K),Bc=function(t){O(e,t);function e(n,r,i){var s=t.call(this)||this;return s.key=n,s.groupSubject=r,s.refCountSubscription=i,s}return e.prototype._subscribe=function(n){var r=new Ee,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&r.add(new S2(s)),r.add(o.subscribe(n)),r},e}(se),S2=function(t){O(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,n.count++,r}return e.prototype.unsubscribe=function(){var n=this.parent;!n.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),n.count-=1,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},e}(Ee),kh=function(t){O(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nn;return this._value},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Fe),E2=function(t){O(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Ee),bi=function(t){O(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s=void 0;try{this.work(n)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},e}(E2),C2=function(t){O(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):n.flush(this)},e}(bi),Fc=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(r,n)},t.now=function(){return Date.now()},t}(),gi=function(t){O(e,t);function e(n,r){r===void 0&&(r=Fc.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(Fc),k2=function(t){O(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(gi),Ah=new k2(C2),Ih=Ah,dr=new se(function(t){return t.complete()});function xr(t){return t?A2(t):dr}function A2(t){return new se(function(e){return t.schedule(function(){return e.complete()})})}function nt(t){return t&&typeof t.schedule=="function"}var Mh=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function vu(t,e){return new se(function(n){var r=new Ee,i=0;return r.add(e.schedule(function(){if(i===t.length){n.complete();return}n.next(t[i++]),n.closed||r.add(this.schedule())})),r})}function yi(t,e){return e?vu(t,e):new se(Mh(t))}function js(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return nt(n)?(t.pop(),vu(t,n)):yi(t)}function _u(t,e){return e?new se(function(n){return e.schedule(I2,0,{error:t,subscriber:n})}):new se(function(n){return n.error(t)})}function I2(t){var e=t.error,n=t.subscriber;n.error(e)}var $c;$c||($c={});var $t=function(){function t(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,n,r){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},t.prototype.accept=function(e,n,r){return e&&typeof e.next=="function"?this.observe(e):this.do(e,n,r)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return js(this.value);case"E":return _u(this.error);case"C":return xr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function M2(t,e){return e===void 0&&(e=0),function(r){return r.lift(new x2(t,e))}}var x2=function(){function t(e,n){n===void 0&&(n=0),this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return n.subscribe(new xh(e,this.scheduler,this.delay))},t}(),xh=function(t){O(e,t);function e(n,r,i){i===void 0&&(i=0);var s=t.call(this,n)||this;return s.scheduler=r,s.delay=i,s}return e.dispatch=function(n){var r=n.notification,i=n.destination;r.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(e.dispatch,this.delay,new T2(n,this.destination)))},e.prototype._next=function(n){this.scheduleMessage($t.createNext(n))},e.prototype._error=function(n){this.scheduleMessage($t.createError(n)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage($t.createComplete()),this.unsubscribe()},e}(K),T2=function(){function t(e,n){this.notification=e,this.destination=n}return t}(),wu=function(t){O(e,t);function e(n,r,i){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=n<1?1:n,s._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,n)},e.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new O2(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new nn;if(this.isStopped||this.hasError?a=Ee.EMPTY:(this.observers.push(n),a=new Sh(this,n)),s&&n.add(n=new xh(n,s)),r)for(var c=0;c<o&&!n.closed;c++)n.next(i[c]);else for(var c=0;c<o&&!n.closed;c++)n.next(i[c].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Ih).now()},e.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(n-s[a].time<i);)a++;return o>r&&(a=Math.max(a,o-r)),a>0&&s.splice(0,a),s},e}(Fe),O2=function(){function t(e,n){this.time=e,this.value=n}return t}(),Tr=function(t){O(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return e.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),Ee.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),Ee.EMPTY):t.prototype._subscribe.call(this,n)},e.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},e.prototype.error=function(n){this.hasCompleted||t.prototype.error.call(this,n)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Fe),R2=1,N2=function(){return Promise.resolve()}(),Uc={};function Bl(t){return t in Uc?(delete Uc[t],!0):!1}var Fl={setImmediate:function(t){var e=R2++;return Uc[e]=!0,N2.then(function(){return Bl(e)&&t()}),e},clearImmediate:function(t){Bl(t)}},P2=function(t){O(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=Fl.setImmediate(n.flush.bind(n,null))))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(Fl.clearImmediate(r),n.scheduled=void 0)},e}(bi),D2=function(t){O(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,s=-1,o=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++s<o&&(n=r.shift()));if(this.active=!1,i){for(;++s<o&&(n=r.shift());)n.unsubscribe();throw i}},e}(gi),Th=new D2(P2),Yi=Th,Oh=new gi(bi),Je=Oh,L2=function(t){O(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},e}(bi),j2=function(t){O(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,s=-1,o=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++s<o&&(n=r.shift()));if(this.active=!1,i){for(;++s<o&&(n=r.shift());)n.unsubscribe();throw i}},e}(gi),Rh=new j2(L2),B2=Rh,F2=function(t){O(e,t);function e(n,r){n===void 0&&(n=Nh),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,s,o;(o=r[0])&&o.delay<=i&&(r.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=r.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(gi),Nh=function(t){O(e,t);function e(n,r,i){i===void 0&&(i=n.index+=1);var s=t.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.index=i,s.active=!0,s.index=n.index=i,s}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var s=n.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(n,r,i){},e.prototype._execute=function(n,r){if(this.active===!0)return t.prototype._execute.call(this,n,r)},e.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},e}(bi);function kt(){}function $2(t){return!!t&&(t instanceof se||typeof t.lift=="function"&&typeof t.subscribe=="function")}var U2=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),fr=U2,W2=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),mi=W2,H2=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Ph=H2;function pt(t,e){return function(r){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new V2(t,e))}}var V2=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new z2(e,this.project,this.thisArg))},t}(),z2=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.project=r,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(K);function Dh(t,e,n){if(e)if(nt(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Dh(t,n).apply(void 0,r).pipe(pt(function(s){return Ye(s)?e.apply(void 0,s):e(s)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:n};return new se(function(c){if(n){var l={args:r,subscriber:c,params:a};return n.schedule(q2,0,l)}else{if(!o){o=new Tr;var u=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];o.next(p.length<=1?p[0]:p),o.complete()};try{t.apply(s,r.concat([u]))}catch(p){yu(o)?o.error(p):console.warn(p)}}return o.subscribe(c)}})}}function q2(t){var e=this,n=t.args,r=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Tr;var u=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=l.length<=1?l[0]:l;e.add(a.schedule(G2,0,{value:d,subject:c}))};try{s.apply(o,n.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(r))}function G2(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Lh(t,e,n){if(e)if(nt(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Lh(t,n).apply(void 0,r).pipe(pt(function(s){return Ye(s)?e.apply(void 0,s):e(s)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s={subject:void 0,args:r,callbackFunc:t,scheduler:n,context:this};return new se(function(o){var a=s.context,c=s.subject;if(n)return n.schedule(Q2,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Tr;var u=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=l.shift();if(d){c.error(d);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,r.concat([u]))}catch(l){yu(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function Q2(t){var e=this,n=t.params,r=t.subscriber,i=t.context,s=n.callbackFunc,o=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new Tr;var u=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=l.shift();if(d)e.add(a.schedule($l,0,{err:d,subject:c}));else{var b=l.length<=1?l[0]:l;e.add(a.schedule(Z2,0,{value:b,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule($l,0,{err:l,subject:c}))}}this.add(c.subscribe(r))}function Z2(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function $l(t){var e=t.err,n=t.subject;n.error(e)}var Bn=function(t){O(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n,r,i,s,o){this.destination.next(r)},e.prototype.notifyError=function(n,r){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(K),K2=function(t){O(e,t);function e(n,r,i){var s=t.call(this)||this;return s.parent=n,s.outerValue=r,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(K),Y2=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Jn),e}};function J2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hn=J2(),X2=function(t){return function(e){var n=t[hn]();do{var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},ew=function(t){return function(e){var n=t[Mr]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},jh=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Bh(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ei=function(t){if(!!t&&typeof t[Mr]=="function")return ew(t);if(jh(t))return Mh(t);if(Bh(t))return Y2(t);if(!!t&&typeof t[hn]=="function")return X2(t);var e=gu(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function Wt(t,e,n,r,i){if(i===void 0&&(i=new K2(t,n,r)),!i.closed)return e instanceof se?e.subscribe(i):ei(e)(i)}var Ul={};function tw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return nt(t[t.length-1])&&(r=t.pop()),typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&Ye(t[0])&&(t=t[0]),yi(t,r).lift(new Su(n))}var Su=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new nw(e,this.resultSelector))},t}(),nw=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(n){this.values.push(Ul),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var s=n[i];this.add(Wt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(n){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(n,r,i){var s=this.values,o=s[i],a=this.toRespond?o===Ul?--this.toRespond:this.toRespond:0;s[i]=r,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(Bn);function rw(t,e){return new se(function(n){var r=new Ee;return r.add(e.schedule(function(){var i=t[Mr]();r.add(i.subscribe({next:function(s){r.add(e.schedule(function(){return n.next(s)}))},error:function(s){r.add(e.schedule(function(){return n.error(s)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function iw(t,e){return new se(function(n){var r=new Ee;return r.add(e.schedule(function(){return t.then(function(i){r.add(e.schedule(function(){n.next(i),r.add(e.schedule(function(){return n.complete()}))}))},function(i){r.add(e.schedule(function(){return n.error(i)}))})})),r})}function sw(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(function(n){var r=new Ee,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(e.schedule(function(){i=t[hn](),r.add(e.schedule(function(){if(!n.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){n.error(c);return}o?n.complete():(n.next(s),this.schedule())}}))})),r})}function ow(t){return t&&typeof t[Mr]=="function"}function aw(t){return t&&typeof t[hn]=="function"}function Fh(t,e){if(t!=null){if(ow(t))return rw(t,e);if(Bh(t))return iw(t,e);if(jh(t))return vu(t,e);if(aw(t)||typeof t=="string")return sw(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Vt(t,e){return e?Fh(t,e):t instanceof se?t:new se(ei(t))}var Ae=function(t){O(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,r}return e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(K),Ie=function(t){O(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(K);function Me(t,e){if(!e.closed){if(t instanceof se)return t.subscribe(e);var n;try{n=ei(t)(e)}catch(r){e.error(r)}return n}}function Rn(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(Rn(function(i,s){return Vt(t(i,s)).pipe(pt(function(o,a){return e(i,o,s,a)}))},n))}:(typeof e=="number"&&(n=e),function(r){return r.lift(new cw(t,n))})}var cw=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new uw(e,this.project,this.concurrent))},t}(),uw=function(t){O(e,t);function e(n,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,n)||this;return s.project=r,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new Ae(this),i=this.destination;i.add(r);var s=Me(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Ie),lw=Rn;function Eu(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Rn(fn,t)}function $h(){return Eu(1)}function ti(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $h()(js.apply(void 0,t))}function Cu(t){return new se(function(e){var n;try{n=t()}catch(i){e.error(i);return}var r=n?Vt(n):xr();return r.subscribe(e)})}function dw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var n=t[0];if(Ye(n))return Di(n,null);if(gu(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Di(r.map(function(s){return n[s]}),r)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ye(t[0])?t[0]:t,Di(t,null).pipe(pt(function(s){return i.apply(void 0,s)}))}return Di(t,null)}function Di(t,e){return new se(function(n){var r=t.length;if(r===0){n.complete();return}for(var i=new Array(r),s=0,o=0,a=function(u){var l=Vt(t[u]),p=!1;n.add(l.subscribe({next:function(d){p||(p=!0,o++),i[u]=d},error:function(d){return n.error(d)},complete:function(){s++,(s===r||!p)&&(o===r&&n.next(e?e.reduce(function(d,b,g){return d[b]=i[g],d},{}):i),n.complete())}}))},c=0;c<r;c++)a(c)})}function Uh(t,e,n,r){return lr(n)&&(r=n,n=void 0),r?Uh(t,e,n).pipe(pt(function(i){return Ye(i)?r.apply(void 0,i):r(i)})):new se(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Wh(t,e,s,i,n)})}function Wh(t,e,n,r,i){var s;if(pw(t)){var o=t;t.addEventListener(e,n,i),s=function(){return o.removeEventListener(e,n,i)}}else if(hw(t)){var a=t;t.on(e,n),s=function(){return a.off(e,n)}}else if(fw(t)){var c=t;t.addListener(e,n),s=function(){return c.removeListener(e,n)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Wh(t[u],e,n,r,i);else throw new TypeError("Invalid event target");r.add(s)}function fw(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function hw(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function pw(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Hh(t,e,n){return n?Hh(t,e).pipe(pt(function(r){return Ye(r)?n.apply(void 0,r):n(r)})):new se(function(r){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return r.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){r.error(o);return}if(!!lr(e))return function(){return e(i,s)}})}function bw(t,e,n,r,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,n=a.iterate,s=a.resultSelector||fn,i=a.scheduler}else r===void 0||nt(r)?(o=t,s=fn,i=r):(o=t,s=r);return new se(function(c){var u=o;if(i)return i.schedule(gw,0,{subscriber:c,iterate:n,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(d){c.error(d);return}if(!l){c.complete();break}}var p=void 0;try{p=s(u)}catch(d){c.error(d);return}if(c.next(p),c.closed)break;try{u=n(u)}catch(d){c.error(d);return}}while(!0)})}function gw(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(s){e.error(s);return}if(!r){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function yw(t,e,n){return e===void 0&&(e=dr),n===void 0&&(n=dr),Cu(function(){return t()?e:n})}function hr(t){return!Ye(t)&&t-parseFloat(t)+1>=0}function mw(t,e){return t===void 0&&(t=0),e===void 0&&(e=Je),(!hr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Je),new se(function(n){return n.add(e.schedule(vw,t,{subscriber:n,counter:0,period:t})),n})}function vw(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function Vh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return nt(i)?(r=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(n=t.pop())):typeof i=="number"&&(n=t.pop()),r===null&&t.length===1&&t[0]instanceof se?t[0]:Eu(n)(yi(t,r))}var zh=new se(kt);function _w(){return zh}function Wc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return dr;var n=t[0],r=t.slice(1);return t.length===1&&Ye(n)?Wc.apply(void 0,n):new se(function(i){var s=function(){return i.add(Wc.apply(void 0,r).subscribe(i))};return Vt(n).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function ww(t,e){return e?new se(function(n){var r=Object.keys(t),i=new Ee;return i.add(e.schedule(Sw,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}):new se(function(n){for(var r=Object.keys(t),i=0;i<r.length&&!n.closed;i++){var s=r[i];t.hasOwnProperty(s)&&n.next([s,t[s]])}n.complete()})}function Sw(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,s=t.obj;if(!r.closed)if(n<e.length){var o=e[n];r.next([o,s[o]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:s}))}else r.complete()}function qh(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function pn(t,e){return function(r){return r.lift(new Ew(t,e))}}var Ew=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new Cw(e,this.predicate,this.thisArg))},t}(),Cw=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.thisArg=i,s.count=0,s}return e.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(n)},e}(K);function kw(t,e,n){return[pn(e,n)(new se(ei(t))),pn(qh(e,n))(new se(ei(t)))]}function Gh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ye(t[0]))t=t[0];else return t[0];return yi(t,void 0).lift(new Aw)}var Aw=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new Iw(e))},t}(),Iw=function(t){O(e,t);function e(n){var r=t.call(this,n)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return e.prototype._next=function(n){this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var s=n[i],o=Wt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(r)},e}(Bn);function Mw(t,e,n){return t===void 0&&(t=0),new se(function(r){e===void 0&&(e=t,t=0);var i=0,s=t;if(n)return n.schedule(xw,0,{index:i,count:e,start:t,subscriber:r});do{if(i++>=e){r.complete();break}if(r.next(s++),r.closed)break}while(!0)})}function xw(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;if(n>=r){i.complete();return}i.next(e),!i.closed&&(t.index=n+1,t.start=e+1,this.schedule(t))}function Qh(t,e,n){t===void 0&&(t=0);var r=-1;return hr(e)?r=Number(e)<1&&1||Number(e):nt(e)&&(n=e),nt(n)||(n=Je),new se(function(i){var s=hr(t)?t:+t-n.now();return n.schedule(Tw,s,{index:0,period:r,subscriber:i})})}function Tw(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(n===-1)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ow(t,e){return new se(function(n){var r;try{r=t()}catch(a){n.error(a);return}var i;try{i=e(r)}catch(a){n.error(a);return}var s=i?Vt(i):dr,o=s.subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}function Zh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return typeof n=="function"&&t.pop(),yi(t,void 0).lift(new Kh(n))}var Kh=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Rw(e,this.resultSelector))},t}(),Rw=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.resultSelector=r,s.iterators=[],s.active=0,s.resultSelector=typeof r=="function"?r:void 0,s}return e.prototype._next=function(n){var r=this.iterators;Ye(n)?r.push(new Pw(n)):typeof n[hn]=="function"?r.push(new Nw(n[hn]())):r.push(new Dw(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var s=n[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,i=this.destination,s=0;s<r;s++){var o=n[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<r;s++){var o=n[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(K),Nw=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Pw=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[hn]=function(){return this},t.prototype.next=function(e){var n=this.index++,r=this.array;return n<this.length?{value:r[n],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Dw=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.parent=r,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[hn]=function(){return this},e.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},e.prototype.subscribe=function(){return Me(this.observable,new Ae(this))},e}(Ie);const Lw=Object.freeze(Object.defineProperty({__proto__:null,Observable:se,ConnectableObservable:Ch,GroupedObservable:Bc,observable:Mr,Subject:Fe,BehaviorSubject:kh,ReplaySubject:wu,AsyncSubject:Tr,asap:Yi,asapScheduler:Th,async:Je,asyncScheduler:Oh,queue:Ih,queueScheduler:Ah,animationFrame:B2,animationFrameScheduler:Rh,VirtualTimeScheduler:F2,VirtualAction:Nh,Scheduler:Fc,Subscription:Ee,Subscriber:K,Notification:$t,get NotificationKind(){return $c},pipe:jc,noop:kt,identity:fn,isObservable:$2,ArgumentOutOfRangeError:fr,EmptyError:mi,ObjectUnsubscribedError:nn,UnsubscriptionError:Hr,TimeoutError:Ph,bindCallback:Dh,bindNodeCallback:Lh,combineLatest:tw,concat:ti,defer:Cu,empty:xr,forkJoin:dw,from:Vt,fromEvent:Uh,fromEventPattern:Hh,generate:bw,iif:yw,interval:mw,merge:Vh,never:_w,of:js,onErrorResumeNext:Wc,pairs:ww,partition:kw,race:Gh,range:Mw,throwError:_u,timer:Qh,using:Ow,zip:Zh,scheduled:Fh,EMPTY:dr,NEVER:zh,config:ct},Symbol.toStringTag,{value:"Module"})),Or=ke(Lw);function Yh(t){return function(n){return n.lift(new jw(t))}}var jw=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Bw(e,this.durationSelector))},t}(),Bw=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(n)}catch(o){return this.destination.error(o)}var s=Me(r,new Ae(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var n=this,r=n.value,i=n.hasValue,s=n.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Ie);function Fw(t,e){return e===void 0&&(e=Je),Yh(function(){return Qh(t,e)})}function $w(t){return function(n){return n.lift(new Uw(t))}}var Uw=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,n){return n.subscribe(new Ww(e,this.closingNotifier))},t}(),Ww=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.buffer=[],i.add(Me(r,new Ae(i))),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype.notifyNext=function(){var n=this.buffer;this.buffer=[],this.destination.next(n)},e}(Ie);function Hw(t,e){return e===void 0&&(e=null),function(r){return r.lift(new Vw(t,e))}}var Vw=function(){function t(e,n){this.bufferSize=e,this.startBufferEvery=n,!n||e===n?this.subscriberClass=zw:this.subscriberClass=qw}return t.prototype.call=function(e,n){return n.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),zw=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.bufferSize=r,i.buffer=[],i}return e.prototype._next=function(n){var r=this.buffer;r.push(n),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},e.prototype._complete=function(){var n=this.buffer;n.length>0&&this.destination.next(n),t.prototype._complete.call(this)},e}(K),qw=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.bufferSize=r,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(n){var r=this,i=r.bufferSize,s=r.startBufferEvery,o=r.buffers,a=r.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(n),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var n=this,r=n.buffers,i=n.destination;r.length>0;){var s=r.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(K);function Gw(t){var e=arguments.length,n=Je;nt(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Qw(t,r,i,n))}}var Qw=function(){function t(e,n,r,i){this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new Kw(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Zw=function(){function t(){this.buffer=[]}return t}(),Kw=function(t){O(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;a.bufferTimeSpan=r,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:r};a.add(c.closeAction=o.schedule(Wl,r,u))}else{var l={subscriber:a,context:c},p={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Jh,r,l)),a.add(o.schedule(Yw,i,p))}return a}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,s,o=0;o<i;o++){var a=r[o],c=a.buffer;c.push(n),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(n){this.contexts.length=0,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this,r=n.contexts,i=n.destination;r.length>0;){var s=r.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(n){this.closeContext(n);var r=n.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){n=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:n,bufferTimeSpan:i};this.add(n.closeAction=this.scheduler.schedule(Wl,i,s))}},e.prototype.openContext=function(){var n=new Zw;return this.contexts.push(n),n},e.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts,i=r?r.indexOf(n):-1;i>=0&&r.splice(r.indexOf(n),1)},e}(K);function Wl(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Yw(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,s=r.openContext(),o=this;r.closed||(r.add(s.closeAction=i.schedule(Jh,n,{subscriber:r,context:s})),o.schedule(t,e))}function Jh(t){var e=t.subscriber,n=t.context;e.closeContext(n)}function Jw(t,e){return function(r){return r.lift(new Xw(t,e))}}var Xw=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new e5(e,this.openings,this.closingSelector))},t}(),e5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.closingSelector=i,s.contexts=[],s.add(Wt(s,r)),s}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,s=0;s<i;s++)r[s].buffer.push(n)},e.prototype._error=function(n){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this.contexts;n.length>0;){var r=n.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(n,r){n?this.closeBuffer(n):this.openBuffer(r)},e.prototype.notifyComplete=function(n){this.closeBuffer(n.context)},e.prototype.openBuffer=function(n){try{var r=this.closingSelector,i=r.call(this,n);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(n){var r=this.contexts;if(r&&n){var i=n.buffer,s=n.subscription;this.destination.next(i),r.splice(r.indexOf(n),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(n){var r=this.contexts,i=[],s=new Ee,o={buffer:i,subscription:s};r.push(o);var a=Wt(this,n,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Bn);function t5(t){return function(e){return e.lift(new n5(t))}}var n5=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new r5(e,this.closingSelector))},t}(),r5=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype._complete=function(){var n=this.buffer;n&&this.destination.next(n),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var n=this.closingSubscription;n&&(this.remove(n),n.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}n=new Ee,this.closingSubscription=n,this.add(n),this.subscribing=!0,n.add(Me(i,new Ae(this))),this.subscribing=!1},e}(Ie);function i5(t){return function(n){var r=new s5(t),i=n.lift(r);return r.caught=i}}var s5=function(){function t(e){this.selector=e}return t.prototype.call=function(e,n){return n.subscribe(new o5(e,this.selector,this.caught))},t}(),o5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.selector=r,s.caught=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Ae(this);this.add(i);var s=Me(r,i);s!==i&&this.add(s)}},e}(Ie);function a5(t){return function(e){return e.lift(new Su(t))}}function c5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&Ye(t[0])&&(t=t[0].slice()),function(r){return r.lift.call(Vt([r].concat(t)),new Su(n))}}function u5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(ti.apply(void 0,[n].concat(t)))}}function Xh(t,e){return Rn(t,e,1)}function l5(t,e){return Xh(function(){return t},e)}function d5(t){return function(e){return e.lift(new f5(t,e))}}var f5=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new h5(e,this.predicate,this.source))},t}(),h5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(n){this.predicate?this._tryPredicate(n):this.count++},e.prototype._tryPredicate=function(n){var r;try{r=this.predicate(n,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(K);function p5(t){return function(e){return e.lift(new b5(t))}}var b5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new g5(e,this.durationSelector))},t}(),g5=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){try{var r=this.durationSelector.call(this,n);r&&this._tryNext(n,r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(n,r){var i=this.durationSubscription;this.value=n,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Me(r,new Ae(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var n=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,n)}},e}(Ie);function y5(t,e){return e===void 0&&(e=Je),function(n){return n.lift(new m5(t,e))}}var m5=function(){function t(e,n){this.dueTime=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new v5(e,this.dueTime,this.scheduler))},t}(),v5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.dueTime=r,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_5,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},e.prototype.clearDebounce=function(){var n=this.debouncedSubscription;n!==null&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},e}(K);function _5(t){t.debouncedNext()}function vi(t){return t===void 0&&(t=null),function(e){return e.lift(new w5(t))}}var w5=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,n){return n.subscribe(new S5(e,this.defaultValue))},t}(),S5=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.defaultValue=r,i.isEmpty=!0,i}return e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(K);function ep(t){return t instanceof Date&&!isNaN(+t)}function E5(t,e){e===void 0&&(e=Je);var n=ep(t),r=n?+t-e.now():Math.abs(t);return function(i){return i.lift(new C5(r,e))}}var C5=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new k5(e,this.delay,this.scheduler))},t}(),k5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.delay=r,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(n){for(var r=n.source,i=r.queue,s=n.scheduler,o=n.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(n,a)}else this.unsubscribe(),r.active=!1},e.prototype._schedule=function(n){this.active=!0;var r=this.destination;r.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler,i=new A5(r.now()+this.delay,n);this.queue.push(i),this.active===!1&&this._schedule(r)}},e.prototype._next=function(n){this.scheduleNotification($t.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification($t.createComplete()),this.unsubscribe()},e}(K),A5=function(){function t(e,n){this.time=e,this.notification=n}return t}();function I5(t,e){return e?function(n){return new x5(n,e).lift(new Hl(t))}:function(n){return n.lift(new Hl(t))}}var Hl=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new M5(e,this.delayDurationSelector))},t}(),M5=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(n,r,i,s,o){this.destination.next(n),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(n,r){this._error(n)},e.prototype.notifyComplete=function(n){var r=this.removeSubscription(n);r&&this.destination.next(r),this.tryComplete()},e.prototype._next=function(n){var r=this.index++;try{var i=this.delayDurationSelector(n,r);i&&this.tryDelay(i,n)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(n){n.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(n);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),n.outerValue},e.prototype.tryDelay=function(n,r){var i=Wt(this,n,r);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Bn),x5=function(t){O(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subscriptionDelay=r,i}return e.prototype._subscribe=function(n){this.subscriptionDelay.subscribe(new T5(n,this.source))},e}(se),T5=function(t){O(e,t);function e(n,r){var i=t.call(this)||this;return i.parent=n,i.source=r,i.sourceSubscribed=!1,i}return e.prototype._next=function(n){this.subscribeToSource()},e.prototype._error=function(n){this.unsubscribe(),this.parent.error(n)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(K);function O5(){return function(e){return e.lift(new R5)}}var R5=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new N5(e))},t}(),N5=function(t){O(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){n.observe(this.destination)},e}(K);function P5(t,e){return function(n){return n.lift(new D5(t,e))}}var D5=function(){function t(e,n){this.keySelector=e,this.flushes=n}return t.prototype.call=function(e,n){return n.subscribe(new L5(e,this.keySelector,this.flushes))},t}(),L5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.keySelector=r,s.values=new Set,i&&s.add(Me(i,new Ae(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(n){this._error(n)},e.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},e.prototype._useKeySelector=function(n){var r,i=this.destination;try{r=this.keySelector(n)}catch(s){i.error(s);return}this._finalizeNext(r,n)},e.prototype._finalizeNext=function(n,r){var i=this.values;i.has(n)||(i.add(n),this.destination.next(r))},e}(Ie);function tp(t,e){return function(n){return n.lift(new j5(t,e))}}var j5=function(){function t(e,n){this.compare=e,this.keySelector=n}return t.prototype.call=function(e,n){return n.subscribe(new B5(e,this.compare,this.keySelector))},t}(),B5=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.keySelector=i,s.hasKey=!1,typeof r=="function"&&(s.compare=r),s}return e.prototype.compare=function(n,r){return n===r},e.prototype._next=function(n){var r;try{var i=this.keySelector;r=i?i(n):n}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))},e}(K);function F5(t,e){return tp(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}function Bs(t){return t===void 0&&(t=W5),function(e){return e.lift(new $5(t))}}var $5=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,n){return n.subscribe(new U5(e,this.errorFactory))},t}(),U5=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.errorFactory=r,i.hasValue=!1,i}return e.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},e}(K);function W5(){return new mi}function ku(t){return function(e){return t===0?xr():e.lift(new H5(t))}}var H5=function(){function t(e){if(this.total=e,this.total<0)throw new fr}return t.prototype.call=function(e,n){return n.subscribe(new V5(e,this.total))},t}(),V5=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){var r=this.total,i=++this.count;i<=r&&(this.destination.next(n),i===r&&(this.destination.complete(),this.unsubscribe()))},e}(K);function z5(t,e){if(t<0)throw new fr;var n=arguments.length>=2;return function(r){return r.pipe(pn(function(i,s){return s===t}),ku(1),n?vi(e):Bs(function(){return new fr}))}}function q5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return ti(n,js.apply(void 0,t))}}function G5(t,e){return function(n){return n.lift(new Q5(t,e,n))}}var Q5=function(){function t(e,n,r){this.predicate=e,this.thisArg=n,this.source=r}return t.prototype.call=function(e,n){return n.subscribe(new Z5(e,this.predicate,this.thisArg,this.source))},t}(),Z5=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.predicate=r,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},e.prototype._next=function(n){var r=!1;try{r=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(K);function K5(){return function(t){return t.lift(new Y5)}}var Y5=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new J5(e))},t}(),J5=function(t){O(e,t);function e(n){var r=t.call(this,n)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return e.prototype._next=function(n){this.hasSubscription||(this.hasSubscription=!0,this.add(Me(n,new Ae(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ie);function np(t,e){return e?function(n){return n.pipe(np(function(r,i){return Vt(t(r,i)).pipe(pt(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new X5(t))}}var X5=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new e3(e,this.project))},t}(),e3=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},e.prototype.tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new Ae(this),i=this.destination;i.add(r);var s=Me(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Ie);function t3(t,e,n){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new n3(t,e,n))}}var n3=function(){function t(e,n,r){this.project=e,this.concurrent=n,this.scheduler=r}return t.prototype.call=function(e,n){return n.subscribe(new r3(e,this.project,this.concurrent,this.scheduler))},t}(),r3=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.project=r,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(n){var r=n.subscriber,i=n.result,s=n.value,o=n.index;r.subscribeToProjection(i,s,o)},e.prototype._next=function(n){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(n);try{var s=this.project,o=s(n,i);if(!this.scheduler)this.subscribeToProjection(o,n,i);else{var a={subscriber:this,result:o,value:n,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){r.error(u)}}else this.buffer.push(n)},e.prototype.subscribeToProjection=function(n,r,i){this.active++;var s=this.destination;s.add(Me(n,new Ae(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this._next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n&&n.length>0&&this._next(n.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Ie);function i3(t){return function(e){return e.lift(new s3(t))}}var s3=function(){function t(e){this.callback=e}return t.prototype.call=function(e,n){return n.subscribe(new o3(e,this.callback))},t}(),o3=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.add(new Ee(r)),i}return e}(K);function a3(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(n){return n.lift(new rp(t,n,!1,e))}}var rp=function(){function t(e,n,r,i){this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(e,n){return n.subscribe(new c3(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),c3=function(t){O(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.predicate=r,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete(),this.unsubscribe()},e.prototype._next=function(n){var r=this,i=r.predicate,s=r.thisArg,o=this.index++;try{var a=i.call(s||this,n,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:n)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(K);function u3(t,e){return function(n){return n.lift(new rp(t,n,!0,e))}}function l3(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?pn(function(i,s){return t(i,s,r)}):fn,ku(1),n?vi(e):Bs(function(){return new mi}))}}function d3(){return function(e){return e.lift(new f3)}}var f3=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new h3(e))},t}(),h3=function(t){O(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(n){},e}(K);function p3(){return function(t){return t.lift(new b3)}}var b3=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new g3(e))},t}(),g3=function(t){O(e,t);function e(n){return t.call(this,n)||this}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype._next=function(n){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(K);function ds(t){return function(n){return t===0?xr():n.lift(new y3(t))}}var y3=function(){function t(e){if(this.total=e,this.total<0)throw new fr}return t.prototype.call=function(e,n){return n.subscribe(new m3(e,this.total))},t}(),m3=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.ring=new Array,i.count=0,i}return e.prototype._next=function(n){var r=this.ring,i=this.total,s=this.count++;if(r.length<i)r.push(n);else{var o=s%i;r[o]=n}},e.prototype._complete=function(){var n=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=r++%i;n.next(s[a])}n.complete()},e}(K);function v3(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?pn(function(i,s){return t(i,s,r)}):fn,ds(1),n?vi(e):Bs(function(){return new mi}))}}function _3(t){return function(e){return e.lift(new w3(t))}}var w3=function(){function t(e){this.value=e}return t.prototype.call=function(e,n){return n.subscribe(new S3(e,this.value))},t}(),S3=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype._next=function(n){this.destination.next(this.value)},e}(K);function E3(){return function(e){return e.lift(new C3)}}var C3=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new k3(e))},t}(),k3=function(t){O(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){this.destination.next($t.createNext(n))},e.prototype._error=function(n){var r=this.destination;r.next($t.createError(n)),r.complete()},e.prototype._complete=function(){var n=this.destination;n.next($t.createComplete()),n.complete()},e}(K);function fs(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new A3(t,e,n))}}var A3=function(){function t(e,n,r){r===void 0&&(r=!1),this.accumulator=e,this.seed=n,this.hasSeed=r}return t.prototype.call=function(e,n){return n.subscribe(new I3(e,this.accumulator,this.seed,this.hasSeed))},t}(),I3=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.accumulator=r,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)},e.prototype._tryNext=function(n){var r=this.index++,i;try{i=this.accumulator(this.seed,n,r)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(K);function Fs(t,e){return arguments.length>=2?function(r){return jc(fs(t,e),ds(1),vi(e))(r)}:function(r){return jc(fs(function(i,s,o){return t(i,s,o+1)}),ds(1))(r)}}function M3(t){var e=typeof t=="function"?function(n,r){return t(n,r)>0?n:r}:function(n,r){return n>r?n:r};return Fs(e)}function x3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Vh.apply(void 0,[n].concat(t)))}}function T3(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?Rn(function(){return t},e,n):(typeof e=="number"&&(n=e),Rn(function(){return t},n))}function O3(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new R3(t,e,n))}}var R3=function(){function t(e,n,r){this.accumulator=e,this.seed=n,this.concurrent=r}return t.prototype.call=function(e,n){return n.subscribe(new N3(e,this.accumulator,this.seed,this.concurrent))},t}(),N3=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.accumulator=r,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(n){if(this.active<this.concurrent){var r=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,n,r)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(n)},e.prototype._innerSub=function(n){var r=new Ae(this),i=this.destination;i.add(r);var s=Me(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(n){var r=this.destination;this.acc=n,this.hasValue=!0,r.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Ie);function P3(t){var e=typeof t=="function"?function(n,r){return t(n,r)<0?n:r}:function(n,r){return n<r?n:r};return Fs(e)}function Nn(t,e){return function(r){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return r.lift(new D3(i,e));var s=Object.create(r,g2);return s.source=r,s.subjectFactory=i,s}}var D3=function(){function t(e,n){this.subjectFactory=e,this.selector=n}return t.prototype.call=function(e,n){var r=this.selector,i=this.subjectFactory(),s=r(i).subscribe(e);return s.add(n.subscribe(i)),s},t}();function L3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ye(t[0])&&(t=t[0]),function(n){return n.lift(new j3(t))}}var j3=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,n){return n.subscribe(new B3(e,this.nextSources))},t}(),B3=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.nextSources=r,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(n){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var n=this.nextSources.shift();if(n){var r=new Ae(this),i=this.destination;i.add(r);var s=Me(n,r);s!==r&&i.add(s)}else this.destination.complete()},e}(Ie);function F3(){return function(t){return t.lift(new $3)}}var $3=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new U3(e))},t}(),U3=function(t){O(e,t);function e(n){var r=t.call(this,n)||this;return r.hasPrev=!1,r}return e.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},e}(K);function W3(t,e){return function(n){return[pn(t,e)(n),pn(qh(t,e))(n)]}}function H3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(n===0)throw new Error("list of properties cannot be empty.");return function(r){return pt(V3(t,n))(r)}}function V3(t,e){var n=function(r){for(var i=r,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return n}function z3(t){return t?Nn(function(){return new Fe},t):Nn(new Fe)}function q3(t){return function(e){return Nn(new kh(t))(e)}}function G3(){return function(t){return Nn(new Tr)(t)}}function Q3(t,e,n,r){n&&typeof n!="function"&&(r=n);var i=typeof n=="function"?n:void 0,s=new wu(t,e,r);return function(o){return Nn(function(){return s},i)(o)}}function Z3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return t.length===1&&Ye(t[0])&&(t=t[0]),r.lift.call(Gh.apply(void 0,[r].concat(t)))}}function K3(t){return t===void 0&&(t=-1),function(e){return t===0?xr():t<0?e.lift(new Vl(-1,e)):e.lift(new Vl(t-1,e))}}var Vl=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new Y3(e,this.count,this.source))},t}(),Y3=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.count=r,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(K);function J3(t){return function(e){return e.lift(new X3(t))}}var X3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new e4(e,this.notifier,n))},t}(),e4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.notifier=r,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var n=this,r=n.notifications,i=n.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var n=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=n,this},e.prototype.subscribeToRetries=function(){this.notifications=new Fe;var n;try{var r=this.notifier;n=r(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=Me(n,new Ae(this))},e}(Ie);function t4(t){return t===void 0&&(t=-1),function(e){return e.lift(new n4(t,e))}}var n4=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new r4(e,this.count,this.source))},t}(),r4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.count=r,s.source=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=this,i=r.source,s=r.count;if(s===0)return t.prototype.error.call(this,n);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(K);function i4(t){return function(e){return e.lift(new s4(t,e))}}var s4=function(){function t(e,n){this.notifier=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new o4(e,this.notifier,this.source))},t}(),o4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.notifier=r,s.source=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new Fe;try{var o=this.notifier;i=o(r)}catch(a){return t.prototype.error.call(this,a)}s=Me(i,new Ae(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=s,r.next(n)}},e.prototype._unsubscribe=function(){var n=this,r=n.errors,i=n.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},e}(Ie);function a4(t){return function(e){return e.lift(new c4(t))}}var c4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new u4(e),i=n.subscribe(r);return i.add(Me(this.notifier,new Ae(r))),i},t}(),u4=function(t){O(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasValue=!1,n}return e.prototype._next=function(n){this.value=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Ie);function l4(t,e){return e===void 0&&(e=Je),function(n){return n.lift(new d4(t,e))}}var d4=function(){function t(e,n){this.period=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new f4(e,this.period,this.scheduler))},t}(),f4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.period=r,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(h4,r,{subscriber:s,period:r})),s}return e.prototype._next=function(n){this.lastValue=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(K);function h4(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function p4(t,e){return function(n){return n.lift(new b4(t,e))}}var b4=function(){function t(e,n){this.compareTo=e,this.comparator=n}return t.prototype.call=function(e,n){return n.subscribe(new g4(e,this.compareTo,this.comparator))},t}(),g4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.compareTo=r,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(r.subscribe(new y4(n,s))),s}return e.prototype._next=function(n){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(n),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var n=this,r=n._a,i=n._b,s=n.comparator;r.length>0&&i.length>0;){var o=r.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype.nextB=function(n){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(n),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(K),y4=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.parent=r,i}return e.prototype._next=function(n){this.parent.nextB(n)},e.prototype._error=function(n){this.parent.error(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(K);function m4(){return new Fe}function v4(){return function(t){return mu()(Nn(m4)(t))}}function _4(t,e,n){var r;return t&&typeof t=="object"?r=t:r={bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(i){return i.lift(w4(r))}}function w4(t){var e=t.bufferSize,n=e===void 0?Number.POSITIVE_INFINITY:e,r=t.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,p=!1;return function(b){c++;var g;!a||l?(l=!1,a=new wu(n,i,o),g=a.subscribe(this),u=b.subscribe({next:function(E){a.next(E)},error:function(E){l=!0,a.error(E)},complete:function(){p=!0,u=void 0,a.complete()}}),p&&(u=void 0)):g=a.subscribe(this),this.add(function(){c--,g.unsubscribe(),g=void 0,u&&!p&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function S4(t){return function(e){return e.lift(new E4(t,e))}}var E4=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new C4(e,this.predicate,this.source))},t}(),C4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(n){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=n)},e.prototype._next=function(n){var r=this.index++;this.predicate?this.tryNext(n,r):this.applySingleValue(n)},e.prototype.tryNext=function(n,r){try{this.predicate(n,r,this.source)&&this.applySingleValue(n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var n=this.destination;this.index>0?(n.next(this.seenValue?this.singleValue:void 0),n.complete()):n.error(new mi)},e}(K);function k4(t){return function(e){return e.lift(new A4(t))}}var A4=function(){function t(e){this.total=e}return t.prototype.call=function(e,n){return n.subscribe(new I4(e,this.total))},t}(),I4=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){++this.count>this.total&&this.destination.next(n)},e}(K);function M4(t){return function(e){return e.lift(new x4(t))}}var x4=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new fr}return t.prototype.call=function(e,n){return this._skipCount===0?n.subscribe(new K(e)):n.subscribe(new T4(e,this._skipCount))},t}(),T4=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return e.prototype._next=function(n){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=n;else{var s=i%r,o=this._ring,a=o[s];o[s]=n,this.destination.next(a)}},e}(K);function O4(t){return function(e){return e.lift(new R4(t))}}var R4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new N4(e,this.notifier))},t}(),N4=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;i.hasValue=!1;var s=new Ae(i);i.add(s),i.innerSubscription=s;var o=Me(r,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(n){this.hasValue&&t.prototype._next.call(this,n)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Ie);function P4(t){return function(e){return e.lift(new D4(t))}}var D4=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,n){return n.subscribe(new L4(e,this.predicate))},t}(),L4=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return e.prototype._next=function(n){var r=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||r.next(n)},e.prototype.tryCallPredicate=function(n){try{var r=this.predicate(n,this.index++);this.skipping=Boolean(r)}catch(i){this.destination.error(i)}},e}(K);function j4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return nt(n)?(t.pop(),function(r){return ti(t,r,n)}):function(r){return ti(t,r)}}var B4=function(t){O(e,t);function e(n,r,i){r===void 0&&(r=0),i===void 0&&(i=Yi);var s=t.call(this)||this;return s.source=n,s.delayTime=r,s.scheduler=i,(!hr(r)||r<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Yi),s}return e.create=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=Yi),new e(n,r,i)},e.dispatch=function(n){var r=n.source,i=n.subscriber;return this.add(r.subscribe(i))},e.prototype._subscribe=function(n){var r=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,r,{source:i,subscriber:n})},e}(se);function F4(t,e){return e===void 0&&(e=0),function(r){return r.lift(new $4(t,e))}}var $4=function(){function t(e,n){this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return new B4(n,this.delay,this.scheduler).subscribe(e)},t}();function ni(t,e){return typeof e=="function"?function(n){return n.pipe(ni(function(r,i){return Vt(t(r,i)).pipe(pt(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new U4(t))}}var U4=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new W4(e,this.project))},t}(),W4=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.index=0,i}return e.prototype._next=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this._innerSub(r)},e.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Ae(this),s=this.destination;s.add(i),this.innerSubscription=Me(n,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(n){this.destination.next(n)},e}(Ie);function H4(){return ni(fn)}function V4(t,e){return e?ni(function(){return t},e):ni(function(){return t})}function z4(t){return function(e){return e.lift(new q4(t))}}var q4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new G4(e),i=Me(this.notifier,new Ae(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r},t}(),G4=function(t){O(e,t);function e(n){var r=t.call(this,n)||this;return r.seenValue=!1,r}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ie);function Q4(t,e){return e===void 0&&(e=!1),function(n){return n.lift(new Z4(t,e))}}var Z4=function(){function t(e,n){this.predicate=e,this.inclusive=n}return t.prototype.call=function(e,n){return n.subscribe(new K4(e,this.predicate,this.inclusive))},t}(),K4=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.inclusive=i,s.index=0,s}return e.prototype._next=function(n){var r=this.destination,i;try{i=this.predicate(n,this.index++)}catch(s){r.error(s);return}this.nextOrComplete(n,i)},e.prototype.nextOrComplete=function(n,r){var i=this.destination;Boolean(r)?i.next(n):(this.inclusive&&i.next(n),i.complete())},e}(K);function Y4(t,e,n){return function(i){return i.lift(new J4(t,e,n))}}var J4=function(){function t(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}return t.prototype.call=function(e,n){return n.subscribe(new X4(e,this.nextOrObserver,this.error,this.complete))},t}(),X4=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o._tapNext=kt,o._tapError=kt,o._tapComplete=kt,o._tapError=i||kt,o._tapComplete=s||kt,lr(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||kt,o._tapError=r.error||kt,o._tapComplete=r.complete||kt),o}return e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},e}(K),ip={leading:!0,trailing:!1};function eS(t,e){return e===void 0&&(e=ip),function(n){return n.lift(new tS(t,!!e.leading,!!e.trailing))}}var tS=function(){function t(e,n,r){this.durationSelector=e,this.leading=n,this.trailing=r}return t.prototype.call=function(e,n){return n.subscribe(new nS(e,this.durationSelector,this.leading,this.trailing))},t}(),nS=function(t){O(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.destination=n,o.durationSelector=r,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},e.prototype.send=function(){var n=this,r=n._hasValue,i=n._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(n){var r=this.tryDurationSelector(n);r&&this.add(this._throttled=Me(r,new Ae(this)))},e.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},e.prototype.throttlingDone=function(){var n=this,r=n._throttled,i=n._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Ie);function rS(t,e,n){return e===void 0&&(e=Je),n===void 0&&(n=ip),function(r){return r.lift(new iS(t,e,n.leading,n.trailing))}}var iS=function(){function t(e,n,r,i){this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return t.prototype.call=function(e,n){return n.subscribe(new sS(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),sS=function(t){O(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.duration=r,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(oS,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},e}(K);function oS(t){var e=t.subscriber;e.clearThrottle()}function aS(t){return t===void 0&&(t=Je),function(e){return Cu(function(){return e.pipe(fs(function(n,r){var i=n.current;return{value:r,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),pt(function(n){var r=n.current,i=n.last,s=n.value;return new cS(s,r-i)}))})}}var cS=function(){function t(e,n){this.value=e,this.interval=n}return t}();function sp(t,e,n){return n===void 0&&(n=Je),function(r){var i=ep(t),s=i?+t-n.now():Math.abs(t);return r.lift(new uS(s,i,e,n))}}var uS=function(){function t(e,n,r,i){this.waitFor=e,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new lS(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),lS=function(t){O(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.absoluteTimeout=r,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(Me(r,new Ae(n)))},e.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,n)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Ie);function dS(t,e){return e===void 0&&(e=Je),sp(t,_u(new Ph),e)}function fS(t){return t===void 0&&(t=Je),pt(function(e){return new hS(e,t.now())})}var hS=function(){function t(e,n){this.value=e,this.timestamp=n}return t}();function pS(t,e,n){return n===0?[e]:(t.push(e),t)}function bS(){return Fs(pS,[])}function gS(t){return function(n){return n.lift(new yS(t))}}var yS=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,n){var r=new mS(e),i=n.subscribe(r);return i.closed||r.add(Me(this.windowBoundaries,new Ae(r))),i},t}(),mS=function(t){O(e,t);function e(n){var r=t.call(this,n)||this;return r.window=new Fe,n.next(r.window),r}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var n=this.window;n&&n.complete();var r=this.destination,i=this.window=new Fe;r.next(i)},e}(Ie);function vS(t,e){return e===void 0&&(e=0),function(r){return r.lift(new _S(t,e))}}var _S=function(){function t(e,n){this.windowSize=e,this.startWindowEvery=n}return t.prototype.call=function(e,n){return n.subscribe(new wS(e,this.windowSize,this.startWindowEvery))},t}(),wS=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.destination=n,s.windowSize=r,s.startWindowEvery=i,s.windows=[new Fe],s.count=0,n.next(s.windows[0]),s}return e.prototype._next=function(n){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(n);var u=this.count-s+1;if(u>=0&&u%r===0&&!this.closed&&o.shift().complete(),++this.count%r===0&&!this.closed){var l=new Fe;o.push(l),i.next(l)}},e.prototype._error=function(n){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(K);function SS(t){var e=Je,n=null,r=Number.POSITIVE_INFINITY;return nt(arguments[3])&&(e=arguments[3]),nt(arguments[2])?e=arguments[2]:hr(arguments[2])&&(r=Number(arguments[2])),nt(arguments[1])?e=arguments[1]:hr(arguments[1])&&(n=Number(arguments[1])),function(s){return s.lift(new ES(t,n,r,e))}}var ES=function(){function t(e,n,r,i){this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new kS(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),CS=function(t){O(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._numberOfNextedValues=0,n}return e.prototype.next=function(n){this._numberOfNextedValues++,t.prototype.next.call(this,n)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Fe),kS=function(t){O(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;a.destination=n,a.windowTimeSpan=r,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:r,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(op,r,u)),a.add(o.schedule(IS,i,l))}else{var p={subscriber:a,window:c,windowTimeSpan:r};a.add(o.schedule(AS,r,p))}return a}return e.prototype._next=function(n){for(var r=this.windows,i=r.length,s=0;s<i;s++){var o=r[s];o.closed||(o.next(n),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(n){for(var r=this.windows;r.length>0;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){for(var n=this.windows;n.length>0;){var r=n.shift();r.closed||r.complete()}this.destination.complete()},e.prototype.openWindow=function(){var n=new CS;this.windows.push(n);var r=this.destination;return r.next(n),n},e.prototype.closeWindow=function(n){n.complete();var r=this.windows;r.splice(r.indexOf(n),1)},e}(K);function AS(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function IS(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,s=n.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:n,window:s,context:a};a.subscription=r.schedule(op,e,c),o.add(a.subscription),o.schedule(t,i)}function op(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function MS(t,e){return function(n){return n.lift(new xS(t,e))}}var xS=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new TS(e,this.openings,this.closingSelector))},t}(),TS=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.openings=r,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Wt(s,r,r)),s}return e.prototype._next=function(n){var r=this.contexts;if(r)for(var i=r.length,s=0;s<i;s++)r[s].window.next(n)},e.prototype._error=function(n){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,s=-1;++s<i;){var o=r[s];o.window.error(n),o.subscription.unsubscribe()}t.prototype._error.call(this,n)},e.prototype._complete=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var s=n[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var s=n[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(n,r,i,s,o){if(n===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(r)}catch(b){return this.error(b)}var u=new Fe,l=new Ee,p={window:u,subscription:l};this.contexts.push(p);var d=Wt(this,a,p);d.closed?this.closeWindow(this.contexts.length-1):(d.context=p,l.add(d)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(n))},e.prototype.notifyError=function(n){this.error(n)},e.prototype.notifyComplete=function(n){n!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(n.context))},e.prototype.closeWindow=function(n){if(n!==-1){var r=this.contexts,i=r[n],s=i.window,o=i.subscription;r.splice(n,1),s.complete(),o.unsubscribe()}},e}(Bn);function OS(t){return function(n){return n.lift(new RS(t))}}var RS=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new NS(e,this.closingSelector))},t}(),NS=function(t){O(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.closingSelector=r,i.openWindow(),i}return e.prototype.notifyNext=function(n,r,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(n){this.openWindow(n)},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(n){n===void 0&&(n=null),n&&(this.remove(n),n.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new Fe;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Wt(this,s))},e}(Bn);function PS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){var r;typeof t[t.length-1]=="function"&&(r=t.pop());var i=t;return n.lift(new DS(i,r))}}var DS=function(){function t(e,n){this.observables=e,this.project=n}return t.prototype.call=function(e,n){return n.subscribe(new LS(e,this.observables,this.project))},t}(),LS=function(t){O(e,t);function e(n,r,i){var s=t.call(this,n)||this;s.observables=r,s.project=i,s.toRespond=[];var o=r.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=r[a];s.add(Wt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(n,r,i){this.values[i]=r;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(n){if(this.toRespond.length===0){var r=[n].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},e.prototype._tryProject=function(n){var r;try{r=this.project.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(Bn);function jS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Zh.apply(void 0,[r].concat(t)))}}function BS(t){return function(e){return e.lift(new Kh(t))}}const FS=Object.freeze(Object.defineProperty({__proto__:null,audit:Yh,auditTime:Fw,buffer:$w,bufferCount:Hw,bufferTime:Gw,bufferToggle:Jw,bufferWhen:t5,catchError:i5,combineAll:a5,combineLatest:c5,concat:u5,concatAll:$h,concatMap:Xh,concatMapTo:l5,count:d5,debounce:p5,debounceTime:y5,defaultIfEmpty:vi,delay:E5,delayWhen:I5,dematerialize:O5,distinct:P5,distinctUntilChanged:tp,distinctUntilKeyChanged:F5,elementAt:z5,endWith:q5,every:G5,exhaust:K5,exhaustMap:np,expand:t3,filter:pn,finalize:i3,find:a3,findIndex:u3,first:l3,groupBy:m2,ignoreElements:d3,isEmpty:p3,last:v3,map:pt,mapTo:_3,materialize:E3,max:M3,merge:x3,mergeAll:Eu,mergeMap:Rn,flatMap:lw,mergeMapTo:T3,mergeScan:O3,min:P3,multicast:Nn,observeOn:M2,onErrorResumeNext:L3,pairwise:F3,partition:W3,pluck:H3,publish:z3,publishBehavior:q3,publishLast:G3,publishReplay:Q3,race:Z3,reduce:Fs,repeat:K3,repeatWhen:J3,retry:t4,retryWhen:i4,refCount:mu,sample:a4,sampleTime:l4,scan:fs,sequenceEqual:p4,share:v4,shareReplay:_4,single:S4,skip:k4,skipLast:M4,skipUntil:O4,skipWhile:P4,startWith:j4,subscribeOn:F4,switchAll:H4,switchMap:ni,switchMapTo:V4,take:ku,takeLast:ds,takeUntil:z4,takeWhile:Q4,tap:Y4,throttle:eS,throttleTime:rS,throwIfEmpty:Bs,timeInterval:aS,timeout:dS,timeoutWith:sp,timestamp:fS,toArray:bS,window:gS,windowCount:vS,windowTime:SS,windowToggle:MS,windowWhen:OS,withLatestFrom:PS,zip:jS,zipAll:BS},Symbol.toStringTag,{value:"Module"})),$s=ke(FS);var Z={},ap=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},zl=typeof Symbol<"u"&&Symbol,$S=ap,US=function(){return typeof zl!="function"||typeof Symbol!="function"||typeof zl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$S()},WS="Function.prototype.bind called on incompatible ",Ba=Array.prototype.slice,HS=Object.prototype.toString,VS="[object Function]",zS=function(e){var n=this;if(typeof n!="function"||HS.call(n)!==VS)throw new TypeError(WS+n);for(var r=Ba.call(arguments,1),i,s=function(){if(this instanceof i){var l=n.apply(this,r.concat(Ba.call(arguments)));return Object(l)===l?l:this}else return n.apply(e,r.concat(Ba.call(arguments)))},o=Math.max(0,n.length-r.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},qS=zS,Au=Function.prototype.bind||qS,GS=Au,QS=GS.call(Function.call,Object.prototype.hasOwnProperty),le,pr=SyntaxError,cp=Function,ir=TypeError,Fa=function(t){try{return cp('"use strict"; return ('+t+").constructor;")()}catch{}},xn=Object.getOwnPropertyDescriptor;if(xn)try{xn({},"")}catch{xn=null}var $a=function(){throw new ir},ZS=xn?function(){try{return arguments.callee,$a}catch{try{return xn(arguments,"callee").get}catch{return $a}}}():$a,zn=US(),en=Object.getPrototypeOf||function(t){return t.__proto__},Kn={},KS=typeof Uint8Array>"u"?le:en(Uint8Array),sr={"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":zn?en([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":Kn,"%AsyncGenerator%":Kn,"%AsyncGeneratorFunction%":Kn,"%AsyncIteratorPrototype%":Kn,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":cp,"%GeneratorFunction%":Kn,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zn?en(en([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!zn?le:en(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!zn?le:en(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zn?en(""[Symbol.iterator]()):le,"%Symbol%":zn?Symbol:le,"%SyntaxError%":pr,"%ThrowTypeError%":ZS,"%TypedArray%":KS,"%TypeError%":ir,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet},YS=function t(e){var n;if(e==="%AsyncFunction%")n=Fa("async function () {}");else if(e==="%GeneratorFunction%")n=Fa("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Fa("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(n=en(i.prototype))}return sr[e]=n,n},ql={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_i=Au,hs=QS,JS=_i.call(Function.call,Array.prototype.concat),XS=_i.call(Function.apply,Array.prototype.splice),Gl=_i.call(Function.call,String.prototype.replace),ps=_i.call(Function.call,String.prototype.slice),e6=_i.call(Function.call,RegExp.prototype.exec),t6=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,n6=/\\(\\)?/g,r6=function(e){var n=ps(e,0,1),r=ps(e,-1);if(n==="%"&&r!=="%")throw new pr("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new pr("invalid intrinsic syntax, expected opening `%`");var i=[];return Gl(e,t6,function(s,o,a,c){i[i.length]=a?Gl(c,n6,"$1"):o||s}),i},i6=function(e,n){var r=e,i;if(hs(ql,r)&&(i=ql[r],r="%"+i[0]+"%"),hs(sr,r)){var s=sr[r];if(s===Kn&&(s=YS(r)),typeof s>"u"&&!n)throw new ir("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new pr("intrinsic "+e+" does not exist!")},Us=function(e,n){if(typeof e!="string"||e.length===0)throw new ir("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ir('"allowMissing" argument must be a boolean');if(e6(/^%?[^%]*%?$/,e)===null)throw new pr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=r6(e),i=r.length>0?r[0]:"",s=i6("%"+i+"%",n),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],XS(r,JS([0,1],u)));for(var l=1,p=!0;l<r.length;l+=1){var d=r[l],b=ps(d,0,1),g=ps(d,-1);if((b==='"'||b==="'"||b==="`"||g==='"'||g==="'"||g==="`")&&b!==g)throw new pr("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(c=!0),i+="."+d,o="%"+i+"%",hs(sr,o))a=sr[o];else if(a!=null){if(!(d in a)){if(!n)throw new ir("base intrinsic for "+e+" exists, but the property is not available.");return}if(xn&&l+1>=r.length){var E=xn(a,d);p=!!E,p&&"get"in E&&!("originalValue"in E.get)?a=E.get:a=a[d]}else p=hs(a,d),a=a[d];p&&!c&&(sr[o]=a)}}return a},up={exports:{}};(function(t){var e=Au,n=Us,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||e.call(i,r),o=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(p){var d=s(e,i,arguments);if(o&&a){var b=o(d,"length");b.configurable&&a(d,"length",{value:1+c(0,p.length-(arguments.length-1))})}return d};var u=function(){return s(e,r,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(up);var lp=Us,dp=up.exports,s6=dp(lp("String.prototype.indexOf")),Ws=function(e,n){var r=lp(e,!!n);return typeof r=="function"&&s6(e,".prototype.")>-1?dp(r):r},Iu=typeof Map=="function"&&Map.prototype,Ua=Object.getOwnPropertyDescriptor&&Iu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bs=Iu&&Ua&&typeof Ua.get=="function"?Ua.get:null,o6=Iu&&Map.prototype.forEach,Mu=typeof Set=="function"&&Set.prototype,Wa=Object.getOwnPropertyDescriptor&&Mu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gs=Mu&&Wa&&typeof Wa.get=="function"?Wa.get:null,a6=Mu&&Set.prototype.forEach,c6=typeof WeakMap=="function"&&WeakMap.prototype,Vr=c6?WeakMap.prototype.has:null,u6=typeof WeakSet=="function"&&WeakSet.prototype,zr=u6?WeakSet.prototype.has:null,l6=typeof WeakRef=="function"&&WeakRef.prototype,Ql=l6?WeakRef.prototype.deref:null,d6=Boolean.prototype.valueOf,f6=Object.prototype.toString,h6=Function.prototype.toString,p6=String.prototype.match,xu=String.prototype.slice,sn=String.prototype.replace,b6=String.prototype.toUpperCase,Zl=String.prototype.toLowerCase,fp=RegExp.prototype.test,Kl=Array.prototype.concat,It=Array.prototype.join,g6=Array.prototype.slice,Yl=Math.floor,Hc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ha=Object.getOwnPropertySymbols,Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,br=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Qe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===br?"object":"symbol")?Symbol.toStringTag:null,hp=Object.prototype.propertyIsEnumerable,Jl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Xl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||fp.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Yl(-t):Yl(t);if(r!==t){var i=String(r),s=xu.call(e,i.length+1);return sn.call(i,n,"$&_")+"."+sn.call(sn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return sn.call(e,n,"$&_")}var zc=du,ed=zc.custom,td=bp(ed)?ed:null,y6=function t(e,n,r,i){var s=n||{};if(tn(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=tn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(tn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return yp(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Xl(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Xl(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=l&&l>0&&typeof e=="object")return qc(e)?"[Array]":"[Object]";var p=D6(s,r);if(typeof i>"u")i=[];else if(gp(i,e)>=0)return"[Circular]";function d(J,N,j){if(N&&(i=g6.call(i),i.push(N)),j){var G={depth:s.depth};return tn(s,"quoteStyle")&&(G.quoteStyle=s.quoteStyle),t(J,G,r+1,i)}return t(J,s,r+1,i)}if(typeof e=="function"&&!nd(e)){var b=A6(e),g=Li(e,d);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(g.length>0?" { "+It.call(g,", ")+" }":"")}if(bp(e)){var E=br?sn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Vc.call(e);return typeof e=="object"&&!br?Br(E):E}if(R6(e)){for(var k="<"+Zl.call(String(e.nodeName)),S=e.attributes||[],w=0;w<S.length;w++)k+=" "+S[w].name+"="+pp(m6(S[w].value),"double",s);return k+=">",e.childNodes&&e.childNodes.length&&(k+="..."),k+="</"+Zl.call(String(e.nodeName))+">",k}if(qc(e)){if(e.length===0)return"[]";var A=Li(e,d);return p&&!P6(A)?"["+Gc(A,p)+"]":"[ "+It.call(A,", ")+" ]"}if(_6(e)){var M=Li(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!hp.call(e,"cause")?"{ ["+String(e)+"] "+It.call(Kl.call("[cause]: "+d(e.cause),M),", ")+" }":M.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+It.call(M,", ")+" }"}if(typeof e=="object"&&o){if(td&&typeof e[td]=="function"&&zc)return zc(e,{depth:l-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(I6(e)){var $=[];return o6.call(e,function(J,N){$.push(d(N,e,!0)+" => "+d(J,e))}),rd("Map",bs.call(e),$,p)}if(T6(e)){var z=[];return a6.call(e,function(J){z.push(d(J,e))}),rd("Set",gs.call(e),z,p)}if(M6(e))return Va("WeakMap");if(O6(e))return Va("WeakSet");if(x6(e))return Va("WeakRef");if(S6(e))return Br(d(Number(e)));if(C6(e))return Br(d(Hc.call(e)));if(E6(e))return Br(d6.call(e));if(w6(e))return Br(d(String(e)));if(!v6(e)&&!nd(e)){var q=Li(e,d),H=Jl?Jl(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",ce=!H&&Qe&&Object(e)===e&&Qe in e?xu.call(gn(e),8,-1):U?"Object":"",Y=H||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Q=Y+(ce||U?"["+It.call(Kl.call([],ce||[],U||[]),": ")+"] ":"");return q.length===0?Q+"{}":p?Q+"{"+Gc(q,p)+"}":Q+"{ "+It.call(q,", ")+" }"}return String(e)};function pp(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function m6(t){return sn.call(String(t),/"/g,"&quot;")}function qc(t){return gn(t)==="[object Array]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function v6(t){return gn(t)==="[object Date]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function nd(t){return gn(t)==="[object RegExp]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function _6(t){return gn(t)==="[object Error]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function w6(t){return gn(t)==="[object String]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function S6(t){return gn(t)==="[object Number]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function E6(t){return gn(t)==="[object Boolean]"&&(!Qe||!(typeof t=="object"&&Qe in t))}function bp(t){if(br)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Vc)return!1;try{return Vc.call(t),!0}catch{}return!1}function C6(t){if(!t||typeof t!="object"||!Hc)return!1;try{return Hc.call(t),!0}catch{}return!1}var k6=Object.prototype.hasOwnProperty||function(t){return t in this};function tn(t,e){return k6.call(t,e)}function gn(t){return f6.call(t)}function A6(t){if(t.name)return t.name;var e=p6.call(h6.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function gp(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function I6(t){if(!bs||!t||typeof t!="object")return!1;try{bs.call(t);try{gs.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function M6(t){if(!Vr||!t||typeof t!="object")return!1;try{Vr.call(t,Vr);try{zr.call(t,zr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function x6(t){if(!Ql||!t||typeof t!="object")return!1;try{return Ql.call(t),!0}catch{}return!1}function T6(t){if(!gs||!t||typeof t!="object")return!1;try{gs.call(t);try{bs.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function O6(t){if(!zr||!t||typeof t!="object")return!1;try{zr.call(t,zr);try{Vr.call(t,Vr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function R6(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function yp(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return yp(xu.call(t,0,e.maxStringLength),e)+r}var i=sn.call(sn.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,N6);return pp(i,"single",e)}function N6(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+b6.call(e.toString(16))}function Br(t){return"Object("+t+")"}function Va(t){return t+" { ? }"}function rd(t,e,n,r){var i=r?Gc(n,r):It.call(n,", ");return t+" ("+e+") {"+i+"}"}function P6(t){for(var e=0;e<t.length;e++)if(gp(t[e],`
`)>=0)return!1;return!0}function D6(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=It.call(Array(t.indent+1)," ");else return null;return{base:n,prev:It.call(Array(e+1),n)}}function Gc(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+It.call(t,","+n)+`
`+e.prev}function Li(t,e){var n=qc(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=tn(t,i)?e(t[i],t):""}var s=typeof Ha=="function"?Ha(t):[],o;if(br){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!tn(t,c)||n&&String(Number(c))===c&&c<t.length||br&&o["$"+c]instanceof Symbol||(fp.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t)));if(typeof Ha=="function")for(var u=0;u<s.length;u++)hp.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}var Tu=Us,Rr=Ws,L6=y6,j6=Tu("%TypeError%"),ji=Tu("%WeakMap%",!0),Bi=Tu("%Map%",!0),B6=Rr("WeakMap.prototype.get",!0),F6=Rr("WeakMap.prototype.set",!0),$6=Rr("WeakMap.prototype.has",!0),U6=Rr("Map.prototype.get",!0),W6=Rr("Map.prototype.set",!0),H6=Rr("Map.prototype.has",!0),Ou=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},V6=function(t,e){var n=Ou(t,e);return n&&n.value},z6=function(t,e,n){var r=Ou(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},q6=function(t,e){return!!Ou(t,e)},G6=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new j6("Side channel does not contain "+L6(s))},get:function(s){if(ji&&s&&(typeof s=="object"||typeof s=="function")){if(e)return B6(e,s)}else if(Bi){if(n)return U6(n,s)}else if(r)return V6(r,s)},has:function(s){if(ji&&s&&(typeof s=="object"||typeof s=="function")){if(e)return $6(e,s)}else if(Bi){if(n)return H6(n,s)}else if(r)return q6(r,s);return!1},set:function(s,o){ji&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ji),F6(e,s,o)):Bi?(n||(n=new Bi),W6(n,s,o)):(r||(r={key:{},next:null}),z6(r,s,o))}};return i},Q6=String.prototype.replace,Z6=/%20/g,za={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ru={default:za.RFC3986,formatters:{RFC1738:function(t){return Q6.call(t,Z6,"+")},RFC3986:function(t){return String(t)}},RFC1738:za.RFC1738,RFC3986:za.RFC3986},K6=Ru,qa=Object.prototype.hasOwnProperty,En=Array.isArray,St=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Y6=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(En(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},mp=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},J6=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(En(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!qa.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return En(e)&&!En(n)&&(i=mp(e,r)),En(e)&&En(n)?(n.forEach(function(s,o){if(qa.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return qa.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},X6=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},e8=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},t8=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===K6.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+St[u];continue}if(u<2048){a=a+(St[192|u>>6]+St[128|u&63]);continue}if(u<55296||u>=57344){a=a+(St[224|u>>12]+St[128|u>>6&63]+St[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=St[240|u>>18]+St[128|u>>12&63]+St[128|u>>6&63]+St[128|u&63]}return a},n8=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&r.indexOf(l)===-1&&(n.push({obj:o,prop:u}),r.push(l))}return Y6(n),e},r8=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},i8=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},s8=function(e,n){return[].concat(e,n)},o8=function(e,n){if(En(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},vp={arrayToObject:mp,assign:X6,combine:s8,compact:n8,decode:e8,encode:t8,isBuffer:i8,isRegExp:r8,maybeMap:o8,merge:J6},_p=G6,Qc=vp,qr=Ru,a8=Object.prototype.hasOwnProperty,id={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},jt=Array.isArray,c8=String.prototype.split,u8=Array.prototype.push,wp=function(t,e){u8.apply(t,jt(e)?e:[e])},l8=Date.prototype.toISOString,sd=qr.default,$e={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Qc.encode,encodeValuesOnly:!1,format:sd,formatter:qr.formatters[sd],indices:!1,serializeDate:function(e){return l8.call(e)},skipNulls:!1,strictNullHandling:!1},d8=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ga={},f8=function t(e,n,r,i,s,o,a,c,u,l,p,d,b,g,E,k){for(var S=e,w=k,A=0,M=!1;(w=w.get(Ga))!==void 0&&!M;){var $=w.get(e);if(A+=1,typeof $<"u"){if($===A)throw new RangeError("Cyclic object value");M=!0}typeof w.get(Ga)>"u"&&(A=0)}if(typeof c=="function"?S=c(n,S):S instanceof Date?S=p(S):r==="comma"&&jt(S)&&(S=Qc.maybeMap(S,function(me){return me instanceof Date?p(me):me})),S===null){if(s)return a&&!g?a(n,$e.encoder,E,"key",d):n;S=""}if(d8(S)||Qc.isBuffer(S)){if(a){var z=g?n:a(n,$e.encoder,E,"key",d);if(r==="comma"&&g){for(var q=c8.call(String(S),","),H="",U=0;U<q.length;++U)H+=(U===0?"":",")+b(a(q[U],$e.encoder,E,"value",d));return[b(z)+(i&&jt(S)&&q.length===1?"[]":"")+"="+H]}return[b(z)+"="+b(a(S,$e.encoder,E,"value",d))]}return[b(n)+"="+b(String(S))]}var ce=[];if(typeof S>"u")return ce;var Y;if(r==="comma"&&jt(S))Y=[{value:S.length>0?S.join(",")||null:void 0}];else if(jt(c))Y=c;else{var Q=Object.keys(S);Y=u?Q.sort(u):Q}for(var J=i&&jt(S)&&S.length===1?n+"[]":n,N=0;N<Y.length;++N){var j=Y[N],G=typeof j=="object"&&typeof j.value<"u"?j.value:S[j];if(!(o&&G===null)){var oe=jt(S)?typeof r=="function"?r(J,j):J:J+(l?"."+j:"["+j+"]");k.set(e,A);var ye=_p();ye.set(Ga,k),wp(ce,t(G,oe,r,i,s,o,a,c,u,l,p,d,b,g,E,ye))}}return ce},h8=function(e){if(!e)return $e;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||$e.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=qr.default;if(typeof e.format<"u"){if(!a8.call(qr.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=qr.formatters[r],s=$e.filter;return(typeof e.filter=="function"||jt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:$e.addQueryPrefix,allowDots:typeof e.allowDots>"u"?$e.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$e.charsetSentinel,delimiter:typeof e.delimiter>"u"?$e.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:$e.encode,encoder:typeof e.encoder=="function"?e.encoder:$e.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:$e.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:$e.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:$e.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$e.strictNullHandling}},p8=function(t,e){var n=t,r=h8(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):jt(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a;e&&e.arrayFormat in id?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=id[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var l=_p(),p=0;p<i.length;++p){var d=i[p];r.skipNulls&&n[d]===null||wp(o,f8(n[d],d,c,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var b=o.join(r.delimiter),g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),b.length>0?g+b:""},gr=vp,Zc=Object.prototype.hasOwnProperty,b8=Array.isArray,Le={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:gr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g8=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Sp=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},y8="utf8=%26%2310003%3B",m8="utf8=%E2%9C%93",v8=function(e,n){var r={},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===m8?u="utf-8":o[c]===y8&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],p=l.indexOf("]="),d=p===-1?l.indexOf("="):p+1,b,g;d===-1?(b=n.decoder(l,Le.decoder,u,"key"),g=n.strictNullHandling?null:""):(b=n.decoder(l.slice(0,d),Le.decoder,u,"key"),g=gr.maybeMap(Sp(l.slice(d+1),n),function(E){return n.decoder(E,Le.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=g8(g)),l.indexOf("[]=")>-1&&(g=b8(g)?[g]:g),Zc.call(r,b)?r[b]=gr.combine(r[b],g):r[b]=g}return r},_8=function(t,e,n,r){for(var i=r?e:Sp(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},w8=function(e,n,r,i){if(!!e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=r.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!r.plainObjects&&Zc.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var p=0;r.depth>0&&(c=a.exec(s))!==null&&p<r.depth;){if(p+=1,!r.plainObjects&&Zc.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),_8(l,n,r,i)}},S8=function(e){if(!e)return Le;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Le.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Le.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Le.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Le.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Le.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Le.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Le.comma,decoder:typeof e.decoder=="function"?e.decoder:Le.decoder,delimiter:typeof e.delimiter=="string"||gr.isRegExp(e.delimiter)?e.delimiter:Le.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Le.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Le.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Le.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Le.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Le.strictNullHandling}},E8=function(t,e){var n=S8(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?v8(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],c=w8(a,r[a],n,typeof t=="string");i=gr.merge(i,c,n)}return n.allowSparse===!0?i:gr.compact(i)},C8=p8,k8=E8,A8=Ru,I8={formats:A8,parse:k8,stringify:C8},wi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return r=>r}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function n(r){return Math.floor(r)}t.IntNumber=n,t.RegExpString=e(),function(r){r.CoinbaseWallet="CoinbaseWallet",r.MetaMask="MetaMask",r.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(wi);var M8=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Z,"__esModule",{value:!0});Z.isInIFrame=Z.createQrUrl=Z.getFavicon=Z.range=Z.isBigNumber=Z.ensureParsedJSONObject=Z.ensureBN=Z.ensureRegExpString=Z.ensureIntNumber=Z.ensureBuffer=Z.ensureAddressString=Z.ensureEvenLengthHexString=Z.ensureHexString=Z.isHexString=Z.prepend0x=Z.strip0x=Z.has0xPrefix=Z.hexStringFromIntNumber=Z.intNumberFromHexString=Z.bigIntStringFromBN=Z.hexStringFromBuffer=Z.hexStringToUint8Array=Z.uint8ArrayToHex=Z.randomBytesHex=void 0;const rn=M8(Ms.exports),x8=I8,dt=wi,Ep=/^[0-9]*$/,Cp=/^[a-f0-9]*$/;function T8(t){return kp(crypto.getRandomValues(new Uint8Array(t)))}Z.randomBytesHex=T8;function kp(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Z.uint8ArrayToHex=kp;function O8(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Z.hexStringToUint8Array=O8;function R8(t,e=!1){const n=t.toString("hex");return(0,dt.HexString)(e?"0x"+n:n)}Z.hexStringFromBuffer=R8;function N8(t){return(0,dt.BigIntString)(t.toString(10))}Z.bigIntStringFromBN=N8;function P8(t){return(0,dt.IntNumber)(new rn.default(Ei(t,!1),16).toNumber())}Z.intNumberFromHexString=P8;function D8(t){return(0,dt.HexString)("0x"+new rn.default(t).toString(16))}Z.hexStringFromIntNumber=D8;function Nu(t){return t.startsWith("0x")||t.startsWith("0X")}Z.has0xPrefix=Nu;function Hs(t){return Nu(t)?t.slice(2):t}Z.strip0x=Hs;function Ap(t){return Nu(t)?"0x"+t.slice(2):"0x"+t}Z.prepend0x=Ap;function Si(t){if(typeof t!="string")return!1;const e=Hs(t).toLowerCase();return Cp.test(e)}Z.isHexString=Si;function Ip(t,e=!1){if(typeof t=="string"){const n=Hs(t).toLowerCase();if(Cp.test(n))return(0,dt.HexString)(e?"0x"+n:n)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}Z.ensureHexString=Ip;function Ei(t,e=!1){let n=Ip(t,!1);return n.length%2===1&&(n=(0,dt.HexString)("0"+n)),e?(0,dt.HexString)("0x"+n):n}Z.ensureEvenLengthHexString=Ei;function L8(t){if(typeof t=="string"){const e=Hs(t).toLowerCase();if(Si(e)&&e.length===40)return(0,dt.AddressString)(Ap(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}Z.ensureAddressString=L8;function j8(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Si(t)){const e=Ei(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}Z.ensureBuffer=j8;function Mp(t){if(typeof t=="number"&&Number.isInteger(t))return(0,dt.IntNumber)(t);if(typeof t=="string"){if(Ep.test(t))return(0,dt.IntNumber)(Number(t));if(Si(t))return(0,dt.IntNumber)(new rn.default(Ei(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}Z.ensureIntNumber=Mp;function B8(t){if(t instanceof RegExp)return(0,dt.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}Z.ensureRegExpString=B8;function F8(t){if(t!==null&&(rn.default.isBN(t)||xp(t)))return new rn.default(t.toString(10),10);if(typeof t=="number")return new rn.default(Mp(t));if(typeof t=="string"){if(Ep.test(t))return new rn.default(t,10);if(Si(t))return new rn.default(Ei(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}Z.ensureBN=F8;function $8(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}Z.ensureParsedJSONObject=$8;function xp(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Z.isBigNumber=xp;function U8(t,e){return Array.from({length:e-t},(n,r)=>t+r)}Z.range=U8;function W8(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}Z.getFavicon=W8;function H8(t,e,n,r,i,s){const o=r?"parent-id":"id",a=(0,x8.stringify)({[o]:t,secret:e,server:n,v:i,chainId:s});return`${n}/#/link?${a}`}Z.createQrUrl=H8;function V8(){try{return window.frameElement!==null}catch{return!1}}Z.isInIFrame=V8;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.Session=void 0;const z8=Or,od=$s,ad=sh.exports,cd=Z,Qa="session:id",ud="session:secret",ld="session:linked";class Pu{constructor(e,n,r,i){this._storage=e,this._id=n||(0,cd.randomBytesHex)(16),this._secret=r||(0,cd.randomBytesHex)(32),this._key=new ad.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(Qa),r=e.getItem(ld),i=e.getItem(ud);return n&&i?new Pu(e,n,i,r==="1"):null}static get persistedSessionIdChange$(){return(0,z8.fromEvent)(window,"storage").pipe((0,od.filter)(e=>e.key===Qa),(0,od.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new ad.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Qa,this._id),this._storage.setItem(ud,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ld,this._linked?"1":"0")}}Ir.Session=Pu;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.WalletSDKRelayAbstract=_t.APP_VERSION_KEY=_t.LOCAL_STORAGE_ADDRESSES_KEY=_t.WALLET_USER_NAME_KEY=void 0;const dd=pi;_t.WALLET_USER_NAME_KEY="walletUsername";_t.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";_t.APP_VERSION_KEY="AppVersion";class q8{async makeEthereumJSONRPCRequest(e,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(!r)throw dd.ethErrors.rpc.parse({});const i=r,{error:s}=i;if(s)throw(0,dd.serializeError)(s);return i})}}_t.WalletSDKRelayAbstract=q8;var ys={exports:{}},Tp=ci.exports.EventEmitter,Za,fd;function G8(){if(fd)return Za;fd=1;function t(d,b){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(d);b&&(E=E.filter(function(k){return Object.getOwnPropertyDescriptor(d,k).enumerable})),g.push.apply(g,E)}return g}function e(d){for(var b=1;b<arguments.length;b++){var g=arguments[b]!=null?arguments[b]:{};b%2?t(Object(g),!0).forEach(function(E){n(d,E,g[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(E){Object.defineProperty(d,E,Object.getOwnPropertyDescriptor(g,E))})}return d}function n(d,b,g){return b in d?Object.defineProperty(d,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[b]=g,d}function r(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}function i(d,b){for(var g=0;g<b.length;g++){var E=b[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(d,E.key,E)}}function s(d,b,g){return b&&i(d.prototype,b),g&&i(d,g),d}var o=ai,a=o.Buffer,c=du,u=c.inspect,l=u&&u.custom||"inspect";function p(d,b,g){a.prototype.copy.call(d,b,g)}return Za=function(){function d(){r(this,d),this.head=null,this.tail=null,this.length=0}return s(d,[{key:"push",value:function(g){var E={data:g,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(g){var E={data:g,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var E=this.head,k=""+E.data;E=E.next;)k+=g+E.data;return k}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var E=a.allocUnsafe(g>>>0),k=this.head,S=0;k;)p(k.data,E,S),S+=k.data.length,k=k.next;return E}},{key:"consume",value:function(g,E){var k;return g<this.head.data.length?(k=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?k=this.shift():k=E?this._getString(g):this._getBuffer(g),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var E=this.head,k=1,S=E.data;for(g-=S.length;E=E.next;){var w=E.data,A=g>w.length?w.length:g;if(A===w.length?S+=w:S+=w.slice(0,g),g-=A,g===0){A===w.length?(++k,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=w.slice(A));break}++k}return this.length-=k,S}},{key:"_getBuffer",value:function(g){var E=a.allocUnsafe(g),k=this.head,S=1;for(k.data.copy(E),g-=k.data.length;k=k.next;){var w=k.data,A=g>w.length?w.length:g;if(w.copy(E,E.length-g,0,A),g-=A,g===0){A===w.length?(++S,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=w.slice(A));break}++S}return this.length-=S,E}},{key:l,value:function(g,E){return u(this,e({},E,{depth:0,customInspect:!1}))}}]),d}(),Za}function Q8(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Kc,this,t)):process.nextTick(Kc,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?n._writableState?n._writableState.errorEmitted?process.nextTick(Ji,n):(n._writableState.errorEmitted=!0,process.nextTick(hd,n,s)):process.nextTick(hd,n,s):e?(process.nextTick(Ji,n),e(s)):process.nextTick(Ji,n)}),this)}function hd(t,e){Kc(t,e),Ji(t)}function Ji(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Z8(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Kc(t,e){t.emit("error",e)}function K8(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}var Op={destroy:Q8,undestroy:Z8,errorOrDestroy:K8},Fn={};function Y8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Rp={};function bt(t,e,n){n||(n=Error);function r(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Y8(o,s);function o(a,c,u){return s.call(this,r(a,c,u))||this}return o}(n);i.prototype.name=n.name,i.prototype.code=t,Rp[t]=i}function pd(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map(function(r){return String(r)}),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:n===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function J8(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}function X8(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}function eE(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}bt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);bt("ERR_INVALID_ARG_TYPE",function(t,e,n){var r;typeof e=="string"&&J8(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var i;if(X8(t," argument"))i="The ".concat(t," ").concat(r," ").concat(pd(e,"type"));else{var s=eE(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(r," ").concat(pd(e,"type"))}return i+=". Received type ".concat(typeof n),i},TypeError);bt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");bt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});bt("ERR_STREAM_PREMATURE_CLOSE","Premature close");bt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});bt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");bt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");bt("ERR_STREAM_WRITE_AFTER_END","write after end");bt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);bt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);bt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Fn.codes=Rp;var tE=Fn.codes.ERR_INVALID_OPT_VALUE;function nE(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function rE(t,e,n,r){var i=nE(e,r,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=r?n:"highWaterMark";throw new tE(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Np={getHighWaterMark:rE},Ka,bd;function Pp(){if(bd)return Ka;bd=1,Ka=H;function t(y){var m=this;this.next=null,this.entry=null,this.finish=function(){X(m,y)}}var e;H.WritableState=z;var n={deprecate:ey},r=Tp,i=ai.Buffer,s=B.Uint8Array||function(){};function o(y){return i.from(y)}function a(y){return i.isBuffer(y)||y instanceof s}var c=Op,u=Np,l=u.getHighWaterMark,p=Fn.codes,d=p.ERR_INVALID_ARG_TYPE,b=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,E=p.ERR_STREAM_CANNOT_PIPE,k=p.ERR_STREAM_DESTROYED,S=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,A=p.ERR_UNKNOWN_ENCODING,M=c.errorOrDestroy;ft.exports(H,r);function $(){}function z(y,m,C){e=e||yr(),y=y||{},typeof C!="boolean"&&(C=m instanceof e),this.objectMode=!!y.objectMode,C&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=l(this,y,"writableHighWaterMark",C),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=y.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){G(m,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var m=this.bufferedRequest,C=[];m;)C.push(m),m=m.next;return C},function(){try{Object.defineProperty(z.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(m){return q.call(this,m)?!0:this!==H?!1:m&&m._writableState instanceof z}})):q=function(m){return m instanceof this};function H(y){e=e||yr();var m=this instanceof e;if(!m&&!q.call(H,this))return new H(y);this._writableState=new z(y,this,m),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),r.call(this)}H.prototype.pipe=function(){M(this,new E)};function U(y,m){var C=new w;M(y,C),process.nextTick(m,C)}function ce(y,m,C,D){var V;return C===null?V=new S:typeof C!="string"&&!m.objectMode&&(V=new d("chunk",["string","Buffer"],C)),V?(M(y,V),process.nextTick(D,V),!1):!0}H.prototype.write=function(y,m,C){var D=this._writableState,V=!1,f=!D.objectMode&&a(y);return f&&!i.isBuffer(y)&&(y=o(y)),typeof m=="function"&&(C=m,m=null),f?m="buffer":m||(m=D.defaultEncoding),typeof C!="function"&&(C=$),D.ending?U(this,C):(f||ce(this,D,y,C))&&(D.pendingcb++,V=Q(this,D,f,y,m,C)),V},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&me(this,y))},H.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=m.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((m+"").toLowerCase())>-1))throw new A(m);return this._writableState.defaultEncoding=m,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Y(y,m,C){return!y.objectMode&&y.decodeStrings!==!1&&typeof m=="string"&&(m=i.from(m,C)),m}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Q(y,m,C,D,V,f){if(!C){var h=Y(m,D,V);D!==h&&(C=!0,V="buffer",D=h)}var T=m.objectMode?1:D.length;m.length+=T;var W=m.length<m.highWaterMark;if(W||(m.needDrain=!0),m.writing||m.corked){var he=m.lastBufferedRequest;m.lastBufferedRequest={chunk:D,encoding:V,isBuf:C,callback:f,next:null},he?he.next=m.lastBufferedRequest:m.bufferedRequest=m.lastBufferedRequest,m.bufferedRequestCount+=1}else J(y,m,!1,T,D,V,f);return W}function J(y,m,C,D,V,f,h){m.writelen=D,m.writecb=h,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new k("write")):C?y._writev(V,m.onwrite):y._write(V,f,m.onwrite),m.sync=!1}function N(y,m,C,D,V){--m.pendingcb,C?(process.nextTick(V,D),process.nextTick(I,y,m),y._writableState.errorEmitted=!0,M(y,D)):(V(D),y._writableState.errorEmitted=!0,M(y,D),I(y,m))}function j(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function G(y,m){var C=y._writableState,D=C.sync,V=C.writecb;if(typeof V!="function")throw new g;if(j(C),m)N(y,C,D,m,V);else{var f=Ve(C)||y.destroyed;!f&&!C.corked&&!C.bufferProcessing&&C.bufferedRequest&&me(y,C),D?process.nextTick(oe,y,C,f,V):oe(y,C,f,V)}}function oe(y,m,C,D){C||ye(y,m),m.pendingcb--,D(),I(y,m)}function ye(y,m){m.length===0&&m.needDrain&&(m.needDrain=!1,y.emit("drain"))}function me(y,m){m.bufferProcessing=!0;var C=m.bufferedRequest;if(y._writev&&C&&C.next){var D=m.bufferedRequestCount,V=new Array(D),f=m.corkedRequestsFree;f.entry=C;for(var h=0,T=!0;C;)V[h]=C,C.isBuf||(T=!1),C=C.next,h+=1;V.allBuffers=T,J(y,m,!0,m.length,V,"",f.finish),m.pendingcb++,m.lastBufferedRequest=null,f.next?(m.corkedRequestsFree=f.next,f.next=null):m.corkedRequestsFree=new t(m),m.bufferedRequestCount=0}else{for(;C;){var W=C.chunk,he=C.encoding,re=C.callback,fe=m.objectMode?1:W.length;if(J(y,m,!1,fe,W,he,re),C=C.next,m.bufferedRequestCount--,m.writing)break}C===null&&(m.lastBufferedRequest=null)}m.bufferedRequest=C,m.bufferProcessing=!1}H.prototype._write=function(y,m,C){C(new b("_write()"))},H.prototype._writev=null,H.prototype.end=function(y,m,C){var D=this._writableState;return typeof y=="function"?(C=y,y=null,m=null):typeof m=="function"&&(C=m,m=null),y!=null&&this.write(y,m),D.corked&&(D.corked=1,this.uncork()),D.ending||P(this,D,C),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ve(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function Xe(y,m){y._final(function(C){m.pendingcb--,C&&M(y,C),m.prefinished=!0,y.emit("prefinish"),I(y,m)})}function _(y,m){!m.prefinished&&!m.finalCalled&&(typeof y._final=="function"&&!m.destroyed?(m.pendingcb++,m.finalCalled=!0,process.nextTick(Xe,y,m)):(m.prefinished=!0,y.emit("prefinish")))}function I(y,m){var C=Ve(m);if(C&&(_(y,m),m.pendingcb===0&&(m.finished=!0,y.emit("finish"),m.autoDestroy))){var D=y._readableState;(!D||D.autoDestroy&&D.endEmitted)&&y.destroy()}return C}function P(y,m,C){m.ending=!0,I(y,m),C&&(m.finished?process.nextTick(C):y.once("finish",C)),m.ended=!0,y.writable=!1}function X(y,m,C){var D=y.entry;for(y.entry=null;D;){var V=D.callback;m.pendingcb--,V(C),D=D.next}m.corkedRequestsFree.next=y}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(m){!this._writableState||(this._writableState.destroyed=m)}}),H.prototype.destroy=c.destroy,H.prototype._undestroy=c.undestroy,H.prototype._destroy=function(y,m){m(y)},Ka}var Ya,gd;function yr(){if(gd)return Ya;gd=1;var t=Object.keys||function(u){var l=[];for(var p in u)l.push(p);return l};Ya=o;var e=Lp(),n=Pp();ft.exports(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),n.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),Ya}var yd=Fn.codes.ERR_STREAM_PREMATURE_CLOSE;function iE(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}function sE(){}function oE(t){return t.setHeader&&typeof t.abort=="function"}function Dp(t,e,n){if(typeof e=="function")return Dp(t,null,e);e||(e={}),n=iE(n||sE);var r=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,r||n.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){r=!1,c=!0,i||n.call(t)},l=function(g){n.call(t,g)},p=function(){var g;if(r&&!c)return(!t._readableState||!t._readableState.ended)&&(g=new yd),n.call(t,g);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new yd),n.call(t,g)},d=function(){t.req.on("finish",a)};return oE(t)?(t.on("complete",a),t.on("abort",p),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",p)}}var Du=Dp,Ja,md;function aE(){if(md)return Ja;md=1;var t;function e(S,w,A){return w in S?Object.defineProperty(S,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[w]=A,S}var n=Du,r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function l(S,w){return{value:S,done:w}}function p(S){var w=S[r];if(w!==null){var A=S[u].read();A!==null&&(S[a]=null,S[r]=null,S[i]=null,w(l(A,!1)))}}function d(S){process.nextTick(p,S)}function b(S,w){return function(A,M){S.then(function(){if(w[o]){A(l(void 0,!0));return}w[c](A,M)},M)}}var g=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var w=this,A=this[s];if(A!==null)return Promise.reject(A);if(this[o])return Promise.resolve(l(void 0,!0));if(this[u].destroyed)return new Promise(function(q,H){process.nextTick(function(){w[s]?H(w[s]):q(l(void 0,!0))})});var M=this[a],$;if(M)$=new Promise(b(M,this));else{var z=this[u].read();if(z!==null)return Promise.resolve(l(z,!1));$=new Promise(this[c])}return this[a]=$,$}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(A,M){w[u].destroy(null,function($){if($){M($);return}A(l(void 0,!0))})})}),t),g),k=function(w){var A,M=Object.create(E,(A={},e(A,u,{value:w,writable:!0}),e(A,r,{value:null,writable:!0}),e(A,i,{value:null,writable:!0}),e(A,s,{value:null,writable:!0}),e(A,o,{value:w._readableState.endEmitted,writable:!0}),e(A,c,{value:function(z,q){var H=M[u].read();H?(M[a]=null,M[r]=null,M[i]=null,z(l(H,!1))):(M[r]=z,M[i]=q)},writable:!0}),A));return M[a]=null,n(w,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=M[i];z!==null&&(M[a]=null,M[r]=null,M[i]=null,z($)),M[s]=$;return}var q=M[r];q!==null&&(M[a]=null,M[r]=null,M[i]=null,q(l(void 0,!0))),M[o]=!0}),w.on("readable",d.bind(null,M)),M};return Ja=k,Ja}var Xa,vd;function cE(){return vd||(vd=1,Xa=function(){throw new Error("Readable.from is not available in the browser")}),Xa}var ec,_d;function Lp(){if(_d)return ec;_d=1,ec=U;var t;U.ReadableState=H,ci.exports.EventEmitter;var e=function(h,T){return h.listeners(T).length},n=Tp,r=ai.Buffer,i=B.Uint8Array||function(){};function s(f){return r.from(f)}function o(f){return r.isBuffer(f)||f instanceof i}var a=du,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=G8(),l=Op,p=Np,d=p.getHighWaterMark,b=Fn.codes,g=b.ERR_INVALID_ARG_TYPE,E=b.ERR_STREAM_PUSH_AFTER_EOF,k=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,A,M;ft.exports(U,n);var $=l.errorOrDestroy,z=["error","close","destroy","pause","resume"];function q(f,h,T){if(typeof f.prependListener=="function")return f.prependListener(h,T);!f._events||!f._events[h]?f.on(h,T):Array.isArray(f._events[h])?f._events[h].unshift(T):f._events[h]=[T,f._events[h]]}function H(f,h,T){t=t||yr(),f=f||{},typeof T!="boolean"&&(T=h instanceof t),this.objectMode=!!f.objectMode,T&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=d(this,f,"readableHighWaterMark",T),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(w||(w=Rc.StringDecoder),this.decoder=new w(f.encoding),this.encoding=f.encoding)}function U(f){if(t=t||yr(),!(this instanceof U))return new U(f);var h=this instanceof t;this._readableState=new H(f,this,h),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),n.call(this)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(h){!this._readableState||(this._readableState.destroyed=h)}}),U.prototype.destroy=l.destroy,U.prototype._undestroy=l.undestroy,U.prototype._destroy=function(f,h){h(f)},U.prototype.push=function(f,h){var T=this._readableState,W;return T.objectMode?W=!0:typeof f=="string"&&(h=h||T.defaultEncoding,h!==T.encoding&&(f=r.from(f,h),h=""),W=!0),ce(this,f,h,!1,W)},U.prototype.unshift=function(f){return ce(this,f,null,!0,!1)};function ce(f,h,T,W,he){c("readableAddChunk",h);var re=f._readableState;if(h===null)re.reading=!1,G(f,re);else{var fe;if(he||(fe=Q(re,h)),fe)$(f,fe);else if(re.objectMode||h&&h.length>0)if(typeof h!="string"&&!re.objectMode&&Object.getPrototypeOf(h)!==r.prototype&&(h=s(h)),W)re.endEmitted?$(f,new S):Y(f,re,h,!0);else if(re.ended)$(f,new E);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!T?(h=re.decoder.write(h),re.objectMode||h.length!==0?Y(f,re,h,!1):me(f,re)):Y(f,re,h,!1)}else W||(re.reading=!1,me(f,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function Y(f,h,T,W){h.flowing&&h.length===0&&!h.sync?(h.awaitDrain=0,f.emit("data",T)):(h.length+=h.objectMode?1:T.length,W?h.buffer.unshift(T):h.buffer.push(T),h.needReadable&&oe(f)),me(f,h)}function Q(f,h){var T;return!o(h)&&typeof h!="string"&&h!==void 0&&!f.objectMode&&(T=new g("chunk",["string","Buffer","Uint8Array"],h)),T}U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(f){w||(w=Rc.StringDecoder);var h=new w(f);this._readableState.decoder=h,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,W="";T!==null;)W+=h.write(T.data),T=T.next;return this._readableState.buffer.clear(),W!==""&&this._readableState.buffer.push(W),this._readableState.length=W.length,this};var J=1073741824;function N(f){return f>=J?f=J:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function j(f,h){return f<=0||h.length===0&&h.ended?0:h.objectMode?1:f!==f?h.flowing&&h.length?h.buffer.head.data.length:h.length:(f>h.highWaterMark&&(h.highWaterMark=N(f)),f<=h.length?f:h.ended?h.length:(h.needReadable=!0,0))}U.prototype.read=function(f){c("read",f),f=parseInt(f,10);var h=this._readableState,T=f;if(f!==0&&(h.emittedReadable=!1),f===0&&h.needReadable&&((h.highWaterMark!==0?h.length>=h.highWaterMark:h.length>0)||h.ended))return c("read: emitReadable",h.length,h.ended),h.length===0&&h.ended?C(this):oe(this),null;if(f=j(f,h),f===0&&h.ended)return h.length===0&&C(this),null;var W=h.needReadable;c("need readable",W),(h.length===0||h.length-f<h.highWaterMark)&&(W=!0,c("length less than watermark",W)),h.ended||h.reading?(W=!1,c("reading or ended",W)):W&&(c("do read"),h.reading=!0,h.sync=!0,h.length===0&&(h.needReadable=!0),this._read(h.highWaterMark),h.sync=!1,h.reading||(f=j(T,h)));var he;return f>0?he=m(f,h):he=null,he===null?(h.needReadable=h.length<=h.highWaterMark,f=0):(h.length-=f,h.awaitDrain=0),h.length===0&&(h.ended||(h.needReadable=!0),T!==f&&h.ended&&C(this)),he!==null&&this.emit("data",he),he};function G(f,h){if(c("onEofChunk"),!h.ended){if(h.decoder){var T=h.decoder.end();T&&T.length&&(h.buffer.push(T),h.length+=h.objectMode?1:T.length)}h.ended=!0,h.sync?oe(f):(h.needReadable=!1,h.emittedReadable||(h.emittedReadable=!0,ye(f)))}}function oe(f){var h=f._readableState;c("emitReadable",h.needReadable,h.emittedReadable),h.needReadable=!1,h.emittedReadable||(c("emitReadable",h.flowing),h.emittedReadable=!0,process.nextTick(ye,f))}function ye(f){var h=f._readableState;c("emitReadable_",h.destroyed,h.length,h.ended),!h.destroyed&&(h.length||h.ended)&&(f.emit("readable"),h.emittedReadable=!1),h.needReadable=!h.flowing&&!h.ended&&h.length<=h.highWaterMark,y(f)}function me(f,h){h.readingMore||(h.readingMore=!0,process.nextTick(Ve,f,h))}function Ve(f,h){for(;!h.reading&&!h.ended&&(h.length<h.highWaterMark||h.flowing&&h.length===0);){var T=h.length;if(c("maybeReadMore read 0"),f.read(0),T===h.length)break}h.readingMore=!1}U.prototype._read=function(f){$(this,new k("_read()"))},U.prototype.pipe=function(f,h){var T=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=f;break;case 1:W.pipes=[W.pipes,f];break;default:W.pipes.push(f);break}W.pipesCount+=1,c("pipe count=%d opts=%j",W.pipesCount,h);var he=(!h||h.end!==!1)&&f!==process.stdout&&f!==process.stderr,re=he?gt:zt;W.endEmitted?process.nextTick(re):T.once("end",re),f.on("unpipe",fe);function fe(Nt,wt){c("onunpipe"),Nt===T&&wt&&wt.hasUnpiped===!1&&(wt.hasUnpiped=!0,Dr())}function gt(){c("onend"),f.end()}var x=Xe(T);f.on("drain",x);var mn=!1;function Dr(){c("cleanup"),f.removeListener("close",Hn),f.removeListener("finish",Vn),f.removeListener("drain",x),f.removeListener("error",Wn),f.removeListener("unpipe",fe),T.removeListener("end",gt),T.removeListener("end",zt),T.removeListener("data",Lr),mn=!0,W.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&x()}T.on("data",Lr);function Lr(Nt){c("ondata");var wt=f.write(Nt);c("dest.write",wt),wt===!1&&((W.pipesCount===1&&W.pipes===f||W.pipesCount>1&&V(W.pipes,f)!==-1)&&!mn&&(c("false write response, pause",W.awaitDrain),W.awaitDrain++),T.pause())}function Wn(Nt){c("onerror",Nt),zt(),f.removeListener("error",Wn),e(f,"error")===0&&$(f,Nt)}q(f,"error",Wn);function Hn(){f.removeListener("finish",Vn),zt()}f.once("close",Hn);function Vn(){c("onfinish"),f.removeListener("close",Hn),zt()}f.once("finish",Vn);function zt(){c("unpipe"),T.unpipe(f)}return f.emit("pipe",T),W.flowing||(c("pipe resume"),T.resume()),f};function Xe(f){return function(){var T=f._readableState;c("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(f,"data")&&(T.flowing=!0,y(f))}}U.prototype.unpipe=function(f){var h=this._readableState,T={hasUnpiped:!1};if(h.pipesCount===0)return this;if(h.pipesCount===1)return f&&f!==h.pipes?this:(f||(f=h.pipes),h.pipes=null,h.pipesCount=0,h.flowing=!1,f&&f.emit("unpipe",this,T),this);if(!f){var W=h.pipes,he=h.pipesCount;h.pipes=null,h.pipesCount=0,h.flowing=!1;for(var re=0;re<he;re++)W[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=V(h.pipes,f);return fe===-1?this:(h.pipes.splice(fe,1),h.pipesCount-=1,h.pipesCount===1&&(h.pipes=h.pipes[0]),f.emit("unpipe",this,T),this)},U.prototype.on=function(f,h){var T=n.prototype.on.call(this,f,h),W=this._readableState;return f==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):f==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,c("on readable",W.length,W.reading),W.length?oe(this):W.reading||process.nextTick(I,this)),T},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(f,h){var T=n.prototype.removeListener.call(this,f,h);return f==="readable"&&process.nextTick(_,this),T},U.prototype.removeAllListeners=function(f){var h=n.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&process.nextTick(_,this),h};function _(f){var h=f._readableState;h.readableListening=f.listenerCount("readable")>0,h.resumeScheduled&&!h.paused?h.flowing=!0:f.listenerCount("data")>0&&f.resume()}function I(f){c("readable nexttick read 0"),f.read(0)}U.prototype.resume=function(){var f=this._readableState;return f.flowing||(c("resume"),f.flowing=!f.readableListening,P(this,f)),f.paused=!1,this};function P(f,h){h.resumeScheduled||(h.resumeScheduled=!0,process.nextTick(X,f,h))}function X(f,h){c("resume",h.reading),h.reading||f.read(0),h.resumeScheduled=!1,f.emit("resume"),y(f),h.flowing&&!h.reading&&f.read(0)}U.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function y(f){var h=f._readableState;for(c("flow",h.flowing);h.flowing&&f.read()!==null;);}U.prototype.wrap=function(f){var h=this,T=this._readableState,W=!1;f.on("end",function(){if(c("wrapped end"),T.decoder&&!T.ended){var fe=T.decoder.end();fe&&fe.length&&h.push(fe)}h.push(null)}),f.on("data",function(fe){if(c("wrapped data"),T.decoder&&(fe=T.decoder.write(fe)),!(T.objectMode&&fe==null)&&!(!T.objectMode&&(!fe||!fe.length))){var gt=h.push(fe);gt||(W=!0,f.pause())}});for(var he in f)this[he]===void 0&&typeof f[he]=="function"&&(this[he]=function(gt){return function(){return f[gt].apply(f,arguments)}}(he));for(var re=0;re<z.length;re++)f.on(z[re],this.emit.bind(this,z[re]));return this._read=function(fe){c("wrapped _read",fe),W&&(W=!1,f.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=aE()),A(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}}),U._fromList=m,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function m(f,h){if(h.length===0)return null;var T;return h.objectMode?T=h.buffer.shift():!f||f>=h.length?(h.decoder?T=h.buffer.join(""):h.buffer.length===1?T=h.buffer.first():T=h.buffer.concat(h.length),h.buffer.clear()):T=h.buffer.consume(f,h.decoder),T}function C(f){var h=f._readableState;c("endReadable",h.endEmitted),h.endEmitted||(h.ended=!0,process.nextTick(D,h,f))}function D(f,h){if(c("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,h.readable=!1,h.emit("end"),f.autoDestroy)){var T=h._writableState;(!T||T.autoDestroy&&T.finished)&&h.destroy()}}typeof Symbol=="function"&&(U.from=function(f,h){return M===void 0&&(M=cE()),M(U,f,h)});function V(f,h){for(var T=0,W=f.length;T<W;T++)if(f[T]===h)return T;return-1}return ec}var jp=Ht,Vs=Fn.codes,uE=Vs.ERR_METHOD_NOT_IMPLEMENTED,lE=Vs.ERR_MULTIPLE_CALLBACK,dE=Vs.ERR_TRANSFORM_ALREADY_TRANSFORMING,fE=Vs.ERR_TRANSFORM_WITH_LENGTH_0,zs=yr();ft.exports(Ht,zs);function hE(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new lE);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ht(t){if(!(this instanceof Ht))return new Ht(t);zs.call(this,t),this._transformState={afterTransform:hE.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pE)}function pE(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){wd(t,e,n)}):wd(this,null,null)}Ht.prototype.push=function(t,e){return this._transformState.needTransform=!1,zs.prototype.push.call(this,t,e)};Ht.prototype._transform=function(t,e,n){n(new uE("_transform()"))};Ht.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ht.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ht.prototype._destroy=function(t,e){zs.prototype._destroy.call(this,t,function(n){e(n)})};function wd(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new fE;if(t._transformState.transforming)throw new dE;return t.push(null)}var bE=ri,Bp=jp;ft.exports(ri,Bp);function ri(t){if(!(this instanceof ri))return new ri(t);Bp.call(this,t)}ri.prototype._transform=function(t,e,n){n(null,t)};var tc;function gE(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Fp=Fn.codes,yE=Fp.ERR_MISSING_ARGS,mE=Fp.ERR_STREAM_DESTROYED;function Sd(t){if(t)throw t}function vE(t){return t.setHeader&&typeof t.abort=="function"}function _E(t,e,n,r){r=gE(r);var i=!1;t.on("close",function(){i=!0}),tc===void 0&&(tc=Du),tc(t,{readable:e,writable:n},function(o){if(o)return r(o);i=!0,r()});var s=!1;return function(o){if(!i&&!s){if(s=!0,vE(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(o||new mE("pipe"))}}}function Ed(t){t()}function wE(t,e){return t.pipe(e)}function SE(t){return!t.length||typeof t[t.length-1]!="function"?Sd:t.pop()}function EE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=SE(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new yE("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return _E(o,c,u,function(l){i||(i=l),l&&s.forEach(Ed),!c&&(s.forEach(Ed),r(i))})});return e.reduce(wE)}var CE=EE;(function(t,e){e=t.exports=Lp(),e.Stream=e,e.Readable=e,e.Writable=Pp(),e.Duplex=yr(),e.Transform=jp,e.PassThrough=bE,e.finished=Du,e.pipeline=CE})(ys,ys.exports);const{Transform:kE}=ys.exports;var AE=t=>class $p extends kE{constructor(n,r,i,s,o){super(o),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let s=null;try{this.update(n,r)}catch(o){s=o}i(s)}_flush(n){let r=null;try{this.push(this.digest())}catch(i){r=i}n(r)}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}digest(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let r=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(r=r.toString(n)),this._resetState(),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new $p(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const{Transform:IE}=ys.exports;var ME=t=>class Up extends IE{constructor(n,r,i,s){super(s),this._rate=n,this._capacity=r,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(n,r),this._finalized=!1}_transform(n,r,i){let s=null;try{this.update(n,r)}catch(o){s=o}i(s)}_flush(){}_read(n){this.push(this.squeeze(n))}update(n,r){if(!Buffer.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(n)||(n=Buffer.from(n,r)),this._state.absorb(n),this}squeeze(n,r){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(n);return r!==void 0&&(i=i.toString(r)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const n=new Up(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n}};const xE=AE,TE=ME;var OE=function(t){const e=xE(t),n=TE(t);return function(r,i){switch(typeof r=="string"?r.toLowerCase():r){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new n(1344,256,31,i);case"shake256":return new n(1088,512,31,i);default:throw new Error("Invald algorithm: "+r)}}},Wp={};const Cd=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Wp.p1600=function(t){for(let e=0;e<24;++e){const n=t[0]^t[10]^t[20]^t[30]^t[40],r=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49];let d=l^(i<<1|s>>>31),b=p^(s<<1|i>>>31);const g=t[0]^d,E=t[1]^b,k=t[10]^d,S=t[11]^b,w=t[20]^d,A=t[21]^b,M=t[30]^d,$=t[31]^b,z=t[40]^d,q=t[41]^b;d=n^(o<<1|a>>>31),b=r^(a<<1|o>>>31);const H=t[2]^d,U=t[3]^b,ce=t[12]^d,Y=t[13]^b,Q=t[22]^d,J=t[23]^b,N=t[32]^d,j=t[33]^b,G=t[42]^d,oe=t[43]^b;d=i^(c<<1|u>>>31),b=s^(u<<1|c>>>31);const ye=t[4]^d,me=t[5]^b,Ve=t[14]^d,Xe=t[15]^b,_=t[24]^d,I=t[25]^b,P=t[34]^d,X=t[35]^b,y=t[44]^d,m=t[45]^b;d=o^(l<<1|p>>>31),b=a^(p<<1|l>>>31);const C=t[6]^d,D=t[7]^b,V=t[16]^d,f=t[17]^b,h=t[26]^d,T=t[27]^b,W=t[36]^d,he=t[37]^b,re=t[46]^d,fe=t[47]^b;d=c^(n<<1|r>>>31),b=u^(r<<1|n>>>31);const gt=t[8]^d,x=t[9]^b,mn=t[18]^d,Dr=t[19]^b,Lr=t[28]^d,Wn=t[29]^b,Hn=t[38]^d,Vn=t[39]^b,zt=t[48]^d,Nt=t[49]^b,wt=g,Uo=E,Wo=S<<4|k>>>28,Ho=k<<4|S>>>28,Vo=w<<3|A>>>29,zo=A<<3|w>>>29,qo=$<<9|M>>>23,Go=M<<9|$>>>23,Qo=z<<18|q>>>14,Zo=q<<18|z>>>14,Ko=H<<1|U>>>31,Yo=U<<1|H>>>31,Jo=Y<<12|ce>>>20,Xo=ce<<12|Y>>>20,ea=Q<<10|J>>>22,ta=J<<10|Q>>>22,na=j<<13|N>>>19,ra=N<<13|j>>>19,ia=G<<2|oe>>>30,sa=oe<<2|G>>>30,oa=me<<30|ye>>>2,aa=ye<<30|me>>>2,ca=Ve<<6|Xe>>>26,ua=Xe<<6|Ve>>>26,la=I<<11|_>>>21,da=_<<11|I>>>21,fa=P<<15|X>>>17,ha=X<<15|P>>>17,pa=m<<29|y>>>3,ba=y<<29|m>>>3,ga=C<<28|D>>>4,ya=D<<28|C>>>4,ma=f<<23|V>>>9,va=V<<23|f>>>9,_a=h<<25|T>>>7,wa=T<<25|h>>>7,Sa=W<<21|he>>>11,Ea=he<<21|W>>>11,Ca=fe<<24|re>>>8,ka=re<<24|fe>>>8,Aa=gt<<27|x>>>5,Ia=x<<27|gt>>>5,Ma=mn<<20|Dr>>>12,xa=Dr<<20|mn>>>12,Ta=Wn<<7|Lr>>>25,Oa=Lr<<7|Wn>>>25,Ra=Hn<<8|Vn>>>24,Na=Vn<<8|Hn>>>24,Pa=zt<<14|Nt>>>18,Da=Nt<<14|zt>>>18;t[0]=wt^~Jo&la,t[1]=Uo^~Xo&da,t[10]=ga^~Ma&Vo,t[11]=ya^~xa&zo,t[20]=Ko^~ca&_a,t[21]=Yo^~ua&wa,t[30]=Aa^~Wo&ea,t[31]=Ia^~Ho&ta,t[40]=oa^~ma&Ta,t[41]=aa^~va&Oa,t[2]=Jo^~la&Sa,t[3]=Xo^~da&Ea,t[12]=Ma^~Vo&na,t[13]=xa^~zo&ra,t[22]=ca^~_a&Ra,t[23]=ua^~wa&Na,t[32]=Wo^~ea&fa,t[33]=Ho^~ta&ha,t[42]=ma^~Ta&qo,t[43]=va^~Oa&Go,t[4]=la^~Sa&Pa,t[5]=da^~Ea&Da,t[14]=Vo^~na&pa,t[15]=zo^~ra&ba,t[24]=_a^~Ra&Qo,t[25]=wa^~Na&Zo,t[34]=ea^~fa&Ca,t[35]=ta^~ha&ka,t[44]=Ta^~qo&ia,t[45]=Oa^~Go&sa,t[6]=Sa^~Pa&wt,t[7]=Ea^~Da&Uo,t[16]=na^~pa&ga,t[17]=ra^~ba&ya,t[26]=Ra^~Qo&Ko,t[27]=Na^~Zo&Yo,t[36]=fa^~Ca&Aa,t[37]=ha^~ka&Ia,t[46]=qo^~ia&oa,t[47]=Go^~sa&aa,t[8]=Pa^~wt&Jo,t[9]=Da^~Uo&Xo,t[18]=pa^~ga&Ma,t[19]=ba^~ya&xa,t[28]=Qo^~Ko&ca,t[29]=Zo^~Yo&ua,t[38]=Ca^~Aa&Wo,t[39]=ka^~Ia&Ho,t[48]=ia^~oa&ma,t[49]=sa^~aa&va,t[0]^=Cd[e*2],t[1]^=Cd[e*2+1]}};const ms=Wp;function Nr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Nr.prototype.initialize=function(t,e){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Nr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(ms.p1600(this.state),this.count=0)};Nr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&ms.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),ms.p1600(this.state),this.count=0,this.squeezing=!0};Nr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let n=0;n<t;++n)e[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(ms.p1600(this.state),this.count=0);return e};Nr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var RE=Nr,NE=OE(RE);const PE=NE,DE=Ms.exports;function Hp(t){return Buffer.allocUnsafe(t).fill(0)}function Vp(t,e,n){const r=Hp(e);return t=qs(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function LE(t,e){return Vp(t,e,!0)}function qs(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")zp(t)?t=Buffer.from(FE(qp(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(DE.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function jE(t){return t=qs(t),"0x"+t.toString("hex")}function BE(t,e){return t=qs(t),e||(e=256),PE("keccak"+e).update(t).digest()}function FE(t){return t.length%2?"0"+t:t}function zp(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function qp(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Gp={zeros:Hp,setLength:Vp,setLengthRight:LE,isHexString:zp,stripHexPrefix:qp,toBuffer:qs,bufferToHex:jE,keccak:BE};const Pn=Gp,Mn=Ms.exports;function Qp(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function or(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function kd(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Zp(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Cn(t){var e=typeof t;if(e==="string")return Pn.isHexString(t)?new Mn(Pn.stripHexPrefix(t),16):new Mn(t,10);if(e==="number")return new Mn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function At(t,e){var n,r,i,s;if(t==="address")return At("uint160",Cn(e));if(t==="bool")return At("uint8",e?1:0);if(t==="string")return At("bytes",new Buffer(e,"utf8"));if(UE(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=Zp(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(At(t,e[s]));if(n==="dynamic"){var o=At("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([At("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Pn.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=or(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Pn.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=or(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=Cn(e),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(n=or(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=Cn(e),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(n=kd(t),r=Cn(e),r<0)throw new Error("Supplied ufixed is negative");return At("uint256",r.mul(new Mn(2).pow(new Mn(n[1]))))}else if(t.startsWith("fixed"))return n=kd(t),At("int256",Cn(e).mul(new Mn(2).pow(new Mn(n[1]))))}throw new Error("Unsupported or invalid type: "+t)}function $E(t){return t==="string"||t==="bytes"||Zp(t)==="dynamic"}function UE(t){return t.lastIndexOf("]")===t.length-1}function WE(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=Qp(t[s]),a=e[s],c=At(o,a);$E(o)?(n.push(At("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function Kp(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=Qp(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Pn.setLength(a,20));else if(o.startsWith("bytes")){if(n=or(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Pn.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=or(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=Cn(a),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());i.push(r.toArrayLike(Buffer,"be",n/8))}else if(o.startsWith("int")){if(n=or(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=Cn(a),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());i.push(r.toTwos(n).toArrayLike(Buffer,"be",n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function HE(t,e){return Pn.keccak(Kp(t,e))}var VE={rawEncode:WE,solidityPack:Kp,soliditySHA3:HE};const mt=Gp,Gr=VE,Yp={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},nc={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,c,u)=>{if(n[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":mt.keccak(this.encodeData(c,u,n,r))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",mt.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",mt.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),p=u.map(d=>o(a,l,d));return["bytes32",mt.keccak(Gr.rawEncode(p.map(([d])=>d),p.map(([,d])=>d)))]}return[c,u]};for(const a of n[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=mt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=mt.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=mt.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Gr.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return mt.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return mt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in Yp.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),mt.keccak(Buffer.concat(r))}};var zE={TYPED_MESSAGE_SCHEMA:Yp,TypedDataUtils:nc,hashForSignTypedDataLegacy:function(t){return qE(t.data)},hashForSignTypedData_v3:function(t){return nc.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return nc.hash(t.data)}};function qE(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?mt.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Gr.soliditySHA3(["bytes32","bytes32"],[Gr.soliditySHA3(new Array(t.length).fill("string"),i),Gr.soliditySHA3(r,n)])}var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.filterFromParam=mr.FilterPolyfill=void 0;const Yn=wi,Ke=Z,GE=5*60*1e3,kn={jsonrpc:"2.0",id:0};class QE{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Yn.IntNumber)(1),this.provider=e}async newFilter(e){const n=Jp(e),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,n.fromBlock);return console.log(`Installing new log filter(${r}):`,n,"initial cursor position:",i),this.logFilters.set(r,n),this.setFilterTimeout(r),(0,Ke.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,n),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ke.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,n),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ke.hexStringFromIntNumber)(e)}uninstallFilter(e){const n=(0,Ke.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${n})`),this.deleteFilter(n),!0}getFilterChanges(e){const n=(0,Ke.intNumberFromHexString)(e);return this.timeouts.has(n)&&this.setFilterTimeout(n),this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(Fi())}async getFilterLogs(e){const n=(0,Ke.intNumberFromHexString)(e),r=this.logFilters.get(n);return r?this.sendAsyncPromise(Object.assign(Object.assign({},kn),{method:"eth_getLogs",params:[Ad(r)]})):Fi()}makeFilterId(){return(0,Yn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((n,r)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return r(i);if(Array.isArray(s)||s==null)return r(new Error(`unexpected response received: ${JSON.stringify(s)}`));n(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const n=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!n)return Fi();const i=await this.getCurrentBlockHeight(),s=n.toBlock==="latest"?i:n.toBlock;if(r>i||r>n.toBlock)return $i();console.log(`Fetching logs from ${r} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},kn),{method:"eth_getLogs",params:[Ad(Object.assign(Object.assign({},n),{fromBlock:r,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Ke.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>r){const u=(0,Yn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${r} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const n=this.cursors.get(e);if(!n)return Fi();const r=await this.getCurrentBlockHeight();if(n>r)return $i();console.log(`Fetching blocks from ${n} to ${r} for filter (${e})`);const i=(await Promise.all((0,Ke.range)(n,r+1).map(o=>this.getBlockHashByNumber((0,Yn.IntNumber)(o))))).filter(o=>!!o),s=(0,Yn.IntNumber)(n+i.length);return console.log(`Moving cursor position for filter (${e}) from ${n} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},kn),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve($i())}async setInitialCursorPosition(e,n){const r=await this.getCurrentBlockHeight(),i=typeof n=="number"&&n>r?n:r;return this.cursors.set(e,i),i}setFilterTimeout(e){const n=this.timeouts.get(e);n&&window.clearTimeout(n);const r=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},GE);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},kn),{method:"eth_blockNumber",params:[]}));return(0,Ke.intNumberFromHexString)((0,Ke.ensureHexString)(e))}async getBlockHashByNumber(e){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},kn),{method:"eth_getBlockByNumber",params:[(0,Ke.hexStringFromIntNumber)(e),!1]}));return n.result&&typeof n.result.hash=="string"?(0,Ke.ensureHexString)(n.result.hash):null}}mr.FilterPolyfill=QE;function Jp(t){return{fromBlock:Id(t.fromBlock),toBlock:Id(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}mr.filterFromParam=Jp;function Ad(t){const e={fromBlock:Md(t.fromBlock),toBlock:Md(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Id(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Yn.IntNumber)(0);if((0,Ke.isHexString)(t))return(0,Ke.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Md(t){return t==="latest"?t:(0,Ke.hexStringFromIntNumber)(t)}function Fi(){return Object.assign(Object.assign({},kn),{error:{code:-32e3,message:"filter not found"}})}function $i(){return Object.assign(Object.assign({},kn),{result:[]})}var Xp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Xp);var Gs={};const xd=(t,e)=>function(){const n=e.promiseModule,r=new Array(arguments.length);for(let i=0;i<arguments.length;i++)r[i]=arguments[i];return new n((i,s)=>{e.errorFirst?r.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):r.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,r)})};var ZE=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let r;typeof t=="function"?r=function(){return e.excludeMain?t.apply(this,arguments):xd(t,e).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];r[i]=typeof s=="function"&&n(i)?xd(s,e):s}return r},KE=JE,YE=Object.prototype.hasOwnProperty;function JE(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)YE.call(n,r)&&(t[r]=n[r])}return t}var XE=eC;function eC(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const tC=KE,nC=XE();var rC=te;function te(t){const e=this;e.currentProvider=t}te.prototype.getBalance=Ci(2,"eth_getBalance");te.prototype.getCode=Ci(2,"eth_getCode");te.prototype.getTransactionCount=Ci(2,"eth_getTransactionCount");te.prototype.getStorageAt=Ci(3,"eth_getStorageAt");te.prototype.call=Ci(2,"eth_call");te.prototype.protocolVersion=ae("eth_protocolVersion");te.prototype.syncing=ae("eth_syncing");te.prototype.coinbase=ae("eth_coinbase");te.prototype.mining=ae("eth_mining");te.prototype.hashrate=ae("eth_hashrate");te.prototype.gasPrice=ae("eth_gasPrice");te.prototype.accounts=ae("eth_accounts");te.prototype.blockNumber=ae("eth_blockNumber");te.prototype.getBlockTransactionCountByHash=ae("eth_getBlockTransactionCountByHash");te.prototype.getBlockTransactionCountByNumber=ae("eth_getBlockTransactionCountByNumber");te.prototype.getUncleCountByBlockHash=ae("eth_getUncleCountByBlockHash");te.prototype.getUncleCountByBlockNumber=ae("eth_getUncleCountByBlockNumber");te.prototype.sign=ae("eth_sign");te.prototype.sendTransaction=ae("eth_sendTransaction");te.prototype.sendRawTransaction=ae("eth_sendRawTransaction");te.prototype.estimateGas=ae("eth_estimateGas");te.prototype.getBlockByHash=ae("eth_getBlockByHash");te.prototype.getBlockByNumber=ae("eth_getBlockByNumber");te.prototype.getTransactionByHash=ae("eth_getTransactionByHash");te.prototype.getTransactionByBlockHashAndIndex=ae("eth_getTransactionByBlockHashAndIndex");te.prototype.getTransactionByBlockNumberAndIndex=ae("eth_getTransactionByBlockNumberAndIndex");te.prototype.getTransactionReceipt=ae("eth_getTransactionReceipt");te.prototype.getUncleByBlockHashAndIndex=ae("eth_getUncleByBlockHashAndIndex");te.prototype.getUncleByBlockNumberAndIndex=ae("eth_getUncleByBlockNumberAndIndex");te.prototype.getCompilers=ae("eth_getCompilers");te.prototype.compileLLL=ae("eth_compileLLL");te.prototype.compileSolidity=ae("eth_compileSolidity");te.prototype.compileSerpent=ae("eth_compileSerpent");te.prototype.newFilter=ae("eth_newFilter");te.prototype.newBlockFilter=ae("eth_newBlockFilter");te.prototype.newPendingTransactionFilter=ae("eth_newPendingTransactionFilter");te.prototype.uninstallFilter=ae("eth_uninstallFilter");te.prototype.getFilterChanges=ae("eth_getFilterChanges");te.prototype.getFilterLogs=ae("eth_getFilterLogs");te.prototype.getLogs=ae("eth_getLogs");te.prototype.getWork=ae("eth_getWork");te.prototype.submitWork=ae("eth_submitWork");te.prototype.submitHashrate=ae("eth_submitHashrate");te.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(iC(t),function(r,i){if(!r&&i.error&&(r=new Error("EthQuery - RPC Error - "+i.error.message)),r)return e(r);e(null,i.result)})};function ae(t){return function(){const e=this;var n=[].slice.call(arguments),r=n.pop();e.sendAsync({method:t,params:n},r)}}function Ci(t,e){return function(){const n=this;var r=[].slice.call(arguments),i=r.pop();r.length<t&&r.push("latest"),n.sendAsync({method:e,params:r},i)}}function iC(t){return tC({id:nC(),jsonrpc:"2.0",params:[]},t)}var e0={},t0={},sC=ap,Qs=function(){return sC()&&!!Symbol.toStringTag},oC=Qs(),aC=Ws,Yc=aC("Object.prototype.toString"),Zs=function(e){return oC&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Yc(e)==="[object Arguments]"},n0=function(e){return Zs(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Yc(e)!=="[object Array]"&&Yc(e.callee)==="[object Function]"},cC=function(){return Zs(arguments)}();Zs.isLegacyArguments=n0;var uC=cC?Zs:n0,lC=Object.prototype.toString,dC=Function.prototype.toString,fC=/^\s*(?:function)?\*/,r0=Qs(),rc=Object.getPrototypeOf,hC=function(){if(!r0)return!1;try{return Function("return function*() {}")()}catch{}},ic,pC=function(e){if(typeof e!="function")return!1;if(fC.test(dC.call(e)))return!0;if(!r0){var n=lC.call(e);return n==="[object GeneratorFunction]"}if(!rc)return!1;if(typeof ic>"u"){var r=hC();ic=r?rc(r):!1}return rc(e)===ic},i0=Function.prototype.toString,Xn=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Jc,Xi;if(typeof Xn=="function"&&typeof Object.defineProperty=="function")try{Jc=Object.defineProperty({},"length",{get:function(){throw Xi}}),Xi={},Xn(function(){throw 42},null,Jc)}catch(t){t!==Xi&&(Xn=null)}else Xn=null;var bC=/^\s*class\b/,Xc=function(e){try{var n=i0.call(e);return bC.test(n)}catch{return!1}},sc=function(e){try{return Xc(e)?!1:(i0.call(e),!0)}catch{return!1}},es=Object.prototype.toString,gC="[object Object]",yC="[object Function]",mC="[object GeneratorFunction]",vC="[object HTMLAllCollection]",_C="[object HTML document.all class]",wC="[object HTMLCollection]",SC=typeof Symbol=="function"&&!!Symbol.toStringTag,EC=!(0 in[,]),eu=function(){return!1};if(typeof document=="object"){var CC=document.all;es.call(CC)===es.call(document.all)&&(eu=function(e){if((EC||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=es.call(e);return(n===vC||n===_C||n===wC||n===gC)&&e("")==null}catch{}return!1})}var kC=Xn?function(e){if(eu(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Xn(e,null,Jc)}catch(n){if(n!==Xi)return!1}return!Xc(e)&&sc(e)}:function(e){if(eu(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(SC)return sc(e);if(Xc(e))return!1;var n=es.call(e);return n!==yC&&n!==mC&&!/^\[object HTML/.test(n)?!1:sc(e)},AC=kC,IC=Object.prototype.toString,s0=Object.prototype.hasOwnProperty,MC=function(e,n,r){for(var i=0,s=e.length;i<s;i++)s0.call(e,i)&&(r==null?n(e[i],i,e):n.call(r,e[i],i,e))},xC=function(e,n,r){for(var i=0,s=e.length;i<s;i++)r==null?n(e.charAt(i),i,e):n.call(r,e.charAt(i),i,e)},TC=function(e,n,r){for(var i in e)s0.call(e,i)&&(r==null?n(e[i],i,e):n.call(r,e[i],i,e))},OC=function(e,n,r){if(!AC(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),IC.call(e)==="[object Array]"?MC(e,n,i):typeof e=="string"?xC(e,n,i):TC(e,n,i)},o0=OC,oc=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],RC=typeof globalThis>"u"?B:globalThis,a0=function(){for(var e=[],n=0;n<oc.length;n++)typeof RC[oc[n]]=="function"&&(e[e.length]=oc[n]);return e},NC=Us,ts=NC("%Object.getOwnPropertyDescriptor%",!0);if(ts)try{ts([],"length")}catch{ts=null}var c0=ts,u0=o0,PC=a0,Lu=Ws,DC=Lu("Object.prototype.toString"),l0=Qs(),ns=c0,LC=typeof globalThis>"u"?B:globalThis,d0=PC(),jC=Lu("Array.prototype.indexOf",!0)||function(e,n){for(var r=0;r<e.length;r+=1)if(e[r]===n)return r;return-1},BC=Lu("String.prototype.slice"),f0={},ac=Object.getPrototypeOf;l0&&ns&&ac&&u0(d0,function(t){var e=new LC[t];if(Symbol.toStringTag in e){var n=ac(e),r=ns(n,Symbol.toStringTag);if(!r){var i=ac(n);r=ns(i,Symbol.toStringTag)}f0[t]=r.get}});var FC=function(e){var n=!1;return u0(f0,function(r,i){if(!n)try{n=r.call(e)===i}catch{}}),n},h0=function(e){if(!e||typeof e!="object")return!1;if(!l0||!(Symbol.toStringTag in e)){var n=BC(DC(e),8,-1);return jC(d0,n)>-1}return ns?FC(e):!1},p0=o0,$C=a0,b0=Ws,cc=c0,UC=b0("Object.prototype.toString"),g0=Qs(),Td=typeof globalThis>"u"?B:globalThis,WC=$C(),HC=b0("String.prototype.slice"),y0={},uc=Object.getPrototypeOf;g0&&cc&&uc&&p0(WC,function(t){if(typeof Td[t]=="function"){var e=new Td[t];if(Symbol.toStringTag in e){var n=uc(e),r=cc(n,Symbol.toStringTag);if(!r){var i=uc(n);r=cc(i,Symbol.toStringTag)}y0[t]=r.get}}});var VC=function(e){var n=!1;return p0(y0,function(r,i){if(!n)try{var s=r.call(e);s===i&&(n=s)}catch{}}),n},zC=h0,qC=function(e){return zC(e)?!g0||!(Symbol.toStringTag in e)?HC(UC(e),8,-1):VC(e):!1};(function(t){var e=uC,n=pC,r=qC,i=h0;function s(x){return x.call.bind(x)}var o=typeof BigInt<"u",a=typeof Symbol<"u",c=s(Object.prototype.toString),u=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(o)var d=s(BigInt.prototype.valueOf);if(a)var b=s(Symbol.prototype.valueOf);function g(x,mn){if(typeof x!="object")return!1;try{return mn(x),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=i;function E(x){return typeof Promise<"u"&&x instanceof Promise||x!==null&&typeof x=="object"&&typeof x.then=="function"&&typeof x.catch=="function"}t.isPromise=E;function k(x){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(x):i(x)||I(x)}t.isArrayBufferView=k;function S(x){return r(x)==="Uint8Array"}t.isUint8Array=S;function w(x){return r(x)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function A(x){return r(x)==="Uint16Array"}t.isUint16Array=A;function M(x){return r(x)==="Uint32Array"}t.isUint32Array=M;function $(x){return r(x)==="Int8Array"}t.isInt8Array=$;function z(x){return r(x)==="Int16Array"}t.isInt16Array=z;function q(x){return r(x)==="Int32Array"}t.isInt32Array=q;function H(x){return r(x)==="Float32Array"}t.isFloat32Array=H;function U(x){return r(x)==="Float64Array"}t.isFloat64Array=U;function ce(x){return r(x)==="BigInt64Array"}t.isBigInt64Array=ce;function Y(x){return r(x)==="BigUint64Array"}t.isBigUint64Array=Y;function Q(x){return c(x)==="[object Map]"}Q.working=typeof Map<"u"&&Q(new Map);function J(x){return typeof Map>"u"?!1:Q.working?Q(x):x instanceof Map}t.isMap=J;function N(x){return c(x)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function j(x){return typeof Set>"u"?!1:N.working?N(x):x instanceof Set}t.isSet=j;function G(x){return c(x)==="[object WeakMap]"}G.working=typeof WeakMap<"u"&&G(new WeakMap);function oe(x){return typeof WeakMap>"u"?!1:G.working?G(x):x instanceof WeakMap}t.isWeakMap=oe;function ye(x){return c(x)==="[object WeakSet]"}ye.working=typeof WeakSet<"u"&&ye(new WeakSet);function me(x){return ye(x)}t.isWeakSet=me;function Ve(x){return c(x)==="[object ArrayBuffer]"}Ve.working=typeof ArrayBuffer<"u"&&Ve(new ArrayBuffer);function Xe(x){return typeof ArrayBuffer>"u"?!1:Ve.working?Ve(x):x instanceof ArrayBuffer}t.isArrayBuffer=Xe;function _(x){return c(x)==="[object DataView]"}_.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_(new DataView(new ArrayBuffer(1),0,1));function I(x){return typeof DataView>"u"?!1:_.working?_(x):x instanceof DataView}t.isDataView=I;var P=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function X(x){return c(x)==="[object SharedArrayBuffer]"}function y(x){return typeof P>"u"?!1:(typeof X.working>"u"&&(X.working=X(new P)),X.working?X(x):x instanceof P)}t.isSharedArrayBuffer=y;function m(x){return c(x)==="[object AsyncFunction]"}t.isAsyncFunction=m;function C(x){return c(x)==="[object Map Iterator]"}t.isMapIterator=C;function D(x){return c(x)==="[object Set Iterator]"}t.isSetIterator=D;function V(x){return c(x)==="[object Generator]"}t.isGeneratorObject=V;function f(x){return c(x)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=f;function h(x){return g(x,u)}t.isNumberObject=h;function T(x){return g(x,l)}t.isStringObject=T;function W(x){return g(x,p)}t.isBooleanObject=W;function he(x){return o&&g(x,d)}t.isBigIntObject=he;function re(x){return a&&g(x,b)}t.isSymbolObject=re;function fe(x){return h(x)||T(x)||W(x)||he(x)||re(x)}t.isBoxedPrimitive=fe;function gt(x){return typeof Uint8Array<"u"&&(Xe(x)||y(x))}t.isAnyArrayBuffer=gt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(x){Object.defineProperty(t,x,{enumerable:!1,value:function(){throw new Error(x+" is not supported in userland")}})})})(t0);var GC=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(I){for(var P=Object.keys(I),X={},y=0;y<P.length;y++)X[P[y]]=Object.getOwnPropertyDescriptor(I,P[y]);return X},n=/%[sdj%]/g;t.format=function(_){if(!$(_)){for(var I=[],P=0;P<arguments.length;P++)I.push(o(arguments[P]));return I.join(" ")}for(var P=1,X=arguments,y=X.length,m=String(_).replace(n,function(D){if(D==="%%")return"%";if(P>=y)return D;switch(D){case"%s":return String(X[P++]);case"%d":return Number(X[P++]);case"%j":try{return JSON.stringify(X[P++])}catch{return"[Circular]"}default:return D}}),C=X[P];P<y;C=X[++P])w(C)||!U(C)?m+=" "+C:m+=" "+o(C);return m},t.deprecate=function(_,I){if(typeof process<"u"&&process.noDeprecation===!0)return _;if(typeof process>"u")return function(){return t.deprecate(_,I).apply(this,arguments)};var P=!1;function X(){if(!P){if(process.throwDeprecation)throw new Error(I);process.traceDeprecation?console.trace(I):console.error(I),P=!0}return _.apply(this,arguments)}return X};var r={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(_){if(_=_.toUpperCase(),!r[_])if(i.test(_)){var I=process.pid;r[_]=function(){var P=t.format.apply(t,arguments);console.error("%s %d: %s",_,I,P)}}else r[_]=function(){};return r[_]};function o(_,I){var P={seen:[],stylize:c};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),S(I)?P.showHidden=I:I&&t._extend(P,I),q(P.showHidden)&&(P.showHidden=!1),q(P.depth)&&(P.depth=2),q(P.colors)&&(P.colors=!1),q(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=a),l(P,_,P.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(_,I){var P=o.styles[I];return P?"\x1B["+o.colors[P][0]+"m"+_+"\x1B["+o.colors[P][1]+"m":_}function c(_,I){return _}function u(_){var I={};return _.forEach(function(P,X){I[P]=!0}),I}function l(_,I,P){if(_.customInspect&&I&&Q(I.inspect)&&I.inspect!==t.inspect&&!(I.constructor&&I.constructor.prototype===I)){var X=I.inspect(P,_);return $(X)||(X=l(_,X,P)),X}var y=p(_,I);if(y)return y;var m=Object.keys(I),C=u(m);if(_.showHidden&&(m=Object.getOwnPropertyNames(I)),Y(I)&&(m.indexOf("message")>=0||m.indexOf("description")>=0))return d(I);if(m.length===0){if(Q(I)){var D=I.name?": "+I.name:"";return _.stylize("[Function"+D+"]","special")}if(H(I))return _.stylize(RegExp.prototype.toString.call(I),"regexp");if(ce(I))return _.stylize(Date.prototype.toString.call(I),"date");if(Y(I))return d(I)}var V="",f=!1,h=["{","}"];if(k(I)&&(f=!0,h=["[","]"]),Q(I)){var T=I.name?": "+I.name:"";V=" [Function"+T+"]"}if(H(I)&&(V=" "+RegExp.prototype.toString.call(I)),ce(I)&&(V=" "+Date.prototype.toUTCString.call(I)),Y(I)&&(V=" "+d(I)),m.length===0&&(!f||I.length==0))return h[0]+V+h[1];if(P<0)return H(I)?_.stylize(RegExp.prototype.toString.call(I),"regexp"):_.stylize("[Object]","special");_.seen.push(I);var W;return f?W=b(_,I,P,C,m):W=m.map(function(he){return g(_,I,P,C,he,f)}),_.seen.pop(),E(W,V,h)}function p(_,I){if(q(I))return _.stylize("undefined","undefined");if($(I)){var P="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _.stylize(P,"string")}if(M(I))return _.stylize(""+I,"number");if(S(I))return _.stylize(""+I,"boolean");if(w(I))return _.stylize("null","null")}function d(_){return"["+Error.prototype.toString.call(_)+"]"}function b(_,I,P,X,y){for(var m=[],C=0,D=I.length;C<D;++C)ye(I,String(C))?m.push(g(_,I,P,X,String(C),!0)):m.push("");return y.forEach(function(V){V.match(/^\d+$/)||m.push(g(_,I,P,X,V,!0))}),m}function g(_,I,P,X,y,m){var C,D,V;if(V=Object.getOwnPropertyDescriptor(I,y)||{value:I[y]},V.get?V.set?D=_.stylize("[Getter/Setter]","special"):D=_.stylize("[Getter]","special"):V.set&&(D=_.stylize("[Setter]","special")),ye(X,y)||(C="["+y+"]"),D||(_.seen.indexOf(V.value)<0?(w(P)?D=l(_,V.value,null):D=l(_,V.value,P-1),D.indexOf(`
`)>-1&&(m?D=D.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):D=`
`+D.split(`
`).map(function(f){return"   "+f}).join(`
`))):D=_.stylize("[Circular]","special")),q(C)){if(m&&y.match(/^\d+$/))return D;C=JSON.stringify(""+y),C.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(C=C.slice(1,-1),C=_.stylize(C,"name")):(C=C.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),C=_.stylize(C,"string"))}return C+": "+D}function E(_,I,P){var X=_.reduce(function(y,m){return m.indexOf(`
`)>=0,y+m.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?P[0]+(I===""?"":I+`
 `)+" "+_.join(`,
  `)+" "+P[1]:P[0]+I+" "+_.join(", ")+" "+P[1]}t.types=t0;function k(_){return Array.isArray(_)}t.isArray=k;function S(_){return typeof _=="boolean"}t.isBoolean=S;function w(_){return _===null}t.isNull=w;function A(_){return _==null}t.isNullOrUndefined=A;function M(_){return typeof _=="number"}t.isNumber=M;function $(_){return typeof _=="string"}t.isString=$;function z(_){return typeof _=="symbol"}t.isSymbol=z;function q(_){return _===void 0}t.isUndefined=q;function H(_){return U(_)&&N(_)==="[object RegExp]"}t.isRegExp=H,t.types.isRegExp=H;function U(_){return typeof _=="object"&&_!==null}t.isObject=U;function ce(_){return U(_)&&N(_)==="[object Date]"}t.isDate=ce,t.types.isDate=ce;function Y(_){return U(_)&&(N(_)==="[object Error]"||_ instanceof Error)}t.isError=Y,t.types.isNativeError=Y;function Q(_){return typeof _=="function"}t.isFunction=Q;function J(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||typeof _>"u"}t.isPrimitive=J,t.isBuffer=GC;function N(_){return Object.prototype.toString.call(_)}function j(_){return _<10?"0"+_.toString(10):_.toString(10)}var G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oe(){var _=new Date,I=[j(_.getHours()),j(_.getMinutes()),j(_.getSeconds())].join(":");return[_.getDate(),G[_.getMonth()],I].join(" ")}t.log=function(){console.log("%s - %s",oe(),t.format.apply(t,arguments))},t.inherits=ft.exports,t._extend=function(_,I){if(!I||!U(I))return _;for(var P=Object.keys(I),X=P.length;X--;)_[P[X]]=I[P[X]];return _};function ye(_,I){return Object.prototype.hasOwnProperty.call(_,I)}var me=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(me&&I[me]){var P=I[me];if(typeof P!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(P,me,{value:P,enumerable:!1,writable:!1,configurable:!0}),P}function P(){for(var X,y,m=new Promise(function(V,f){X=V,y=f}),C=[],D=0;D<arguments.length;D++)C.push(arguments[D]);C.push(function(V,f){V?y(V):X(f)});try{I.apply(this,C)}catch(V){y(V)}return m}return Object.setPrototypeOf(P,Object.getPrototypeOf(I)),me&&Object.defineProperty(P,me,{value:P,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(P,e(I))},t.promisify.custom=me;function Ve(_,I){if(!_){var P=new Error("Promise was rejected with a falsy value");P.reason=_,_=P}return I(_)}function Xe(_){if(typeof _!="function")throw new TypeError('The "original" argument must be of type Function');function I(){for(var P=[],X=0;X<arguments.length;X++)P.push(arguments[X]);var y=P.pop();if(typeof y!="function")throw new TypeError("The last argument must be of type Function");var m=this,C=function(){return y.apply(m,arguments)};_.apply(this,P).then(function(D){process.nextTick(C.bind(null,null,D))},function(D){process.nextTick(Ve.bind(null,D,C))})}return Object.setPrototypeOf(I,Object.getPrototypeOf(_)),Object.defineProperties(I,e(_)),I}t.callbackify=Xe})(e0);const QC=e0,m0=ci.exports;var lc=typeof Reflect=="object"?Reflect:null,ZC=lc&&typeof lc.apply=="function"?lc.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},KC=ju;function ju(){m0.call(this)}QC.inherits(ju,m0);ju.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Od(a,this,e);else for(var c=a.length,u=YC(a,c),n=0;n<c;++n)Od(u[n],this,e);return!0};function Od(t,e,n){try{ZC(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function YC(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}const JC=KC,XC=1e3,e9=(t,e)=>t+e,Rd=["sync","latest"];class t9 extends JC{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*XC,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(n=>this.once("latest",n))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,n){!Rd.includes(e)||this._maybeStart()}_onRemoveListener(e,n){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Rd.map(e=>this.listenerCount(e)).reduce(e9)}_newPotentialLatest(e){const n=this._currentBlock;n&&Nd(e)<=Nd(n)||this._setCurrentBlock(e)}_setCurrentBlock(e){const n=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var n9=t9;function Nd(t){return Number.parseInt(t,16)}const r9=ZE,i9=n9,s9=1e3;class o9 extends i9{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const n=e.pollingInterval||20*s9,r=e.retryTimeout||n/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:n},e)),this._provider=e.provider,this._pollingInterval=n,this._retryTimeout=r,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Pd(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",n)}catch{console.error(n)}await Pd(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const n=await r9(r=>this._provider.sendAsync(e,r))();if(n.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${n.error}`);return n.result}}var a9=o9;function Pd(t,e){return new Promise(n=>{const r=setTimeout(n,t);r.unref&&e&&r.unref()})}var Bu={exports:{}},c9=function(e){return(n,r,i,s)=>{const o=e[n.method];return o===void 0?i():typeof o=="function"?o(n,r,i,s):(r.result=o,s())}};(function(t){t.exports=c9})(Bu);var Fu={},Ks={},ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.getUniqueId=void 0;const v0=4294967295;let dc=Math.floor(Math.random()*v0);function u9(){return dc=(dc+1)%v0,dc}ki.getUniqueId=u9;Object.defineProperty(Ks,"__esModule",{value:!0});Ks.createIdRemapMiddleware=void 0;const l9=ki;function d9(){return(t,e,n,r)=>{const i=t.id,s=l9.getUniqueId();t.id=s,e.id=s,n(o=>{t.id=i,e.id=i,o()})}}Ks.createIdRemapMiddleware=d9;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.createAsyncMiddleware=void 0;function f9(t){return async(e,n,r,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,r(l=>{a=l,s()}),await o};try{await t(e,n,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Ys.createAsyncMiddleware=f9;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.createScaffoldMiddleware=void 0;function h9(t){return(e,n,r,i)=>{const s=t[e.method];return s===void 0?r():typeof s=="function"?s(e,n,r,i):(n.result=s,i())}}Js.createScaffoldMiddleware=h9;var Ai={},p9=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.JsonRpcEngine=void 0;const b9=p9(kr),st=pi;class Lt extends b9.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[s,o,a]=await Lt._runAllMiddleware(e,n,this._middleware);return o?(await Lt._runReturnHandlers(a),i(s)):r(async c=>{try{await Lt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const o=new st.EthereumRpcError(st.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new st.EthereumRpcError(st.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}const r=Object.assign({},e),i={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=st.serializeError(s))),n(s,i)}async _processRequest(e,n){const[r,i,s]=await Lt._runAllMiddleware(e,n,this._middleware);if(Lt._checkForCompletion(e,n,i),await Lt._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,n,r){const i=[];let s=null,o=!1;for(const a of r)if([s,o]=await Lt._runMiddleware(e,n,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(s=>{const o=c=>{const u=c||n.error;u&&(n.error=st.serializeError(u)),s([u,!0])},a=c=>{n.error?o(n.error):(c&&(typeof c!="function"&&o(new st.EthereumRpcError(st.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${fc(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{r(e,n,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(s=>s?i(s):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new st.EthereumRpcError(st.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${fc(e)}`,{request:e});if(!r)throw new st.EthereumRpcError(st.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${fc(e)}`,{request:e})}}Ai.JsonRpcEngine=Lt;function fc(t){return JSON.stringify(t,null,2)}var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.mergeMiddleware=void 0;const g9=Ai;function y9(t){const e=new g9.JsonRpcEngine;return t.forEach(n=>e.push(n)),e.asMiddleware()}Xs.mergeMiddleware=y9;(function(t){var e=B&&B.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=B&&B.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ks,t),n(Ys,t),n(Js,t),n(ki,t),n(Ai,t),n(Xs,t)})(Fu);var _0={},$u={};const Uu=ke(k1);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});var Dd=Uu,m9=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,n=this.isLocked(),r=new Promise(function(i){return e._queue.push(i)});return n||this._dispatch(),r},t.prototype.runExclusive=function(e){return Dd.__awaiter(this,void 0,void 0,function(){var n,r,i;return Dd.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:n=s.sent(),r=n[0],i=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,n=this._queue.shift();if(!!n){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},n([this._value--,this._currentReleaser])}},t}();eo.default=m9;Object.defineProperty($u,"__esModule",{value:!0});var Ld=Uu,v9=eo,_9=function(){function t(){this._semaphore=new v9.default(1)}return t.prototype.acquire=function(){return Ld.__awaiter(this,void 0,void 0,function(){var e,n;return Ld.__generator(this,function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),n=e[1],[2,n]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();$u.default=_9;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.withTimeout=void 0;var Ui=Uu;function w9(t,e,n){var r=this;return n===void 0&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ui.__awaiter(r,void 0,void 0,function(){var o,a,c;return Ui.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(n)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Ui.__awaiter(this,void 0,void 0,function(){var s,o;return Ui.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}to.withTimeout=w9;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=$u;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var n=eo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return n.default}});var r=to;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return r.withTimeout}})})(_0);const jd=(t,e,n,r)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===n?r:this,i)})},Bd=new WeakMap;var S9=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const n=typeof t;if(!(t!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":n}\``);const r=(o,a)=>{let c=Bd.get(o);if(c||(c={},Bd.set(o,c)),a in c)return c[a];const u=g=>typeof g=="string"||typeof a=="symbol"?a===g:g.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),p=l===void 0||l.writable||l.configurable,b=(e.include?e.include.some(u):!e.exclude.some(u))&&p;return c[a]=b,b},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:jd(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!r(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=jd(c,e,s,o);return i.set(c,l),l}return c}});return s};const E9=kr.default;class C9 extends E9{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(n=>this.emit("update",n))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Wu=C9;const k9=Wu;class A9 extends k9{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var I9=A9,Ii={minBlockRef:M9,maxBlockRef:x9,sortBlockRefs:Hu,bnToHex:T9,blockRefIsNumber:O9,hexToInt:vs,incrementHexInt:R9,intToHex:w0,unsafeRandomBytes:N9};function M9(...t){return Hu(t)[0]}function x9(...t){const e=Hu(t);return e[e.length-1]}function Hu(t){return t.sort((e,n)=>e==="latest"||n==="earliest"?1:n==="latest"||e==="earliest"?-1:vs(e)-vs(n))}function T9(t){return"0x"+t.toString(16)}function O9(t){return t&&!["earliest","latest","pending"].includes(t)}function vs(t){return t==null?t:Number.parseInt(t,16)}function R9(t){if(t==null)return t;const e=vs(t);return w0(e+1)}function w0(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function N9(t){let e="0x";for(let n=0;n<t;n++)e+=Fd(),e+=Fd();return e}function Fd(){return Math.floor(Math.random()*16).toString(16)}const P9=rC,D9=S9,L9=I9,{bnToHex:pO,hexToInt:Wi,incrementHexInt:j9,minBlockRef:B9,blockRefIsNumber:F9}=Ii;class $9 extends L9{constructor({provider:e,params:n}){super(),this.type="log",this.ethQuery=new P9(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},n),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(r=>r.toLowerCase()))}async initialize({currentBlock:e}){let n=this.params.fromBlock;["latest","pending"].includes(n)&&(n=e),n==="earliest"&&(n="0x0"),this.params.fromBlock=n;const r=B9(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:n}){const r=n;let i;e?i=j9(e):i=n;const s=Object.assign({},this.params,{fromBlock:i,toBlock:r}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await D9(r=>this.ethQuery.getLogs(e,r))()}matchLog(e){if(Wi(this.params.fromBlock)>=Wi(e.blockNumber)||F9(this.params.toBlock)&&Wi(this.params.toBlock)<=Wi(e.blockNumber))return!1;const n=e.address&&e.address.toLowerCase();return this.params.address&&n&&!this.params.address.includes(n)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var U9=$9,Vu=W9;async function W9({provider:t,fromBlock:e,toBlock:n}){e||(e=n);const r=$d(e),s=$d(n)-r+1,o=Array(s).fill().map((c,u)=>r+u).map(H9);return await Promise.all(o.map(c=>V9(t,"eth_getBlockByNumber",[c,!1])))}function $d(t){return t==null?t:Number.parseInt(t,16)}function H9(t){return t==null?t:"0x"+t.toString(16)}function V9(t,e,n){return new Promise((r,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:n},(s,o)=>{if(s)return i(s);r(o.result)})})}const z9=Wu,q9=Vu,{incrementHexInt:G9}=Ii;class Q9 extends z9{constructor({provider:e,params:n}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:n}){const r=n,i=G9(e),o=(await q9({provider:this.provider,fromBlock:i,toBlock:r})).map(a=>a.hash);this.addResults(o)}}var Z9=Q9;const K9=Wu,Y9=Vu,{incrementHexInt:J9}=Ii;class X9 extends K9{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const n=e,r=J9(e),i=await Y9({provider:this.provider,fromBlock:r,toBlock:n}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var ek=X9;const tk=_0.Mutex,{createAsyncMiddleware:nk}=Fu,rk=Bu.exports,ik=U9,sk=Z9,ok=ek,{intToHex:S0,hexToInt:hc}=Ii;var ak=ck;function ck({blockTracker:t,provider:e}){let n=0,r={};const i=new tk,s=uk({mutex:i}),o=rk({eth_newFilter:s(pc(c)),eth_newBlockFilter:s(pc(u)),eth_newPendingTransactionFilter:s(pc(l)),eth_uninstallFilter:s(rs(b)),eth_getFilterChanges:s(rs(p)),eth_getFilterLogs:s(rs(d))}),a=async({oldBlock:w,newBlock:A})=>{if(r.length===0)return;const M=await i.acquire();try{await Promise.all(qn(r).map(async $=>{try{await $.update({oldBlock:w,newBlock:A})}catch(z){console.error(z)}}))}catch($){console.error($)}M()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=b,o.getFilterChanges=p,o.getFilterLogs=d,o.destroy=()=>{k()},o;async function c(w){const A=new ik({provider:e,params:w});return await g(A),A}async function u(){const w=new sk({provider:e});return await g(w),w}async function l(){const w=new ok({provider:e});return await g(w),w}async function p(w){const A=hc(w),M=r[A];if(!M)throw new Error(`No filter for index "${A}"`);return M.getChangesAndClear()}async function d(w){const A=hc(w),M=r[A];if(!M)throw new Error(`No filter for index "${A}"`);return M.type==="log"?results=M.getAllResults():results=[],results}async function b(w){const A=hc(w),M=r[A],$=Boolean(M);return $&&await E(A),$}async function g(w){const A=qn(r).length,M=await t.getLatestBlock();await w.initialize({currentBlock:M}),n++,r[n]=w,w.id=n,w.idHex=S0(n);const $=qn(r).length;return S({prevFilterCount:A,newFilterCount:$}),n}async function E(w){const A=qn(r).length;delete r[w];const M=qn(r).length;S({prevFilterCount:A,newFilterCount:M})}async function k(){const w=qn(r).length;r={},S({prevFilterCount:w,newFilterCount:0})}function S({prevFilterCount:w,newFilterCount:A}){if(w===0&&A>0){t.on("sync",a);return}if(w>0&&A===0){t.removeListener("sync",a);return}}}function pc(t){return rs(async(...e)=>{const n=await t(...e);return S0(n.id)})}function rs(t){return nk(async(e,n)=>{const r=await t.apply(null,e.params);n.result=r})}function uk({mutex:t}){return e=>async(n,r,i,s)=>{(await t.acquire())(),e(n,r,i,s)}}function qn(t,e){const n=[];for(let r in t)n.push(t[r]);return n}const lk=kr.default,dk=Bu.exports,{createAsyncMiddleware:Ud}=Fu,fk=ak,{unsafeRandomBytes:hk,incrementHexInt:pk}=Ii,bk=Vu;var gk=yk;function yk({blockTracker:t,provider:e}){const n={},r=fk({blockTracker:t,provider:e});let i=!1;const s=new lk,o=dk({eth_subscribe:Ud(a),eth_unsubscribe:Ud(c)});return o.destroy=l,{events:s,middleware:o};async function a(p,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=p.params[0],g=hk(16);let E;switch(b){case"newHeads":E=k({subId:g});break;case"logs":const w=p.params[1],A=await r.newLogFilter(w);E=S({subId:g,filter:A});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${b}"`)}n[g]=E,d.result=g;return;function k({subId:w}){const A={type:b,destroy:async()=>{t.removeListener("sync",A.update)},update:async({oldBlock:M,newBlock:$})=>{const z=$,q=pk(M);(await bk({provider:e,fromBlock:q,toBlock:z})).map(mk).forEach(ce=>{u(w,ce)})}};return t.on("sync",A.update),A}function S({subId:w,filter:A}){return A.on("update",$=>u(w,$)),{type:b,destroy:async()=>await r.uninstallFilter(A.idHex)}}}async function c(p,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=p.params[0],g=n[b];if(!g){d.result=!1;return}delete n[b],await g.destroy(),d.result=!0}function u(p,d){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:p,result:d}})}function l(){s.removeAllListeners();for(const p in n)n[p].destroy(),delete n[p];i=!0}}function mk(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Gs,"__esModule",{value:!0});Gs.SubscriptionManager=void 0;const vk=a9,_k=gk,Wd=()=>{};class wk{constructor(e){const n=new vk({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:i}=_k({blockTracker:n,provider:e});this.events=r,this.subscriptionMiddleware=i}async handleRequest(e){const n={};return await this.subscriptionMiddleware(e,n,Wd,Wd),n}destroy(){this.subscriptionMiddleware.destroy()}}Gs.SubscriptionManager=wk;var zu=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ur,"__esModule",{value:!0});ur.CoinbaseWalletProvider=void 0;const Sk=zu(kr),Ek=zu(Ms.exports),qe=pi,bc=Ar,Hd=Ir,Vd=_t,ie=Z,gc=zu(zE),Ck=mr,pe=Xp,kk=Gs,zd="DefaultChainId",qd="DefaultJsonRpcUrl";class Ak extends Sk.default{constructor(e){var n,r;super(),this._filterPolyfill=new Ck.FilterPolyfill(this),this._subscriptionManager=new kk.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this.isCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ie.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Vd.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,ie.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ie.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(qd))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(qd,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,n){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=n,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,n){this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(zd,n.toString(10)),((0,ie.ensureIntNumber)(n)!==r||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,n,r,i,s,o?.toString()).promise).result}async addEthereumChain(e,n,r,i,s,o){var a,c;if((0,ie.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const p=await u.addEthereumChain(e.toString(),n,s,r,i,o).promise;return((a=p.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((c=p.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const r=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(r.errorCode)throw qe.ethErrors.provider.custom({code:r.errorCode});const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,n){this.initializeRelay().then(r=>r.setAppInfo(e,n))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(bc.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Hd.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(pe.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,n){if(typeof e=="string"){const i=e,s=Array.isArray(n)?n:n!==void 0?[n]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof n=="function"){const i=e,s=n;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const r=e;return this._sendRequest(r)}async sendAsync(e,n){if(typeof n!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=n;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const r=n;return this._sendRequestAsync(e).then(i=>r(null,i)).catch(i=>r(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw qe.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw qe.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw qe.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const r=await(await this.initializeRelay()).scanQRCode((0,ie.ensureRegExpString)(e)).promise;if(typeof r.result!="string")throw new Error("result was not a string");return r.result}async genericRequest(e,n){const i=await(await this.initializeRelay()).genericRequest(e,n).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const r=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof r.result!="string")throw new Error("result was not a string");return r.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const n={jsonrpc:"2.0",id:e.id},{method:r}=e;if(n.result=this._handleSynchronousMethods(e),n.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return n}_setAddresses(e,n){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(i=>(0,ie.ensureAddressString)(i));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!n||(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(Vd.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" "))))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>n(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>r(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>n({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(n=>this._sendRequestAsync(n)))}_handleSynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case pe.JSONRPCMethod.eth_accounts:return this._eth_accounts();case pe.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case pe.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case pe.JSONRPCMethod.net_version:return this._net_version();case pe.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case pe.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case pe.JSONRPCMethod.eth_sign:return this._eth_sign(r);case pe.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case pe.JSONRPCMethod.personal_sign:return this._personal_sign(r);case pe.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case pe.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case pe.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case pe.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case pe.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case pe.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case pe.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case pe.JSONRPCMethod.eth_signTypedData_v4:case pe.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case pe.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(r);case pe.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case pe.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case pe.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:n}=e,r=e.params||[];switch(n){case pe.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case pe.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case pe.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case pe.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case pe.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case pe.JSONRPCMethod.eth_subscribe:case pe.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const n=(0,ie.ensureAddressString)(e);return this._addresses.map(i=>(0,ie.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){var n;if(!this._isKnownAddress(e))throw(n=this.diagnostic)===null||n===void 0||n.log(bc.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,ie.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,ie.ensureAddressString)(e.to):null,i=e.value!=null?(0,ie.ensureBN)(e.value):new Ek.default(0),s=e.data?(0,ie.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ie.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ie.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,ie.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,ie.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,ie.ensureBN)(e.gas):null,p=this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw qe.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw qe.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,n,r,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,n,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ie.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(zd);if(!e)return(0,ie.ensureIntNumber)(this._chainIdFromOpts);const n=parseInt(e,10);return(0,ie.ensureIntNumber)(n)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(bc.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Hd.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let n;try{n=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,ie.ensureAddressString)(e[0]),r=(0,ie.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,ie.ensureBuffer)(e[0]),r=(0,ie.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,ie.ensureBuffer)(e[0]),r=(0,ie.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,ie.ensureBuffer)(e[0]),r=(0,ie.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,ie.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(n,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?qe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,ie.ensureParsedJSONObject)(e[0]),r=(0,ie.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=gc.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,ie.ensureAddressString)(e[0]),r=(0,ie.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=gc.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,ie.ensureAddressString)(e[0]),r=(0,ie.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=gc.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _cbwallet_arbitrary(e){const n=e[0],r=e[1];if(typeof r!="string")throw new Error("parameter must be a string");if(typeof n!="object"||n===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(n,r)}}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw qe.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw qe.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw qe.ethErrors.rpc.invalidParams({message:"Type is required"});if(n?.type!=="ERC20")throw qe.ethErrors.rpc.invalidParams({message:`Asset of type '${n.type}' is not supported`});if(!n?.options)throw qe.ethErrors.rpc.invalidParams({message:"Options are required"});if(!n?.options.address)throw qe.ethErrors.rpc.invalidParams({message:"Address is required"});const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}_eth_uninstallFilter(e){const n=(0,ie.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(n)}async _eth_newFilter(e){const n=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(n)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const n=(0,ie.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(n)}_eth_getFilterLogs(e){const n=(0,ie.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(n)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}ur.CoinbaseWalletProvider=Ak;var no={},ro={},Mi,ne,E0,C0,Qr,Gd,k0,_s={},A0=[],Ik=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Bt(t,e){for(var n in e)t[n]=e[n];return t}function I0(t){var e=t.parentNode;e&&e.removeChild(t)}function tu(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Mi.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Zr(t,o,r,i,null)}function Zr(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++E0};return i==null&&ne.vnode!=null&&ne.vnode(s),s}function Mk(){return{current:null}}function xi(t){return t.children}function Kr(t,e){this.props=t,this.context=e}function ii(t,e){if(e==null)return t.__?ii(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ii(t):null}function M0(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return M0(t)}}function nu(t){(!t.__d&&(t.__d=!0)&&Qr.push(t)&&!ws.__r++||Gd!==ne.debounceRendering)&&((Gd=ne.debounceRendering)||setTimeout)(ws)}function ws(){for(var t;ws.__r=Qr.length;)t=Qr.sort(function(e,n){return e.__v.__b-n.__v.__b}),Qr=[],t.some(function(e){var n,r,i,s,o,a;e.__d&&(o=(s=(n=e).__v).__e,(a=n.__P)&&(r=[],(i=Bt({},s)).__v=s.__v+1,qu(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??ii(s),s.__h),N0(r,s),s.__e!=o&&M0(s)))})}function x0(t,e,n,r,i,s,o,a,c,u){var l,p,d,b,g,E,k,S=r&&r.__k||A0,w=S.length;for(n.__k=[],l=0;l<e.length;l++)if((b=n.__k[l]=(b=e[l])==null||typeof b=="boolean"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Zr(null,b,null,null,b):Array.isArray(b)?Zr(xi,{children:b},null,null,null):b.__b>0?Zr(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=n,b.__b=n.__b+1,(d=S[l])===null||d&&b.key==d.key&&b.type===d.type)S[l]=void 0;else for(p=0;p<w;p++){if((d=S[p])&&b.key==d.key&&b.type===d.type){S[p]=void 0;break}d=null}qu(t,b,d=d||_s,i,s,o,a,c,u),g=b.__e,(p=b.ref)&&d.ref!=p&&(k||(k=[]),d.ref&&k.push(d.ref,null,b),k.push(p,b.__c||g,b)),g!=null?(E==null&&(E=g),typeof b.type=="function"&&b.__k===d.__k?b.__d=c=T0(b,c,t):c=R0(t,b,d,S,g,c),typeof n.type=="function"&&(n.__d=c)):c&&d.__e==c&&c.parentNode!=t&&(c=ii(d))}for(n.__e=E,l=w;l--;)S[l]!=null&&D0(S[l],S[l]);if(k)for(l=0;l<k.length;l++)P0(k[l],k[++l],k[++l])}function T0(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?T0(r,e,n):R0(n,r,r,i,r.__e,e));return e}function O0(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){O0(n,e)}):e.push(t)),e}function R0(t,e,n,r,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function xk(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||Ss(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||Ss(t,s,e[s],n[s],r)}function Qd(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Ik.test(e)?n:n+"px"}function Ss(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Qd(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Qd(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Kd:Zd,s):t.removeEventListener(e,s?Kd:Zd,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Zd(t){this.l[t.type+!1](ne.event?ne.event(t):t)}function Kd(t){this.l[t.type+!0](ne.event?ne.event(t):t)}function qu(t,e,n,r,i,s,o,a,c){var u,l,p,d,b,g,E,k,S,w,A,M,$,z,q,H=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(u=ne.__b)&&u(e);try{e:if(typeof H=="function"){if(k=e.props,S=(u=H.contextType)&&r[u.__c],w=u?S?S.props.value:u.__:r,n.__c?E=(l=e.__c=n.__c).__=l.__E:("prototype"in H&&H.prototype.render?e.__c=l=new H(k,w):(e.__c=l=new Kr(k,w),l.constructor=H,l.render=Ok),S&&S.sub(l),l.props=k,l.state||(l.state={}),l.context=w,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),H.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Bt({},l.__s)),Bt(l.__s,H.getDerivedStateFromProps(k,l.__s))),d=l.props,b=l.state,p)H.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(H.getDerivedStateFromProps==null&&k!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(k,w),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(k,l.__s,w)===!1||e.__v===n.__v){for(l.props=k,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),l.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(U){U&&(U.__=e)}),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(k,l.__s,w),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,b,g)})}if(l.context=w,l.props=k,l.__v=e,l.__P=t,M=ne.__r,$=0,"prototype"in H&&H.prototype.render){for(l.state=l.__s,l.__d=!1,M&&M(e),u=l.render(l.props,l.state,l.context),z=0;z<l._sb.length;z++)l.__h.push(l._sb[z]);l._sb=[]}else do l.__d=!1,M&&M(e),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++$<25);l.state=l.__s,l.getChildContext!=null&&(r=Bt(Bt({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(d,b)),q=u!=null&&u.type===xi&&u.key==null?u.props.children:u,x0(t,Array.isArray(q)?q:[q],e,n,r,i,s,o,a,c),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),E&&(l.__E=l.__=null),l.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Tk(n.__e,e,n,r,i,s,o,c);(u=ne.diffed)&&u(e)}catch(U){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),ne.__e(U,e,n)}}function N0(t,e){ne.__c&&ne.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){ne.__e(r,n.__v)}})}function Tk(t,e,n,r,i,s,o,a){var c,u,l,p=n.props,d=e.props,b=e.type,g=0;if(b==="svg"&&(i=!0),s!=null){for(;g<s.length;g++)if((c=s[g])&&"setAttribute"in c==!!b&&(b?c.localName===b:c.nodeType===3)){t=c,s[g]=null;break}}if(t==null){if(b===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,d.is&&d),s=null,a=!1}if(b===null)p===d||a&&t.data===d||(t.data=d);else{if(s=s&&Mi.call(t.childNodes),u=(p=n.props||_s).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!a){if(s!=null)for(p={},g=0;g<t.attributes.length;g++)p[t.attributes[g].name]=t.attributes[g].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(xk(t,d,p,i,a),l)e.__k=[];else if(g=e.props.children,x0(t,Array.isArray(g)?g:[g],e,n,r,i&&b!=="foreignObject",s,o,s?s[0]:n.__k&&ii(n,0),a),s!=null)for(g=s.length;g--;)s[g]!=null&&I0(s[g]);a||("value"in d&&(g=d.value)!==void 0&&(g!==t.value||b==="progress"&&!g||b==="option"&&g!==p.value)&&Ss(t,"value",g,p.value,!1),"checked"in d&&(g=d.checked)!==void 0&&g!==t.checked&&Ss(t,"checked",g,p.checked,!1))}return t}function P0(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){ne.__e(r,n)}}function D0(t,e,n){var r,i;if(ne.unmount&&ne.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||P0(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){ne.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&D0(r[i],e,n||typeof t.type!="function");n||t.__e==null||I0(t.__e),t.__=t.__e=t.__d=void 0}function Ok(t,e,n){return this.constructor(t,n)}function L0(t,e,n){var r,i,s;ne.__&&ne.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],qu(e,t=(!r&&n||e).__k=tu(xi,null,[t]),i||_s,_s,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Mi.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),N0(s,t)}function j0(t,e){L0(t,e,j0)}function Rk(t,e,n){var r,i,s,o=Bt({},t.props);for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Mi.call(arguments,2):n),Zr(t.type,o,r||t.key,i||t.ref,null)}function Nk(t,e){var n={__c:e="__cC"+k0++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(nu)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Mi=A0.slice,ne={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},E0=0,C0=function(t){return t!=null&&t.constructor===void 0},Kr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bt({},this.state),typeof t=="function"&&(t=t(Bt({},n),this.props)),t&&Bt(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),nu(this))},Kr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),nu(this))},Kr.prototype.render=xi,Qr=[],ws.__r=0,k0=0;const Pk=Object.freeze(Object.defineProperty({__proto__:null,Component:Kr,Fragment:xi,cloneElement:Rk,createContext:Nk,createElement:tu,createRef:Mk,h:tu,hydrate:j0,get isValidElement(){return C0},get options(){return ne},render:L0,toChildArray:O0},Symbol.toStringTag,{value:"Module"})),rt=ke(Pk);var io={};function B0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=B0(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Yd(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=B0(t))&&(r&&(r+=" "),r+=e);return r}const Dk=Object.freeze(Object.defineProperty({__proto__:null,clsx:Yd,default:Yd},Symbol.toStringTag,{value:"Module"})),so=ke(Dk);var yn,ve,yc,Jd,vr=0,F0=[],is=[],Xd=ne.__b,ef=ne.__r,tf=ne.diffed,nf=ne.__c,rf=ne.unmount;function $n(t,e){ne.__h&&ne.__h(ve,t,vr||e),vr=0;var n=ve.__H||(ve.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:is}),n.__[t]}function $0(t){return vr=1,U0(H0,t)}function U0(t,e,n){var r=$n(yn++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):H0(void 0,e),function(s){var o=r.__N?r.__N[0]:r.__[0],a=r.t(o,s);o!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=ve,!ve.u)){ve.u=!0;var i=ve.shouldComponentUpdate;ve.shouldComponentUpdate=function(s,o,a){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(l){return l.__c});if(c.every(function(l){return!l.__N}))return!i||i.call(this,s,o,a);var u=!1;return c.forEach(function(l){if(l.__N){var p=l.__[0];l.__=l.__N,l.__N=void 0,p!==l.__[0]&&(u=!0)}}),!(!u&&r.__c.props===s)&&(!i||i.call(this,s,o,a))}}return r.__N||r.__}function Lk(t,e){var n=$n(yn++,3);!ne.__s&&Qu(n.__H,e)&&(n.__=t,n.i=e,ve.__H.__h.push(n))}function W0(t,e){var n=$n(yn++,4);!ne.__s&&Qu(n.__H,e)&&(n.__=t,n.i=e,ve.__h.push(n))}function jk(t){return vr=5,Gu(function(){return{current:t}},[])}function Bk(t,e,n){vr=6,W0(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Gu(t,e){var n=$n(yn++,7);return Qu(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Fk(t,e){return vr=8,Gu(function(){return t},e)}function $k(t){var e=ve.context[t.__c],n=$n(yn++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(ve)),e.props.value):t.__}function Uk(t,e){ne.useDebugValue&&ne.useDebugValue(e?e(t):t)}function Wk(t){var e=$n(yn++,10),n=$0();return e.__=t,ve.componentDidCatch||(ve.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Hk(){var t=$n(yn++,11);if(!t.__){for(var e=ve.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function Vk(){for(var t;t=F0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ss),t.__H.__h.forEach(ru),t.__H.__h=[]}catch(e){t.__H.__h=[],ne.__e(e,t.__v)}}ne.__b=function(t){ve=null,Xd&&Xd(t)},ne.__r=function(t){ef&&ef(t),yn=0;var e=(ve=t.__c).__H;e&&(yc===ve?(e.__h=[],ve.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=is,n.__N=n.i=void 0})):(e.__h.forEach(ss),e.__h.forEach(ru),e.__h=[])),yc=ve},ne.diffed=function(t){tf&&tf(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(F0.push(e)!==1&&Jd===ne.requestAnimationFrame||((Jd=ne.requestAnimationFrame)||zk)(Vk)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==is&&(n.__=n.__V),n.i=void 0,n.__V=is})),yc=ve=null},ne.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ss),n.__h=n.__h.filter(function(r){return!r.__||ru(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ne.__e(r,n.__v)}}),nf&&nf(t,e)},ne.unmount=function(t){rf&&rf(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ss(r)}catch(i){e=i}}),n.__H=void 0,e&&ne.__e(e,n.__v))};var sf=typeof requestAnimationFrame=="function";function zk(t){var e,n=function(){clearTimeout(r),sf&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);sf&&(e=requestAnimationFrame(n))}function ss(t){var e=ve,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ve=e}function ru(t){var e=ve;t.__c=t.__(),ve=e}function Qu(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function H0(t,e){return typeof e=="function"?e(t):e}const qk=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Fk,useContext:$k,useDebugValue:Uk,useEffect:Lk,useErrorBoundary:Wk,useId:Hk,useImperativeHandle:Bk,useLayoutEffect:W0,useMemo:Gu,useReducer:U0,useRef:jk,useState:$0},Symbol.toStringTag,{value:"Module"})),Ti=ke(qk);var xt={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.LIB_VERSION=void 0;oo.LIB_VERSION="3.6.2";var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.CloseIcon=void 0;const of=rt;function Gk(t){return(0,of.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,of.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ao.CloseIcon=Gk;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var co={};Object.defineProperty(co,"__esModule",{value:!0});co.QRCodeIcon=void 0;const Et=rt;function Qk(t){return(0,Et.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Et.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Et.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Et.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Et.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Et.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Et.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Et.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Et.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Et.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}co.QRCodeIcon=Qk;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const Zk=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Yu.default=Zk;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.StatusDotIcon=void 0;const af=rt;function Kk(t){return(0,af.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,af.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}uo.StatusDotIcon=Kk;var lo={};function V0(t){this.mode=tt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],i=this.data.charCodeAt(e);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}V0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}};function Tt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Tt.prototype={addData:function(t){var e=new V0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Tt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Se.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(r.beginFill(0,100),r.moveTo(c,o),r.lineTo(c+i,o),r.lineTo(c+i,o+i),r.lineTo(c,o+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Se.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Se.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=Se.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=Se.getMask(e,r,o-a);u&&(c=!c),this.modules[r][o-a]=c,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}};Tt.PAD0=236;Tt.PAD1=17;Tt.createData=function(t,e,n){for(var r=Mt.getRSBlocks(t,e),i=new z0,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),Se.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Tt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Tt.PAD1,8);return Tt.createBytes(i,r)};Tt.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;r=Math.max(r,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+n];n+=c;var p=Se.getErrorCorrectPolynomial(u),d=new ar(s[a],p.getLength()-1),b=d.mod(p);o[a]=new Array(p.getLength()-1);for(var l=0;l<o[a].length;l++){var g=l+b.getLength()-o[a].length;o[a][l]=g>=0?b.get(g):0}}for(var E=0,l=0;l<e.length;l++)E+=e[l].totalCount;for(var k=new Array(E),S=0,l=0;l<r;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(k[S++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(k[S++]=o[a][l]);return k};var tt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},on={L:1,M:0,Q:3,H:2},qt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Se.getBCHDigit(e)-Se.getBCHDigit(Se.G15)>=0;)e^=Se.G15<<Se.getBCHDigit(e)-Se.getBCHDigit(Se.G15);return(t<<10|e)^Se.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Se.getBCHDigit(e)-Se.getBCHDigit(Se.G18)>=0;)e^=Se.G18<<Se.getBCHDigit(e)-Se.getBCHDigit(Se.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Se.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case qt.PATTERN000:return(e+n)%2==0;case qt.PATTERN001:return e%2==0;case qt.PATTERN010:return n%3==0;case qt.PATTERN011:return(e+n)%3==0;case qt.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case qt.PATTERN101:return e*n%2+e*n%3==0;case qt.PATTERN110:return(e*n%2+e*n%3)%2==0;case qt.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ar([1],0),n=0;n<t;n++)e=e.multiply(new ar([1,Be.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case tt.MODE_NUMBER:return 10;case tt.MODE_ALPHA_NUM:return 9;case tt.MODE_8BIT_BYTE:return 8;case tt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case tt.MODE_NUMBER:return 12;case tt.MODE_ALPHA_NUM:return 11;case tt.MODE_8BIT_BYTE:return 16;case tt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case tt.MODE_NUMBER:return 14;case tt.MODE_ALPHA_NUM:return 13;case tt.MODE_8BIT_BYTE:return 16;case tt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(r+a,i+c)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var u=0;t.isDark(r,i)&&u++,t.isDark(r+1,i)&&u++,t.isDark(r,i+1)&&u++,t.isDark(r+1,i+1)&&u++,(u==0||u==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var l=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&l++;var p=Math.abs(100*l/e/e-50)/5;return n+=p*10,n}},Be={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Be.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Be.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ue=0;Ue<8;Ue++)Be.EXP_TABLE[Ue]=1<<Ue;for(var Ue=8;Ue<256;Ue++)Be.EXP_TABLE[Ue]=Be.EXP_TABLE[Ue-4]^Be.EXP_TABLE[Ue-5]^Be.EXP_TABLE[Ue-6]^Be.EXP_TABLE[Ue-8];for(var Ue=0;Ue<255;Ue++)Be.LOG_TABLE[Be.EXP_TABLE[Ue]]=Ue;function ar(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}ar.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=Be.gexp(Be.glog(this.get(n))+Be.glog(t.get(r)));return new ar(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Be.glog(this.get(0))-Be.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=Be.gexp(Be.glog(t.get(r))+e);return new ar(n,0).mod(t)}};function Mt(t,e){this.totalCount=t,this.dataCount=e}Mt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Mt.getRSBlocks=function(t,e){var n=Mt.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],c=n[s*3+2],u=0;u<o;u++)i.push(new Mt(a,c));return i};Mt.getRsBlockTable=function(t,e){switch(e){case on.L:return Mt.RS_BLOCK_TABLE[(t-1)*4+0];case on.M:return Mt.RS_BLOCK_TABLE[(t-1)*4+1];case on.Q:return Mt.RS_BLOCK_TABLE[(t-1)*4+2];case on.H:return Mt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function z0(){this.buffer=[],this.length=0}z0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var mc=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function q0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(c){switch(c){case"L":return on.L;case"M":return on.M;case"Q":return on.Q;case"H":return on.H;default:throw new Error("Unknwon error correction level: "+c)}}function r(c,u){for(var l=i(c),p=1,d=0,b=0,g=mc.length;b<=g;b++){var E=mc[b];if(!E)throw new Error("Content too long: expected "+d+" but got "+l);switch(u){case"L":d=E[0];break;case"M":d=E[1];break;case"Q":d=E[2];break;case"H":d=E[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=d)break;p++}if(p>mc.length)throw new Error("Content too long");return p}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=r(s,this.options.ecl),a=n(this.options.ecl);this.qrcode=new Tt(o,a),this.qrcode.addData(s),this.qrcode.make()}q0.prototype.svg=function(t){var e=this.options||{},n=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var r=typeof e.pretty<"u"?!!e.pretty:!0,i=r?"  ":"",s=r?`\r
`:"",o=e.width,a=e.height,c=n.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),p=typeof e.join<"u"?!!e.join:!1,d=typeof e.swap<"u"?!!e.swap:!1,b=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,g=typeof e.predefined<"u"?!!e.predefined:!1,E=g?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",k=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,S="",w="",A=0;A<c;A++)for(var M=0;M<c;M++){var $=n[M][A];if($){var z=M*u+e.padding*u,q=A*l+e.padding*l;if(d){var H=z;z=q,q=H}if(p){var U=u+z,ce=l+q;z=Number.isInteger(z)?Number(z):z.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),ce=Number.isInteger(ce)?Number(ce):ce.toFixed(2),w+="M"+z+","+q+" V"+ce+" H"+U+" V"+q+" H"+z+" Z "}else g?S+=i+'<use x="'+z.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:S+=i+'<rect x="'+z.toString()+'" y="'+q.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}p&&(S=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+w+'" />');let Y="";if(this.options.image!==void 0&&this.options.image.svg){const J=o*this.options.image.width/100,N=a*this.options.image.height/100,j=o/2-J/2,G=a/2-N/2;Y+=`<svg x="${j}" y="${G}" width="${J}" height="${N}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Y+=this.options.image.svg+s,Y+="</svg>"}var Q="";switch(t.container){case"svg":b&&(Q+='<?xml version="1.0" standalone="yes"?>'+s),Q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,Q+=E+k+S,Q+=Y,Q+="</svg>";break;case"svg-viewbox":b&&(Q+='<?xml version="1.0" standalone="yes"?>'+s),Q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,Q+=E+k+S,Q+=Y,Q+="</svg>";break;case"g":Q+='<g width="'+o+'" height="'+a+'">'+s,Q+=E+k+S,Q+=Y,Q+="</g>";break;default:Q+=(E+k+S+Y).replace(/^\s+/,"");break}return Q};var Yk=q0,Jk=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lo,"__esModule",{value:!0});lo.QRCode=void 0;const Xk=rt,cf=Ti,eA=Jk(Yk),tA=t=>{const[e,n]=(0,cf.useState)("");return(0,cf.useEffect)(()=>{var r,i;const s=new eA.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(r=t.width)!==null&&r!==void 0?r:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)}),e?(0,Xk.h)("img",{src:e,alt:"QR Code"}):null};lo.QRCode=tA;var fo={},Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var nA=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});fo.Spinner=void 0;const Hi=rt,rA=nA(Xu),iA=t=>{var e;const n=(e=t.size)!==null&&e!==void 0?e:64,r=t.color||"#000";return(0,Hi.h)("div",{class:"-cbwsdk-spinner"},(0,Hi.h)("style",null,rA.default),(0,Hi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,Hi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};fo.Spinner=iA;var el={};Object.defineProperty(el,"__esModule",{value:!0});el.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Pr=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xt,"__esModule",{value:!0});xt.CoinbaseAppSteps=xt.CoinbaseWalletSteps=xt.ConnectItem=xt.ConnectContent=void 0;const lt=Pr(so),ee=rt,uf=Ti,sA=Z,oA=oo,aA=ao,cA=Pr(Zu),uA=Pr(Ku),G0=co,lA=Pr(Yu),dA=Pr(Ju),fA=uo,hA=lo,pA=fo,bA=Pr(el),lf={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:uA.default,steps:Z0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:cA.default,steps:K0}},gA=t=>{switch(t){case"coinbase-app":return lA.default;case"coinbase-wallet-app":default:return dA.default}},iu=t=>t==="light"?"#FFFFFF":"#0A0B0D";function yA(t){const{theme:e}=t,[n,r]=(0,uf.useState)("coinbase-wallet-app"),i=(0,uf.useCallback)(u=>{r(u)},[]),s=(0,sA.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=lf[n];if(!n)return null;const a=o.steps,c=n==="coinbase-app";return(0,ee.h)("div",{"data-testid":"connect-content",class:(0,lt.default)("-cbwsdk-connect-content",e)},(0,ee.h)("style",null,bA.default),(0,ee.h)("div",{class:"-cbwsdk-connect-content-header"},(0,ee.h)("h2",{class:(0,lt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,ee.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,ee.h)(aA.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ee.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,ee.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,ee.h)("div",null,Object.entries(lf).map(([u,l])=>(0,ee.h)(Q0,{key:u,title:l.title,description:l.description,icon:l.icon,selected:n===u,onClick:()=>i(u),theme:e}))),c&&(0,ee.h)("div",{class:(0,lt.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,ee.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,ee.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,ee.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,ee.h)(hA.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:gA(n),width:25,height:25}}),(0,ee.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:oA.LIB_VERSION}),(0,ee.h)("input",{type:"hidden",value:s})),(0,ee.h)(a,{theme:e}),!t.isConnected&&(0,ee.h)("div",{"data-testid":"connecting-spinner",class:(0,lt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,ee.h)(pA.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,ee.h)("p",null,"Connecting...")))))}xt.ConnectContent=yA;function Q0({title:t,description:e,icon:n,selected:r,theme:i,onClick:s}){return(0,ee.h)("div",{onClick:s,class:(0,lt.default)("-cbwsdk-connect-item",i,{selected:r})},(0,ee.h)("div",null,(0,ee.h)("img",{src:n,alt:t})),(0,ee.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,ee.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,ee.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}xt.ConnectItem=Q0;function Z0({theme:t}){return(0,ee.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,ee.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,ee.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,ee.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,ee.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,ee.h)("span",null,"Tap ",(0,ee.h)("strong",null,"Scan")," "),(0,ee.h)("span",{class:(0,lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,ee.h)(G0.QRCodeIcon,{fill:iu(t)})))))}xt.CoinbaseWalletSteps=Z0;function K0({theme:t}){return(0,ee.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,ee.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,ee.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,ee.h)("li",{class:(0,lt.default)("-cbwsdk-wallet-steps-item",t)},(0,ee.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,ee.h)("span",null,"Tap ",(0,ee.h)("strong",null,"More")),(0,ee.h)("span",{class:(0,lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,ee.h)(fA.StatusDotIcon,{fill:iu(t)})),(0,ee.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,ee.h)("strong",null,"Scan")),(0,ee.h)("span",{class:(0,lt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,ee.h)(G0.QRCodeIcon,{fill:iu(t)})))))}xt.CoinbaseAppSteps=K0;var ho={},po={};Object.defineProperty(po,"__esModule",{value:!0});po.ArrowLeftIcon=void 0;const df=rt;function mA(t){return(0,df.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,df.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}po.ArrowLeftIcon=mA;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.LaptopIcon=void 0;const vc=rt;function vA(t){return(0,vc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,vc.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,vc.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}bo.LaptopIcon=vA;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.SafeIcon=void 0;const ff=rt;function _A(t){return(0,ff.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,ff.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}go.SafeIcon=_A;var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Y0=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});ho.TryExtensionContent=void 0;const vn=Y0(so),Te=rt,_c=Ti,wA=po,SA=bo,EA=go,CA=Y0(tl);function kA({theme:t}){const[e,n]=(0,_c.useState)(!1),r=(0,_c.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,_c.useCallback)(()=>{e?window.location.reload():(r(),n(!0))},[r,e]);return(0,Te.h)("div",{class:(0,vn.default)("-cbwsdk-try-extension",t)},(0,Te.h)("style",null,CA.default),(0,Te.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Te.h)("h3",{class:(0,vn.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Te.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Te.h)("button",{class:(0,vn.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Te.h)("div",null,!e&&(0,Te.h)(wA.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Te.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Te.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Te.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Te.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Te.h)("span",{class:(0,vn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Te.h)(SA.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Te.h)("div",{class:(0,vn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Te.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Te.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Te.h)("span",{class:(0,vn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Te.h)(EA.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Te.h)("div",{class:(0,vn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ho.TryExtensionContent=kA;var nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var J0=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(io,"__esModule",{value:!0});io.ConnectDialog=void 0;const wc=J0(so),_n=rt,Sc=Ti,AA=xt,IA=ho,MA=J0(nl),xA=t=>{const{isOpen:e,darkMode:n}=t,[r,i]=(0,Sc.useState)(!e),[s,o]=(0,Sc.useState)(!e);(0,Sc.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=n?"dark":"light";return(0,_n.h)("div",{class:(0,wc.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,_n.h)("style",null,MA.default),(0,_n.h)("div",{class:(0,wc.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,_n.h)("div",{class:"-cbwsdk-connect-dialog"},(0,_n.h)("div",{class:(0,wc.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,_n.h)(AA.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,_n.h)(IA.TryExtensionContent,{theme:a}))))};io.ConnectDialog=xA;Object.defineProperty(ro,"__esModule",{value:!0});ro.LinkFlow=void 0;const Ec=rt,hf=Or,TA=io;class OA{constructor(e){this.extensionUI$=new hf.BehaviorSubject({}),this.subscriptions=new hf.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(n=>{this.isConnected!==n&&(this.isConnected=n,this.render())})),this.subscriptions.add(this.chainId$.subscribe(n=>{this.chainId!==n&&(this.chainId=n,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Ec.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Ec.render)((0,Ec.h)(TA.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}ro.LinkFlow=OA;var X0={},rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=B&&B.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(so),r=rt,i=Ti,s=e(rl),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(p){switch(p){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(d){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=d.darkMode}attach(d){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",d.appendChild(this.root),this.render()}presentItem(d){const b=this.nextItemKey++;return this.items.set(b,d),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([d,b])=>(0,r.h)(t.SnackbarInstance,Object.assign({},b,{key:d}))))),this.root)}}t.Snackbar=c;const u=p=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},p.children));t.SnackbarContainer=u;const l=({autoExpand:p,message:d,menuItems:b,appSrc:g})=>{const[E,k]=(0,i.useState)(!0),[S,w]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const M=[window.setTimeout(()=>{k(!1)},1),window.setTimeout(()=>{w(!0)},1e4)];return()=>{M.forEach(window.clearTimeout)}});const A=()=>{w(!S)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",E&&"-cbwsdk-snackbar-instance-hidden",S&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:A},(0,r.h)("img",{src:a(g),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},d),(0,r.h)("div",{class:"-gear-container"},!S&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((M,$)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:M.onClick,key:$},(0,r.h)("svg",{width:M.svgWidth,height:M.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":M.defaultFillRule,"clip-rule":M.defaultClipRule,d:M.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},M.info)))))};t.SnackbarInstance=l})(X0);var yo={},il={};Object.defineProperty(il,"__esModule",{value:!0});il.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var RA=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});yo.injectCssReset=void 0;const NA=RA(il);function PA(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(NA.default)),document.documentElement.appendChild(t)}yo.injectCssReset=PA;Object.defineProperty(no,"__esModule",{value:!0});no.WalletSDKUI=void 0;const DA=ro,LA=X0,jA=yo;class BA{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new LA.Snackbar({darkMode:e.darkMode}),this.linkFlow=new DA.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.linkFlow.attach(n),this.snackbar.attach(n),this.attached=!0,(0,jA.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}no.WalletSDKUI=BA;var mo={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});var er;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(er||(er={}));function eb(t,e,n){if(!n||typeof n.value!==er.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:er.boolTrue,get:function(){var r=n.value.bind(this);return Object.defineProperty(this,e,{value:r,configurable:er.boolTrue,writable:er.boolTrue}),r}}}vo.bind=eb;vo.default=eb;var _o={},ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.ClientMessagePublishEvent=ut.ClientMessageSetSessionConfig=ut.ClientMessageGetSessionConfig=ut.ClientMessageIsLinked=ut.ClientMessageHostSession=void 0;function FA(t){return Object.assign({type:"HostSession"},t)}ut.ClientMessageHostSession=FA;function $A(t){return Object.assign({type:"IsLinked"},t)}ut.ClientMessageIsLinked=$A;function UA(t){return Object.assign({type:"GetSessionConfig"},t)}ut.ClientMessageGetSessionConfig=UA;function WA(t){return Object.assign({type:"SetSessionConfig"},t)}ut.ClientMessageSetSessionConfig=WA;function HA(t){return Object.assign({type:"PublishEvent"},t)}ut.ClientMessagePublishEvent=HA;var tb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Or,n=$s;var r;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(r=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(r.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(r.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(r.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(r.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,n.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(r.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,n.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(tb);var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.isServerMessageFail=void 0;function VA(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}wo.isServerMessageFail=VA;Object.defineProperty(_o,"__esModule",{value:!0});_o.WalletSDKConnection=void 0;const yt=Or,ue=$s,Fr=Ir,Gn=wi,$r=ut,Ur=Ar,Vi=tb,Cc=wo,pf=1e4,zA=6e4;class qA{constructor(e,n,r,i,s=WebSocket){this.sessionId=e,this.sessionKey=n,this.diagnostic=i,this.subscriptions=new yt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Gn.IntNumber)(1),this.connectedSubject=new yt.BehaviorSubject(!1),this.linkedSubject=new yt.BehaviorSubject(!1),this.sessionConfigSubject=new yt.ReplaySubject(1);const o=new Vi.RxWebSocket(r+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ue.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Ur.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Fr.Session.hash(e)})}),(0,ue.skip)(1),(0,ue.filter)(a=>a===Vi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ue.delay)(5e3),(0,ue.filter)(a=>!this.destroyed),(0,ue.flatMap)(a=>o.connect()),(0,ue.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ue.skip)(2),(0,ue.switchMap)(a=>(0,yt.iif)(()=>a===Vi.ConnectionState.CONNECTED,this.authenticate().pipe((0,ue.tap)(c=>this.sendIsLinked()),(0,ue.tap)(c=>this.sendGetSessionConfig()),(0,ue.map)(c=>!0)),(0,yt.of)(!1))),(0,ue.distinctUntilChanged)(),(0,ue.catchError)(a=>(0,yt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ue.skip)(1),(0,ue.switchMap)(a=>(0,yt.iif)(()=>a===Vi.ConnectionState.CONNECTED,(0,yt.timer)(0,pf)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ue.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ue.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Ur.EVENTS.LINKED,{sessionIdHash:Fr.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ue.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Ur.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Fr.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Ur.EVENTS.STARTED_CONNECTING,{sessionIdHash:Fr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Ur.EVENTS.DISCONNECTED,{sessionIdHash:Fr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ue.filter)(e=>e),(0,ue.take)(1),(0,ue.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ue.filter)(e=>e),(0,ue.take)(1),(0,ue.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ue.filter)(e=>{if(e.type!=="Event")return!1;const n=e;return typeof n.sessionId=="string"&&typeof n.eventId=="string"&&typeof n.event=="string"&&typeof n.data=="string"}),(0,ue.map)(e=>e))}setSessionMetadata(e,n){const r=(0,$r.ClientMessageSetSessionConfig)({id:(0,Gn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:n}});return this.onceConnected$.pipe((0,ue.flatMap)(i=>this.makeRequest(r)),(0,ue.map)(i=>{if((0,Cc.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,n,r=!1){const i=(0,$r.ClientMessagePublishEvent)({id:(0,Gn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:n,callWebhook:r});return this.onceLinked$.pipe((0,ue.flatMap)(s=>this.makeRequest(i)),(0,ue.map)(s=>{if((0,Cc.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>pf*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,n=zA){const r=e.id;try{this.sendData(e)}catch(i){return(0,yt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ue.timeoutWith)(n,(0,yt.throwError)(new Error(`request ${r} timed out`))),(0,ue.filter)(i=>i.id===r),(0,ue.take)(1))}authenticate(){const e=(0,$r.ClientMessageHostSession)({id:(0,Gn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ue.map)(n=>{if((0,Cc.isServerMessageFail)(n))throw new Error(n.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,$r.ClientMessageIsLinked)({id:(0,Gn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,$r.ClientMessageGetSessionConfig)({id:(0,Gn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}_o.WalletSDKConnection=qA;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.WalletUIError=void 0;class si extends Error{constructor(e,n){super(e),this.message=e,this.errorCode=n}}So.WalletUIError=si;si.UserRejectedRequest=new si("User rejected request");si.SwitchEthereumChainUnsupportedChainId=new si("Unsupported chainId",4902);var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.decrypt=_r.encrypt=void 0;const GA=Or,Es=Z;async function QA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",(0,Es.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),p=new Uint8Array([...n,...u,...l]);return(0,Es.uint8ArrayToHex)(p)}_r.encrypt=QA;function ZA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new GA.Observable(n=>{(async function(){const r=await crypto.subtle.importKey("raw",(0,Es.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Es.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),c=new Uint8Array([...a,...o]),u={name:"AES-GCM",iv:new Uint8Array(s)};try{const l=await window.crypto.subtle.decrypt(u,r,c),p=new TextDecoder;n.next(p.decode(l)),n.complete()}catch(l){n.error(l)}})()})}_r.decrypt=ZA;var sl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(sl);var Eo={},Co={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Co);Object.defineProperty(Eo,"__esModule",{value:!0});Eo.Web3RequestCanceledMessage=void 0;const KA=Co;function YA(t){return{type:KA.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Eo.Web3RequestCanceledMessage=YA;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.Web3RequestMessage=void 0;const JA=Co;function XA(t){return Object.assign({type:JA.RelayMessageType.WEB3_REQUEST},t)}ko.Web3RequestMessage=XA;var we={};Object.defineProperty(we,"__esModule",{value:!0});we.EthereumAddressFromSignedMessageResponse=we.SubmitEthereumTransactionResponse=we.SignEthereumTransactionResponse=we.SignEthereumMessageResponse=we.isRequestEthereumAccountsResponse=we.SelectProviderResponse=we.WatchAssetReponse=we.RequestEthereumAccountsResponse=we.SwitchEthereumChainResponse=we.AddEthereumChainResponse=we.ErrorResponse=void 0;const Rt=sl;function eI(t,e,n){return{method:t,errorMessage:e,errorCode:n}}we.ErrorResponse=eI;function tI(t){return{method:Rt.Web3Method.addEthereumChain,result:t}}we.AddEthereumChainResponse=tI;function nI(t){return{method:Rt.Web3Method.switchEthereumChain,result:t}}we.SwitchEthereumChainResponse=nI;function rI(t){return{method:Rt.Web3Method.requestEthereumAccounts,result:t}}we.RequestEthereumAccountsResponse=rI;function iI(t){return{method:Rt.Web3Method.watchAsset,result:t}}we.WatchAssetReponse=iI;function sI(t){return{method:Rt.Web3Method.selectProvider,result:t}}we.SelectProviderResponse=sI;function oI(t){return t&&t.method===Rt.Web3Method.requestEthereumAccounts}we.isRequestEthereumAccountsResponse=oI;function aI(t){return{method:Rt.Web3Method.signEthereumMessage,result:t}}we.SignEthereumMessageResponse=aI;function cI(t){return{method:Rt.Web3Method.signEthereumTransaction,result:t}}we.SignEthereumTransactionResponse=cI;function uI(t){return{method:Rt.Web3Method.submitEthereumTransaction,result:t}}we.SubmitEthereumTransactionResponse=uI;function lI(t){return{method:Rt.Web3Method.ethereumAddressFromSignedMessage,result:t}}we.EthereumAddressFromSignedMessageResponse=lI;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.isWeb3ResponseMessage=wr.Web3ResponseMessage=void 0;const nb=Co;function dI(t){return Object.assign({type:nb.RelayMessageType.WEB3_RESPONSE},t)}wr.Web3ResponseMessage=dI;function fI(t){return t&&t.type===nb.RelayMessageType.WEB3_RESPONSE}wr.isWeb3ResponseMessage=fI;var hI=B&&B.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pI=B&&B.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rb=B&&B.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bI=B&&B.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&hI(e,t,n);return pI(e,t),e},gI=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mo,"__esModule",{value:!0});mo.WalletSDKRelay=void 0;const ib=gI(vo),bf=pi,Wr=Or,Re=$s,Ge=Ar,yI=_o,kc=So,mI=wi,_e=Z,Gt=bI(_r),Qt=Ir,zi=_t,De=sl,vI=Eo,_I=ko,et=we,Ze=wr;class vt extends zi.WalletSDKRelayAbstract{constructor(e){var n;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Wr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Wr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:r,ui:i,connection:s}=this.subscribe();if(this._session=r,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(n=e.reloadOnDisconnect)!==null&&n!==void 0?n:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Qt.Session.load(this.storage)||new Qt.Session(this.storage).save(),n=new yI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(n.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(n.incomingEvent$.pipe((0,Re.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(n.linked$.pipe((0,Re.skip)(1),(0,Re.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(zi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Ge.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(n.sessionConfig$.pipe((0,Re.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=n.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(n.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Re.mergeMap)(i=>Gt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(zi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Re.mergeMap)(i=>Gt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(zi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Re.mergeMap)(i=>(0,Wr.zip)(Gt.decrypt(i.metadata.ChainId,e.secret),Gt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Re.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Re.mergeMap)(i=>Gt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),vt.accountRequestCallbackIds.size>0&&(Array.from(vt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ze.Web3ResponseMessage)({id:s,response:(0,et.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),vt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Re.mergeMap)(i=>Gt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const r=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:n.connected$,chainId$:this.dappDefaultChainSubject});return n.connect(),{session:e,ui:r,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Re.timeout)(1e3),(0,Re.catchError)(e=>(0,Wr.of)(null))).subscribe(e=>{var n,r,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(n=this.diagnostic)===null||n===void 0||n.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(r=this.diagnostic)===null||r===void 0||r.log(Ge.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Qt.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Ge.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Qt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Ge.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:De.Web3Method.signEthereumMessage,params:{message:(0,_e.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:De.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,_e.hexStringFromBuffer)(e,!0),signature:(0,_e.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:De.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,_e.bigIntStringFromBN)(e.weiValue),data:(0,_e.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,_e.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,_e.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,_e.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,_e.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:De.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,_e.bigIntStringFromBN)(e.weiValue),data:(0,_e.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,_e.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,_e.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,_e.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,_e.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:De.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,_e.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:De.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,_e.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,n){return this.sendRequest({method:De.Web3Method.generic,params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,_e.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o),n?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,c=>{if(n?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,n){var r;const i=(0,_I.Web3RequestMessage)({id:e,request:n}),s=Qt.Session.load(this.storage);(r=this.diagnostic)===null||r===void 0||r.log(Ge.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Qt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ge.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Qt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const n=(0,vI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",n,!1).subscribe())}publishEvent(e,n,r){const i=this.session.secret;return new Wr.Observable(s=>{Gt.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Re.mergeMap)(s=>this.connection.publishEvent(e,s,r)))}handleIncomingEvent(e){try{this.subscriptions.add(Gt.decrypt(e.data,this.session.secret).pipe((0,Re.map)(n=>JSON.parse(n))).subscribe({next:n=>{const r=(0,Ze.isWeb3ResponseMessage)(n)?n:null;!r||this.handleWeb3ResponseMessage(r)},error:()=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Ge.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var n;const{response:r}=e;if((n=this.diagnostic)===null||n===void 0||n.log(Ge.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),(0,et.isRequestEthereumAccountsResponse)(r)){vt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),vt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r,i){this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:e,response:(0,et.ErrorResponse)(n,(r??kc.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:De.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,_e.randomBytesHex)(8),r=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(n,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,_e.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:n,response:(0,et.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:u})}else{const u=bf.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(u)})}vt.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,e)}),cancel:r}}selectProvider(e){const n={method:De.Web3Method.selectProvider,params:{providerOptions:e}},r=(0,_e.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(r,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:r,response:(0,et.SelectProviderResponse)(mI.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:r,response:(0,et.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,n,r,i,s,o){const a={method:De.Web3Method.watchAsset,params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const u=(0,_e.randomBytesHex)(8),l=d=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,d),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const p=new Promise((d,b)=>{this.relayEventManager.callbacks.set(u,k=>{if(c?.(),k.errorMessage)return b(new Error(k.errorMessage));d(k)});const g=k=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:u,response:(0,et.WatchAssetReponse)(!1)}))},E=()=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:u,response:(0,et.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:E,onCancel:g,type:e,address:n,symbol:r,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:p}}addEthereumChain(e,n,r,i,s,o){const a={method:De.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const u=(0,_e.randomBytesHex)(8),l=d=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,d),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((d,b)=>{this.relayEventManager.callbacks.set(u,k=>{if(c?.(),k.errorMessage)return b(new Error(k.errorMessage));d(k)});const g=k=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:u,response:(0,et.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},E=k=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:u,response:(0,et.AddEthereumChainResponse)({isApproved:!0,rpcUrl:k})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:g,onApprove:E,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,n){const r={method:De.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:n})},i=(0,_e.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,p=>{if(p.errorMessage&&p.errorCode)return c(bf.ethErrors.provider.custom({code:p.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(p.errorMessage)return c(new Error(p.errorMessage));a(p)});const u=p=>{if(typeof p=="number"){const d=p;this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:i,response:(0,et.ErrorResponse)(De.Web3Method.switchEthereumChain,kc.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,d)}))}else p instanceof kc.WalletUIError?this.handleErrorResponse(i,De.Web3Method.switchEthereumChain,p,p.errorCode):this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:i,response:(0,et.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=p=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:i,response:(0,et.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:p})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:r.params.chainId,address:r.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Qt.Session.hash(this._session.id)}sendRequestStandalone(e,n){const r=s=>{this.handleErrorResponse(e,n.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ze.Web3ResponseMessage)({id:e,response:s}))};switch(n.method){case De.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:n,onSuccess:i,onCancel:r});break;case De.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case De.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case De.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:n,onSuccess:i});break;default:r();break}}onSessionConfigChanged(e){}}vt.accountRequestCallbackIds=new Set;rb([ib.default],vt.prototype,"resetAndReload",null);rb([ib.default],vt.prototype,"handleIncomingEvent",null);mo.WalletSDKRelay=vt;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.WalletSDKRelayEventManager=void 0;const wI=Z;class SI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,wI.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}Ao.WalletSDKRelayEventManager=SI;const EI="@coinbase/wallet-sdk",CI="3.6.2",kI="Coinbase Wallet JavaScript SDK",AI=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],II="dist/index.js",MI="dist/index.d.ts",xI="https://github.com/coinbase/coinbase-wallet-sdk.git",TI="Coinbase, Inc.",OI="Apache-2.0",RI={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},NI={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},PI={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},DI={node:">= 10.0.0"},LI={name:EI,version:CI,description:kI,keywords:AI,main:II,types:MI,repository:xI,author:TI,license:OI,scripts:RI,dependencies:NI,devDependencies:PI,engines:DI};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CoinbaseWalletSDK=void 0;const jI=Ps,BI=Ds,FI=ur,$I=no,UI=mo,WI=Ao,HI=Z,VI={}.LINK_API_URL||"https://www.walletlink.org",sb={}.SDK_VERSION||LI.version||"unknown";class Io{constructor(e){var n,r,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||VI;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new $I.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this._overrideIsCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new BI.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Io.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new WI.WalletSDKRelayEventManager,this._relay=new UI.WalletSDKRelay({linkAPIUrl:s,version:sb,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",n=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,n),this._reloadOnDisconnect===!1&&typeof r.disableReloadOnDisconnect=="function"&&r.disableReloadOnDisconnect(),r;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new FI.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:n,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,n){var r;this._appName=e||"DApp",this._appLogoUrl=n||(0,HI.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(r=this._relay)===null||r===void 0||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const n=this.walletExtension;n?n.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,n;return(n=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&n!==void 0?n:null}getCoinbaseWalletLogo(e,n=240){return(0,jI.walletLogo)(e,n)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,n;try{const r=(e=window.ethereum)!==null&&e!==void 0?e:(n=window.top)===null||n===void 0?void 0:n.ethereum;return r&&"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Jr.CoinbaseWalletSDK=Io;Io.VERSION=sb;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Jr,n=ur;var r=Jr;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}});var i=ur;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=n.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=n.CoinbaseWalletProvider)})(X_);var zI={},Mo={},xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.getLowerCase=void 0;function qI(t){return t&&t.toLowerCase()}xo.getLowerCase=qI;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.SafeAppProvider=void 0;const GI=ci.exports,qi=xo;class QI extends GI.EventEmitter{constructor(e,n){super(),this.submittedTxs=new Map,this.safe=e,this.sdk=n}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(e){const{method:n,params:r=[]}=e;switch(n){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return`0x${this.chainId.toString(16)}`;case"personal_sign":{const[c,u]=r;if(this.safe.safeAddress.toLowerCase()!==u.toLowerCase())throw new Error("The address or message hash is invalid");return await this.sdk.txs.signMessage(c),"0x"}case"eth_sign":{const[c,u]=r;if(this.safe.safeAddress.toLowerCase()!==c.toLowerCase()||!u.startsWith("0x"))throw new Error("The address or message hash is invalid");return await this.sdk.txs.signMessage(u),"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[c,u]=r,l=typeof u=="string"?JSON.parse(u):u;if(this.safe.safeAddress.toLowerCase()!==c.toLowerCase())throw new Error("The address is invalid");return await this.sdk.txs.signTypedMessage(l),"0x"}case"eth_sendTransaction":const i=Object.assign({value:"0",data:"0x"},r[0]),s=await this.sdk.txs.send({txs:[i]});return this.submittedTxs.set(s.safeTxHash,{from:this.safe.safeAddress,hash:s.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:i.data,value:i.value,to:i.to,blockHash:null,blockNumber:null,transactionIndex:null}),s.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,qi.getLowerCase)(r[0]),r[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,qi.getLowerCase)(r[0]),r[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,qi.getLowerCase)(r[0]),r[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,qi.getLowerCase)(r[0]),r[1],r[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([r[0],r[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([r[0],r[1]]);case"eth_getTransactionByHash":let a=r[0];try{a=(await this.sdk.txs.getBySafeTxHash(a)).txHash||a}catch{}return this.submittedTxs.has(a)?this.submittedTxs.get(a):this.sdk.eth.getTransactionByHash([a]).then(c=>(c&&(c.hash=r[0]),c));case"eth_getTransactionReceipt":{let c=r[0];try{c=(await this.sdk.txs.getBySafeTxHash(c)).txHash||c}catch{}return this.sdk.eth.getTransactionReceipt([c]).then(u=>(u&&(u.transactionHash=r[0]),u))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(r[0]);case"eth_call":return this.sdk.eth.call([r[0],r[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([r[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(r[0]);default:throw Error(`"${e.method}" not implemented`)}}send(e,n){e||n("Undefined request"),this.request(e).then(r=>n(null,{jsonrpc:"2.0",id:e.id,result:r})).catch(r=>n(r,null))}}Mo.SafeAppProvider=QI;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;var e=Mo;Object.defineProperty(t,"SafeAppProvider",{enumerable:!0,get:function(){return e.SafeAppProvider}})})(zI);var ZI={},Cs={},ob={},Oi={},Ri={};const KI="@gnosis.pm/safe-apps-sdk",YI="7.8.0",JI="SDK developed to integrate third-party apps with Safe app.",XI="dist/src/index.js",e7="dist/src/index.d.ts",t7=["dist/**/*","src/**/*","CHANGELOG.md","README.md"],n7=["Gnosis","sdk","apps"],r7={test:"jest","format-dist":`sed -i '' 's/"files":/"_files":/' dist/package.json`,build:"yarn rimraf dist && tsc && yarn format-dist"},i7="Gnosis (https://gnosis.io)",s7="MIT",o7={"@gnosis.pm/safe-react-gateway-sdk":"^3.1.3",ethers:"^5.6.8"},a7={rimraf:"^3.0.2"},c7={type:"git",url:"git+https://github.com/gnosis/safe-apps-sdk.git"},u7={url:"https://github.com/gnosis/safe-apps-sdk/issues"},l7="https://github.com/gnosis/safe-apps-sdk#readme",d7={access:"public"},f7={name:KI,version:YI,description:JI,main:XI,typings:e7,_files:t7,keywords:n7,scripts:r7,author:i7,license:s7,dependencies:o7,devDependencies:a7,repository:c7,bugs:u7,homepage:l7,publishConfig:d7};var h7=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.getSDKVersion=void 0;const p7=h7(f7),b7=()=>p7.default.version.slice(0,5);Ri.getSDKVersion=b7;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.generateRequestId=void 0;const g7=t=>t.toString(16).padStart(2,"0"),y7=t=>{const e=new Uint8Array((t||40)/2);return window.crypto.getRandomValues(e),Array.from(e,g7).join("")},m7=()=>typeof window<"u"?y7(10):new Date().getTime().toString(36);To.generateRequestId=m7;Object.defineProperty(Oi,"__esModule",{value:!0});Oi.MessageFormatter=void 0;const v7=Ri,_7=To;class Oo{}Oi.MessageFormatter=Oo;Oo.makeRequest=(t,e)=>({id:(0,_7.generateRequestId)(),method:t,params:e,env:{sdkVersion:(0,v7.getSDKVersion)()}});Oo.makeResponse=(t,e,n)=>({id:t,success:!0,version:n,data:e});Oo.makeErrorResponse=(t,e,n)=>({id:t,success:!1,error:e,version:n});var Un={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictedMethods=t.Methods=void 0,function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"}(t.Methods||(t.Methods={})),function(e){e.requestAddressBook="requestAddressBook"}(t.RestrictedMethods||(t.RestrictedMethods={}))})(Un);(function(t){var e=B&&B.__createBinding||(Object.create?function(s,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(s,c,u)}:function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]}),n=B&&B.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(t,"__esModule",{value:!0});const r=Oi;class i{constructor(o=null,a=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:u,source:l})=>{const p=!u,d=!this.isServer&&l===window.parent,g=(typeof u.version<"u"&&parseInt(u.version.split(".")[0]))>=1;let E=!0;return Array.isArray(this.allowedOrigins)&&(E=this.allowedOrigins.find(k=>k.test(c))!==void 0),!p&&d&&g&&E},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:u}=c,l=this.callbacks.get(u);l&&(l(c),this.callbacks.delete(u))},this.send=(c,u)=>{const l=r.MessageFormatter.makeRequest(c,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(l,"*"),new Promise((p,d)=>{this.callbacks.set(l.id,b=>{if(!b.success){d(new Error(b.error));return}p(b)})})},this.allowedOrigins=o,this.debugMode=a,this.isServer||window.addEventListener("message",this.onParentMessage)}}t.default=i,n(Un,t)})(ob);var Ro={},No={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.isObjectEIP712TypedData=void 0;const w7=t=>typeof t=="object"&&t!=null&&"domain"in t&&"types"in t&&"message"in t;Po.isObjectEIP712TypedData=w7;var ab={};Object.defineProperty(ab,"__esModule",{value:!0});var cb={},ub={},Sr={},cn={},S7=B&&B.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(p){o(p)}}function c(l){try{u(r.throw(l))}catch(p){o(p)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},E7=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cn,"__esModule",{value:!0});cn.fetchData=cn.stringifyQuery=cn.insertParams=void 0;const C7=E7(A1.exports),k7=t=>typeof t=="object"&&t!==null&&"code"in t&&"message"in t;function A7(t,e,n){return t.replace(new RegExp(`\\{${e}\\}`,"g"),n)}function I7(t,e){return e?Object.keys(e).reduce((n,r)=>A7(n,r,String(e[r])),t):t}cn.insertParams=I7;function M7(t){if(!t)return"";const e=new URLSearchParams;Object.keys(t).forEach(r=>{t[r]!=null&&e.append(r,String(t[r]))});const n=e.toString();return n?`?${n}`:""}cn.stringifyQuery=M7;function x7(t,e){return S7(this,void 0,void 0,function*(){let n;e!=null&&(n={method:"POST",body:typeof e=="string"?e:JSON.stringify(e),headers:{"Content-Type":"application/json"}});const r=yield(0,C7.default)(t,n);let i;try{i=yield r.json()}catch{if(r.headers&&r.headers.get("content-length")!=="0")throw new Error(`Invalid response content: ${r.statusText}`)}if(!r.ok){const s=k7(i)?`${i.code}: ${i.message}`:r.statusText;throw new Error(s)}return i})}cn.fetchData=x7;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getEndpoint=Sr.postEndpoint=void 0;const oi=cn;function lb(t,e,n,r){const i=(0,oi.insertParams)(e,n),s=(0,oi.stringifyQuery)(r);return`${t}${i}${s}`}function T7(t,e,n){const r=lb(t,e,n?.path,n?.query);return(0,oi.fetchData)(r,n?.body)}Sr.postEndpoint=T7;function O7(t,e,n,r){if(r)return(0,oi.fetchData)(r);const i=lb(t,e,n?.path,n?.query);return(0,oi.fetchData)(i)}Sr.getEndpoint=O7;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.DEFAULT_BASE_URL=void 0;Do.DEFAULT_BASE_URL="https://safe-client.safe.global";var db={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationVersionState=void 0,function(e){e.UP_TO_DATE="UP_TO_DATE",e.OUTDATED="OUTDATED"}(t.ImplementationVersionState||(t.ImplementationVersionState={}))})(db);var fb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppAccessPolicyTypes=void 0,function(e){e.NoRestrictions="NO_RESTRICTIONS",e.DomainAllowlist="DOMAIN_ALLOWLIST"}(t.SafeAppAccessPolicyTypes||(t.SafeAppAccessPolicyTypes={}))})(fb);var hb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelValue=t.DetailedExecutionInfoType=t.TransactionListItemType=t.ConflictType=t.TransactionInfoType=t.SettingsInfoType=t.TransactionTokenType=t.TransferDirection=t.TransactionStatus=t.Operation=void 0,function(e){e[e.CALL=0]="CALL",e[e.DELEGATE=1]="DELEGATE"}(t.Operation||(t.Operation={})),function(e){e.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",e.AWAITING_EXECUTION="AWAITING_EXECUTION",e.CANCELLED="CANCELLED",e.FAILED="FAILED",e.SUCCESS="SUCCESS"}(t.TransactionStatus||(t.TransactionStatus={})),function(e){e.INCOMING="INCOMING",e.OUTGOING="OUTGOING",e.UNKNOWN="UNKNOWN"}(t.TransferDirection||(t.TransferDirection={})),function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_COIN="NATIVE_COIN"}(t.TransactionTokenType||(t.TransactionTokenType={})),function(e){e.SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",e.ADD_OWNER="ADD_OWNER",e.REMOVE_OWNER="REMOVE_OWNER",e.SWAP_OWNER="SWAP_OWNER",e.CHANGE_THRESHOLD="CHANGE_THRESHOLD",e.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",e.ENABLE_MODULE="ENABLE_MODULE",e.DISABLE_MODULE="DISABLE_MODULE",e.SET_GUARD="SET_GUARD",e.DELETE_GUARD="DELETE_GUARD"}(t.SettingsInfoType||(t.SettingsInfoType={})),function(e){e.TRANSFER="Transfer",e.SETTINGS_CHANGE="SettingsChange",e.CUSTOM="Custom",e.CREATION="Creation"}(t.TransactionInfoType||(t.TransactionInfoType={})),function(e){e.NONE="None",e.HAS_NEXT="HasNext",e.END="End"}(t.ConflictType||(t.ConflictType={})),function(e){e.TRANSACTION="TRANSACTION",e.LABEL="LABEL",e.CONFLICT_HEADER="CONFLICT_HEADER",e.DATE_LABEL="DATE_LABEL"}(t.TransactionListItemType||(t.TransactionListItemType={})),function(e){e.MULTISIG="MULTISIG",e.MODULE="MODULE"}(t.DetailedExecutionInfoType||(t.DetailedExecutionInfoType={})),function(e){e.Queued="Queued",e.Next="Next"}(t.LabelValue||(t.LabelValue={}))})(hb);var pb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FEATURES=t.GAS_PRICE_TYPE=t.RPC_AUTHENTICATION=void 0,function(e){e.API_KEY_PATH="API_KEY_PATH",e.NO_AUTHENTICATION="NO_AUTHENTICATION",e.UNKNOWN="UNKNOWN"}(t.RPC_AUTHENTICATION||(t.RPC_AUTHENTICATION={})),function(e){e.ORACLE="ORACLE",e.FIXED="FIXED",e.UNKNOWN="UNKNOWN"}(t.GAS_PRICE_TYPE||(t.GAS_PRICE_TYPE={})),function(e){e.ERC721="ERC721",e.SAFE_APPS="SAFE_APPS",e.CONTRACT_INTERACTION="CONTRACT_INTERACTION",e.DOMAIN_LOOKUP="DOMAIN_LOOKUP",e.SPENDING_LIMIT="SPENDING_LIMIT",e.EIP1559="EIP1559",e.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",e.TX_SIMULATION="TX_SIMULATION"}(t.FEATURES||(t.FEATURES={}))})(pb);var bb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenType=void 0,function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_TOKEN="NATIVE_TOKEN"}(t.TokenType||(t.TokenType={}))})(bb);var gb={};Object.defineProperty(gb,"__esModule",{value:!0});var yb={};Object.defineProperty(yb,"__esModule",{value:!0});var mb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeMessageStatus=t.SafeMessageListItemType=void 0,function(e){e.DATE_LABEL="DATE_LABEL",e.MESSAGE="MESSAGE"}(t.SafeMessageListItemType||(t.SafeMessageListItemType={})),function(e){e.NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",e.CONFIRMED="CONFIRMED"}(t.SafeMessageStatus||(t.SafeMessageStatus={}))})(mb);(function(t){var e=B&&B.__createBinding||(Object.create?function(N,j,G,oe){oe===void 0&&(oe=G);var ye=Object.getOwnPropertyDescriptor(j,G);(!ye||("get"in ye?!j.__esModule:ye.writable||ye.configurable))&&(ye={enumerable:!0,get:function(){return j[G]}}),Object.defineProperty(N,oe,ye)}:function(N,j,G,oe){oe===void 0&&(oe=G),N[oe]=j[G]}),n=B&&B.__exportStar||function(N,j){for(var G in N)G!=="default"&&!Object.prototype.hasOwnProperty.call(j,G)&&e(j,N,G)};Object.defineProperty(t,"__esModule",{value:!0}),t.confirmSafeMessage=t.proposeSafeMessage=t.getSafeMessage=t.getSafeMessages=t.getDecodedData=t.getMasterCopies=t.getSafeApps=t.getChainConfig=t.getChainsConfig=t.proposeTransaction=t.postSafeGasEstimation=t.getTransactionDetails=t.getTransactionQueue=t.getTransactionHistory=t.getCollectiblesPage=t.getCollectibles=t.getOwnedSafes=t.getFiatCurrencies=t.getBalances=t.getMultisigTransactions=t.getModuleTransactions=t.getIncomingTransfers=t.getSafeInfo=t.setBaseUrl=void 0;const r=Sr,i=Do;n(db,t),n(fb,t),n(hb,t),n(pb,t),n(bb,t),n(gb,t),n(yb,t),n(mb,t);let s=i.DEFAULT_BASE_URL;const o=N=>{s=N};t.setBaseUrl=o;function a(N,j){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:N,address:j}})}t.getSafeInfo=a;function c(N,j,G,oe){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:N,address:j},query:G},oe)}t.getIncomingTransfers=c;function u(N,j,G,oe){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:N,address:j},query:G},oe)}t.getModuleTransactions=u;function l(N,j,G,oe){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:N,address:j},query:G},oe)}t.getMultisigTransactions=l;function p(N,j,G="usd",oe={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:N,address:j,currency:G},query:oe})}t.getBalances=p;function d(){return(0,r.getEndpoint)(s,"/v1/balances/supported-fiat-codes")}t.getFiatCurrencies=d;function b(N,j){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:N,address:j}})}t.getOwnedSafes=b;function g(N,j,G={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:N,address:j},query:G})}t.getCollectibles=g;function E(N,j,G={},oe){return(0,r.getEndpoint)(s,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:N,address:j},query:G},oe)}t.getCollectiblesPage=E;function k(N,j,G){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:N,safe_address:j},query:{}},G)}t.getTransactionHistory=k;function S(N,j,G,oe){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:N,safe_address:j},query:{trusted:oe}},G)}t.getTransactionQueue=S;function w(N,j){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:N,transactionId:j}})}t.getTransactionDetails=w;function A(N,j,G){return(0,r.postEndpoint)(s,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:N,safe_address:j},body:G})}t.postSafeGasEstimation=A;function M(N,j,G){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:N,safe_address:j},body:G})}t.proposeTransaction=M;function $(N){return(0,r.getEndpoint)(s,"/v1/chains",{query:N})}t.getChainsConfig=$;function z(N){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}",{path:{chainId:N}})}t.getChainConfig=z;function q(N,j={}){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safe-apps",{path:{chainId:N},query:j})}t.getSafeApps=q;function H(N){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:N}})}t.getMasterCopies=H;function U(N,j){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/data-decoder",{path:{chainId:N},body:{data:j}})}t.getDecodedData=U;function ce(N,j,G){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:N,safe_address:j},query:{}},G)}t.getSafeMessages=ce;function Y(N,j){return(0,r.getEndpoint)(s,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:N,message_hash:j}})}t.getSafeMessage=Y;function Q(N,j,G){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:N,safe_address:j},body:G})}t.proposeSafeMessage=Q;function J(N,j,G){return(0,r.postEndpoint)(s,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:N,message_hash:j},body:G})}t.confirmSafeMessage=J})(ub);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransferDirection=t.TransactionStatus=t.TokenType=t.Operation=void 0;var e=ub;Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return e.Operation}}),Object.defineProperty(t,"TokenType",{enumerable:!0,get:function(){return e.TokenType}}),Object.defineProperty(t,"TransactionStatus",{enumerable:!0,get:function(){return e.TransactionStatus}}),Object.defineProperty(t,"TransferDirection",{enumerable:!0,get:function(){return e.TransferDirection}})})(cb);var vb={};Object.defineProperty(vb,"__esModule",{value:!0});(function(t){var e=B&&B.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=B&&B.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Po,t),n(ab,t),n(cb,t),n(vb,t)})(No);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.TXs=void 0;const Gi=Un,R7=No;class N7{constructor(e){this.communicator=e}async getBySafeTxHash(e){if(!e)throw new Error("Invalid safeTxHash");return(await this.communicator.send(Gi.Methods.getTxBySafeTxHash,{safeTxHash:e})).data}async signMessage(e){const n={message:e};return(await this.communicator.send(Gi.Methods.signMessage,n)).data}async signTypedMessage(e){if(!(0,R7.isObjectEIP712TypedData)(e))throw new Error("Invalid typed data");return(await this.communicator.send(Gi.Methods.signTypedMessage,{typedData:e})).data}async send({txs:e,params:n}){if(!e||!e.length)throw new Error("No transactions were passed");const r={txs:e,params:n};return(await this.communicator.send(Gi.Methods.sendTransactions,r)).data}}Ro.TXs=N7;var Lo={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.RPC_CALLS=void 0;Ni.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas"};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Eth=void 0;const ot=Ni,P7=Un,Pt={defaultBlockParam:(t="latest")=>t,returnFullTxObjectParam:(t=!1)=>t,blockNumberToHex:t=>Number.isInteger(t)?`0x${t.toString(16)}`:t};class D7{constructor(e){this.communicator=e,this.call=this.buildRequest({call:ot.RPC_CALLS.eth_call,formatters:[null,Pt.defaultBlockParam]}),this.getBalance=this.buildRequest({call:ot.RPC_CALLS.eth_getBalance,formatters:[null,Pt.defaultBlockParam]}),this.getCode=this.buildRequest({call:ot.RPC_CALLS.eth_getCode,formatters:[null,Pt.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:ot.RPC_CALLS.eth_getStorageAt,formatters:[null,Pt.blockNumberToHex,Pt.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:ot.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:ot.RPC_CALLS.eth_getBlockByHash,formatters:[null,Pt.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:ot.RPC_CALLS.eth_getBlockByNumber,formatters:[Pt.blockNumberToHex,Pt.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:ot.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:ot.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:ot.RPC_CALLS.eth_getTransactionCount,formatters:[null,Pt.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:ot.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=n=>this.buildRequest({call:ot.RPC_CALLS.eth_estimateGas})([n])}buildRequest(e){const{call:n,formatters:r}=e;return async i=>{r&&Array.isArray(i)&&r.forEach((a,c)=>{a&&(i[c]=a(i[c]))});const s={call:n,params:i||[]};return(await this.communicator.send(P7.Methods.rpcCall,s)).data}}}Lo.Eth=D7;var jo={};const _b=ke(X1);var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.MAGIC_VALUE_BYTES=Ot.MAGIC_VALUE=Ot.EIP_1271_BYTES_INTERFACE=Ot.EIP_1271_INTERFACE=void 0;const wb=_b,L7="0x1626ba7e";Ot.MAGIC_VALUE=L7;const j7="0x20c13b0b";Ot.MAGIC_VALUE_BYTES=j7;const B7=new wb.ethers.utils.Interface(["function isValidSignature(bytes32 _dataHash, bytes calldata _signature) external view"]);Ot.EIP_1271_INTERFACE=B7;const F7=new wb.ethers.utils.Interface(["function isValidSignature(bytes calldata _data, bytes calldata _signature) public view"]);Ot.EIP_1271_BYTES_INTERFACE=F7;var ol={},Pi={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.PermissionsError=Dn.PERMISSIONS_REQUEST_REJECTED=void 0;Dn.PERMISSIONS_REQUEST_REJECTED=4001;class al extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r,Object.setPrototypeOf(this,al.prototype)}}Dn.PermissionsError=al;Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Wallet=void 0;const Ac=Un,Qi=Dn;class $7{constructor(e){this.communicator=e}async getPermissions(){return(await this.communicator.send(Ac.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(e){if(!this.isPermissionRequestValid(e))throw new Qi.PermissionsError("Permissions request is invalid",Qi.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(Ac.Methods.wallet_requestPermissions,e)).data}catch{throw new Qi.PermissionsError("Permissions rejected",Qi.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(e){return e.every(n=>typeof n=="object"?Object.keys(n).every(r=>!!Object.values(Ac.RestrictedMethods).includes(r)):!1)}}Pi.Wallet=$7;Object.defineProperty(ol,"__esModule",{value:!0});const U7=Pi,gf=Dn,yf=(t,e)=>e.some(n=>n.parentCapability===t),W7=()=>(t,e,n)=>{const r=n.value;return n.value=async function(){const i=new U7.Wallet(this.communicator);let s=await i.getPermissions();if(yf(e,s)||(s=await i.requestPermissions([{[e]:{}}])),!yf(e,s))throw new gf.PermissionsError("Permissions rejected",gf.PERMISSIONS_REQUEST_REJECTED);return r.apply(this)},n};ol.default=W7;var H7=B&&B.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},V7=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jo,"__esModule",{value:!0});jo.Safe=void 0;const Ic=_b,Zi=Ot,wn=Un,mf=Ni,z7=No,q7=V7(ol);class Sb{constructor(e){this.communicator=e}async getChainInfo(){return(await this.communicator.send(wn.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(wn.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:e="usd"}={}){return(await this.communicator.send(wn.Methods.getSafeBalances,{currency:e})).data}async check1271Signature(e,n="0x"){const r=await this.getInfo(),i=Zi.EIP_1271_INTERFACE.encodeFunctionData("isValidSignature",[e,n]),s={call:mf.RPC_CALLS.eth_call,params:[{to:r.safeAddress,data:i},"latest"]};try{return(await this.communicator.send(wn.Methods.rpcCall,s)).data.slice(0,10).toLowerCase()===Zi.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(e,n="0x"){const r=await this.getInfo(),i=Ic.ethers.utils.arrayify(e),s=Zi.EIP_1271_BYTES_INTERFACE.encodeFunctionData("isValidSignature",[i,n]),o={call:mf.RPC_CALLS.eth_call,params:[{to:r.safeAddress,data:s},"latest"]};try{return(await this.communicator.send(wn.Methods.rpcCall,o)).data.slice(0,10).toLowerCase()===Zi.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(e){return Ic.ethers.utils.hashMessage(e)}calculateTypedMessageHash(e){return Ic.ethers.utils._TypedDataEncoder.hash(e.domain,e.types,e.message)}async isMessageSigned(e,n="0x"){let r;if(typeof e=="string"&&(r=async()=>{const i=this.calculateMessageHash(e);return await this.isMessageHashSigned(i,n)}),(0,z7.isObjectEIP712TypedData)(e)&&(r=async()=>{const i=this.calculateTypedMessageHash(e);return await this.isMessageHashSigned(i,n)}),r)return await r();throw new Error("Invalid message type")}async isMessageHashSigned(e,n="0x"){const r=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const i of r)if(await i(e,n))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(wn.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(wn.Methods.requestAddressBook,void 0)).data}}H7([(0,q7.default)()],Sb.prototype,"requestAddressBook",null);jo.Safe=Sb;var G7=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});const Q7=G7(ob),Z7=Ro,K7=Lo,Y7=jo,J7=Pi;class X7{constructor(e={}){const{allowedDomains:n=null,debug:r=!1}=e;this.communicator=new Q7.default(n,r),this.eth=new K7.Eth(this.communicator),this.txs=new Z7.TXs(this.communicator),this.safe=new Y7.Safe(this.communicator),this.wallet=new J7.Wallet(this.communicator)}}Cs.default=X7;(function(t){var e=B&&B.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var l=Object.getOwnPropertyDescriptor(a,c);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,l)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),n=B&&B.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)},r=B&&B.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const i=r(Cs);t.default=i.default,n(Cs,t),n(No,t),n(Un,t),n(Oi,t);var s=Ri;Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return s.getSDKVersion}})})(ZI);var an;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli"})(an||(an={}));an.Mainnet+"",an.Goerli+"";const eM={[an.Mainnet]:{chainId:"0x"+an.Mainnet.toString(16),chainName:"Mainnet",rpcUrls:["https://cloudflare-eth.com","https://rpc.ankr.com/eth","https://main-rpc.linkpool.io"],blockExplorerUrls:["https://etherscan.io"],nativeCurrency:{symbol:"ETH",decimals:18}},[an.Goerli]:{chainId:"0x"+an.Goerli.toString(16),chainName:"Goerli",rpcUrls:["https://goerli.optimism.io"],blockExplorerUrls:["https://goerli.etherscan.io"],nativeCurrency:{symbol:"ETH",decimals:18}}};var tM="ERC20",nM=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],rM="0x608060405234801561001057600080fd5b506105dd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a5576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007857806370a0823114610166578063a457c2d71461018c578063a9059cbb146101b8578063dd62ed3e146101e4576100a5565b8063095ea7b3146100aa57806318160ddd146100ea57806323b872dd14610104578063395093511461013a575b600080fd5b6100d6600480360360408110156100c057600080fd5b50600160a060020a038135169060200135610212565b604080519115158252519081900360200190f35b6100f2610290565b60408051918252519081900360200190f35b6100d66004803603606081101561011a57600080fd5b50600160a060020a03813581169160208101359091169060400135610296565b6100d66004803603604081101561015057600080fd5b50600160a060020a03813516906020013561035f565b6100f26004803603602081101561017c57600080fd5b5035600160a060020a031661040f565b6100d6600480360360408110156101a257600080fd5b50600160a060020a03813516906020013561042a565b6100d6600480360360408110156101ce57600080fd5b50600160a060020a038135169060200135610475565b6100f2600480360360408110156101fa57600080fd5b50600160a060020a038135811691602001351661048b565b6000600160a060020a038316151561022957600080fd5b336000818152600160209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b600160a060020a03831660009081526001602090815260408083203384529091528120546102ca908363ffffffff6104b616565b600160a060020a03851660009081526001602090815260408083203384529091529020556102f98484846104cb565b600160a060020a0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b6000600160a060020a038316151561037657600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff61059816565b336000818152600160209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a031660009081526020819052604090205490565b6000600160a060020a038316151561044157600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff6104b616565b60006104823384846104cb565b50600192915050565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b6000828211156104c557600080fd5b50900390565b600160a060020a03821615156104e057600080fd5b600160a060020a038316600090815260208190526040902054610509908263ffffffff6104b616565b600160a060020a03808516600090815260208190526040808220939093559084168152205461053e908263ffffffff61059816565b600160a060020a038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000828201838110156105aa57600080fd5b939250505056fea165627a7a72305820722c0187518ce2856a424bdba350d5a263c8f98fcb19cb4cc161372bc3b794c90029",iM="0x608060405234801561001057600080fd5b50600436106100a5576000357c01000000000000000000000000000000000000000000000000000000009004806370a082311161007857806370a0823114610166578063a457c2d71461018c578063a9059cbb146101b8578063dd62ed3e146101e4576100a5565b8063095ea7b3146100aa57806318160ddd146100ea57806323b872dd14610104578063395093511461013a575b600080fd5b6100d6600480360360408110156100c057600080fd5b50600160a060020a038135169060200135610212565b604080519115158252519081900360200190f35b6100f2610290565b60408051918252519081900360200190f35b6100d66004803603606081101561011a57600080fd5b50600160a060020a03813581169160208101359091169060400135610296565b6100d66004803603604081101561015057600080fd5b50600160a060020a03813516906020013561035f565b6100f26004803603602081101561017c57600080fd5b5035600160a060020a031661040f565b6100d6600480360360408110156101a257600080fd5b50600160a060020a03813516906020013561042a565b6100d6600480360360408110156101ce57600080fd5b50600160a060020a038135169060200135610475565b6100f2600480360360408110156101fa57600080fd5b50600160a060020a038135811691602001351661048b565b6000600160a060020a038316151561022957600080fd5b336000818152600160209081526040808320600160a060020a03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b600160a060020a03831660009081526001602090815260408083203384529091528120546102ca908363ffffffff6104b616565b600160a060020a03851660009081526001602090815260408083203384529091529020556102f98484846104cb565b600160a060020a0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b6000600160a060020a038316151561037657600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff61059816565b336000818152600160209081526040808320600160a060020a0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b600160a060020a031660009081526020819052604090205490565b6000600160a060020a038316151561044157600080fd5b336000908152600160209081526040808320600160a060020a03871684529091529020546103aa908363ffffffff6104b616565b60006104823384846104cb565b50600192915050565b600160a060020a03918216600090815260016020908152604080832093909416825291909152205490565b6000828211156104c557600080fd5b50900390565b600160a060020a03821615156104e057600080fd5b600160a060020a038316600090815260208190526040902054610509908263ffffffff6104b616565b600160a060020a03808516600090815260208190526040808220939093559084168152205461053e908263ffffffff61059816565b600160a060020a038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6000828201838110156105aa57600080fd5b939250505056fea165627a7a72305820722c0187518ce2856a424bdba350d5a263c8f98fcb19cb4cc161372bc3b794c90029",sM={name:"solc",version:"0.5.4+commit.9549d8ff.Emscripten.clang"},oM={contractName:tM,abi:nM,bytecode:rM,deployedBytecode:iM,compiler:sM};new We(oM.abi);const Mc=ht(!1);function aM(){return{boardOpen:Mc,open:()=>{Mc.value=!0},close:()=>{Mc.value=!1}}}function Ne(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(p){o(p)}}function c(l){try{u(r.throw(l))}catch(p){o(p)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function de(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Zt(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}class cM extends Error{constructor(e,n,r,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,this.data=i,this.internal=r}}class Eb extends cM{constructor(e,n,r,i){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r,i)}}class uM extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}}class Kt extends Error{constructor(){super(...arguments),this.name="ProviderNotFoundError",this.message="Provider not found"}}class vf extends Error{constructor(){super(...arguments),this.name="AddChainError",this.message="Error adding chain"}}class lM extends Eb{constructor(e){super(4902,e.message),this.name="SwitchChainError"}}class _f extends Eb{constructor(e){super(4001,e.message),this.name="UserRejectedRequestError"}}class xc extends Error{constructor(e){super(),this.name="ActivateEthersError",this.message="Failed to load wallet data",e&&(this.message=this.message+": "+e)}}class wf extends Error{constructor(e){super(e),this.name="ConnectError"}}class dM extends Error{constructor(e){super(e),this.name="AutoConnectError"}}class fM{constructor(e){this.options=e}}const cl=ht(!1),Bo=ht(null),An=ht(null),ks=ht(null),ul=ht(""),ll=ht(""),As=ht(BigInt(0));let su;const hM=ht(Object.assign({},eM)),pM=()=>{clearInterval(su),cl.value=!1,Bo.value=null,An.value=null,ks.value=null,ul.value="",ll.value="",As.value=BigInt(0)};function bM(t){return Ne(this,void 0,void 0,function*(){if(!t)throw new xc("provider not found");const e=new N1(t),n=e.getSigner();let r=null,i="",s=Is.from(0);[r,i,s]=yield a();function a(u=5e3){return Ne(this,void 0,void 0,function*(){return Promise.race([Promise.all([e.getNetwork(),n.getAddress(),n.getBalance()]),new Promise((l,p)=>setTimeout(()=>{p(new xc("Operation timed out"))},u))])})}Bo.value=as(e),An.value=as(n),ks.value=r,ul.value=i,As.value=s.toBigInt();try{ll.value=yield Cb(r?.chainId,i)}catch{throw new xc("Failed to look up DNS")}clearInterval(su),((u=1e4)=>Ne(this,void 0,void 0,function*(){su=setInterval(()=>Ne(this,void 0,void 0,function*(){if(!!An.value)try{const l=yield An?.value.getBalance();As.value=l.toBigInt()}catch{throw new Error("Failed to update balance")}}),u)}))(),cl.value=!0})}function Cb(t,e,n){var r;return Ne(this,void 0,void 0,function*(){try{switch(t){case 1:case 3:case 4:case 5:return(yield(r=n||Bo.value)===null||r===void 0?void 0:r.lookupAddress(e))||"";default:return""}}catch{return""}})}function cr(){const t=qf(()=>{var e;return(e=ks.value)===null||e===void 0?void 0:e.chainId});return{isActivated:cl,provider:Bo,signer:An,network:ks,address:ul,dnsAlias:ll,balance:As,availableNetworks:hM,chainId:t,activate:bM,deactivate:pM,lookupDNS:Cb}}function gM(t){if(typeof t=="string"){const e=t.trim().substring(0,2);return Number.parseInt(t,e==="0x"?16:10)}return t}var Ct,je,Yt,Jt,Xt,Sn,ou;class yM extends fM{constructor(e={}){super(e),Ct.add(this),this.name="metaMask",je.set(this,void 0),Yt.set(this,void 0),Jt.set(this,void 0),Xt.set(this,void 0)}static checkConnection(){return Ne(this,void 0,void 0,function*(){return!!(typeof window<"u"&&!!window.ethereum&&window.ethereum.selectedAddress)})}connect(){var e,n;return Ne(this,void 0,void 0,function*(){let r=yield this.getProvider();return(((e=r?.providers)===null||e===void 0?void 0:e.length)||0)>1&&(r=((n=r?.providers)===null||n===void 0?void 0:n.find(a=>a.isMetaMask))||r),Zt(this,je,r,"f"),{account:(yield de(this,je,"f").request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]}))[0],provider:r}})}getProvider(){return Ne(this,void 0,void 0,function*(){if(typeof window<"u"&&!!window.ethereum)return window.ethereum;throw this.options.appUrl&&window.open(`https://metamask.app.link/dapp/${this.options.appUrl}`,"_blank"),new Kt})}disconnect(){return Ne(this,void 0,void 0,function*(){if(!de(this,je,"f"))throw new Kt;de(this,Yt,"f")&&de(this,Ct,"m",Sn).call(this,"disconnect",de(this,Yt,"f")),de(this,Jt,"f")&&de(this,Ct,"m",Sn).call(this,"accountsChanged",de(this,Jt,"f")),de(this,Xt,"f")&&de(this,Ct,"m",Sn).call(this,"chainChanged",de(this,Xt,"f")),Zt(this,je,void 0,"f"),Zt(this,Yt,void 0,"f"),Zt(this,Jt,void 0,"f"),Zt(this,Xt,void 0,"f")})}onDisconnect(e){if(!de(this,je,"f"))throw new Kt;de(this,Yt,"f")&&de(this,Ct,"m",Sn).call(this,"disconnect",de(this,Yt,"f")),Zt(this,Yt,e,"f"),de(this,je,"f").on("disconnect",e)}onAccountsChanged(e){if(!de(this,je,"f"))throw new Kt;de(this,Jt,"f")&&de(this,Ct,"m",Sn).call(this,"accountsChanged",de(this,Jt,"f")),Zt(this,Jt,e,"f"),de(this,je,"f").on("accountsChanged",e)}onChainChanged(e){if(!de(this,je,"f"))throw new Kt;de(this,Xt,"f")&&de(this,Ct,"m",Sn).call(this,"chainChanged",de(this,Xt,"f")),Zt(this,Xt,e,"f"),de(this,je,"f").on("chainChanged",n=>{const r=gM(n);e(r)})}switchChain(e){return Ne(this,void 0,void 0,function*(){if(!de(this,je,"f"))throw new Kt;const n=hh.hexValue(e),{availableNetworks:r}=cr(),i=JSON.parse(JSON.stringify(r.value));try{yield de(this,je,"f").request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch(s){if(s.code===4902)try{yield this.addChain(i[e])}catch(o){throw de(this,Ct,"m",ou).call(this,o)?new _f(o):new vf}throw de(this,Ct,"m",ou).call(this,s)?new _f(s):new lM(s)}})}addChain(e){return Ne(this,void 0,void 0,function*(){if(!de(this,je,"f"))throw new Kt;try{de(this,je,"f").request({method:"wallet_addEthereumChain",params:[e]})}catch{throw new vf}})}}je=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,Ct=new WeakSet,Sn=function(e,n){if(!de(this,je,"f"))throw new Kt;de(this,je,"f").removeListener(e,n)},ou=function(e){return/(user rejected)/i.test(e.message)};const kb=typeof window>"u",mM=!kb&&window?.parent!==window,vM=()=>!(!kb&&mM),be=Vf({connector:null,provider:null,error:"",status:"none"}),Tc=ht(!0),Dt=Vf({onDisconnectCallback:null,onAccountsChangedCallback:null,onChainChangedCallback:null});function _M(t={useEthers:!0}){const e=()=>{if(be.connector=null,be.provider=null,be.error="",be.status="none",t.useEthers){const{deactivate:u}=cr();u()}};function n(){return Ne(this,void 0,void 0,function*(){const{activate:u}=cr();be.status="loading";try{be.provider?(yield u(be.provider),be.status="connected"):be.status="none"}catch(l){throw e(),be.error=l.message,new Error(l)}})}function r(u){return Ne(this,void 0,void 0,function*(){be.error="",be.status="connecting";try{if(!u)throw new uM;const{provider:l}=yield u.connect();be.connector=as(u),be.provider=as(l)}catch(l){throw yield i(),be.error=l.message,new wf(l)}be.status="loading";try{if(t.useEthers){const{activate:l}=cr();yield l(be.provider)}}catch(l){throw yield i(),be.error=l.message,new wf(l)}be.status="connected",localStorage.removeItem("hasDisconnected"),be.connector&&be.connector.onDisconnect((...l)=>{var p;Dt.onDisconnectCallback&&Dt.onDisconnectCallback(...l),((p=be.connector)===null||p===void 0?void 0:p.name)!=="metaMask"&&i()}),be.connector&&be.connector.onAccountsChanged(l=>Ne(this,void 0,void 0,function*(){Dt.onAccountsChangedCallback&&Dt.onAccountsChangedCallback(l),t.useEthers&&(yield n())})),be.connector&&be.connector.onChainChanged(l=>Ne(this,void 0,void 0,function*(){Dt.onChainChangedCallback&&Dt.onChainChangedCallback(l),t.useEthers&&(yield n())}))})}function i(){return Ne(this,void 0,void 0,function*(){if(be.connector)try{yield be.connector.disconnect()}catch(u){throw e(),new Error(u)}e(),Tc.value&&localStorage.setItem("hasDisconnected","true")})}function s(u){return Ne(this,void 0,void 0,function*(){if(Tc.value&&localStorage.getItem("hasDisconnected"))return;const l=u.find(d=>d.name==="safe");if(l&&!vM)try{(yield l.isSafeApp())&&(yield r(l))}catch{throw new Error("Failed to connect Gnosis Safe")}const p=u.find(d=>d.name==="metaMask");if(p)try{(yield yM.checkConnection())&&(yield r(p))}catch(d){throw new dM(d)}})}function o(u){Dt.onDisconnectCallback=u}function a(u){Dt.onAccountsChangedCallback=u}function c(u){Dt.onChainChangedCallback=u}return{wallet:be,persistDisconnect:Tc,connectWith:r,disconnect:i,autoConnect:s,onDisconnect:o,onAccountsChanged:a,onChainChanged:c}}cr();var Fo=zf({emits:["close"],props:{dark:{type:Boolean,required:!1,default:!1},modalOpen:{type:Boolean,required:!0}},setup(t,{emit:e}){const n=ht(t.dark?"modal-inner--dark":"modal-inner"),r=()=>{e("close")};return I1(()=>t.modalOpen,i=>{i?document.body.style.overflow="hidden":document.body.style.overflow=""}),{modalInnerClass:n,closeModal:r}}});const wM={key:0,class:"modal"},SM={class:"modal-content"};function EM(t,e,n,r,i,s){return R(),at(T1,{to:"body"},[Ce(x1,{name:"modal-animation"},{default:nr(()=>[t.modalOpen?(R(),L("div",wM,[v("div",{class:tr(t.modalInnerClass)},[v("div",SM,[F(" Modal Content "),Oc(t.$slots,"default")])],2)])):F("v-if",!0)]),_:3})])}function dl(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var CM=`
.modal[data-v-701ac82d] {
  position: fixed;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  min-width: 100%;
  height: 100%;
  background-color: rgba(107, 114, 128, 0.7);
  left: 0px;
  top: 0px;
  z-index: 50;
}
.modal-inner[data-v-701ac82d] {
  display: flex;
  background: #ffffff;
  border-radius: 1rem;
  box-shadow: rgba(255, 255, 255, 0.1) 0px 1px 1px 0px inset,
    rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,
    rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;
}
.modal-inner--dark[data-v-701ac82d] {
  display: flex;
  color: rgb(199, 199, 199);
  background: #273138;
  border-radius: 1rem;
  box-shadow: rgba(255, 255, 255, 0.1) 0px 1px 1px 0px inset,
    rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,
    rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;
}
.modal-animation-enter-active[data-v-701ac82d],
.modal-animation-leave-active[data-v-701ac82d] {
  transition: opacity 0.3s cubic-bezier(0.52, 0.02, 0.19, 1.02);
}
.modal-animation-enter-from[data-v-701ac82d],
.modal-animation-leave-to[data-v-701ac82d] {
  opacity: 0;
}
`;dl(CM);Fo.render=EM;Fo.__scopeId="data-v-701ac82d";Fo.__file="src/components/Modal.vue";const kM=t=>(Qf("data-v-04a0d67a"),t=t(),Zf(),t),AM={class:"modal"},IM=kM(()=>v("div",{class:"lds-ripple"},[v("div"),v("div")],-1)),MM=[IM];function xM(t,e){return R(),L("div",AM,MM)}var TM=`
.modal[data-v-04a0d67a] {
  position: fixed;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  min-width: 100%;
  height: 100%;
  background-color: rgba(107, 114, 128, 0.7);
  left: 0px;
  top: 0px;
  z-index: 50;
}
.lds-ripple[data-v-04a0d67a] {
  display: inline-block;
  position: relative;
  width: 80px;
  height: 80px;
}
.lds-ripple div[data-v-04a0d67a] {
  position: absolute;
  border: 4px solid #fff;
  opacity: 1;
  border-radius: 50%;
  animation: lds-ripple-04a0d67a 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;
}
.lds-ripple div[data-v-04a0d67a]:nth-child(2) {
  animation-delay: -0.5s;
}
@keyframes lds-ripple-04a0d67a {
0% {
    top: 36px;
    left: 36px;
    width: 0;
    height: 0;
    opacity: 0;
}
4.9% {
    top: 36px;
    left: 36px;
    width: 0;
    height: 0;
    opacity: 0;
}
5% {
    top: 36px;
    left: 36px;
    width: 0;
    height: 0;
    opacity: 1;
}
100% {
    top: 0px;
    left: 0px;
    width: 72px;
    height: 72px;
    opacity: 0;
}
}
`;dl(TM);const $o={};$o.render=xM;$o.__scopeId="data-v-04a0d67a";$o.__file="src/components/Loader.vue";const OM={height:"246",viewBox:"0 0 400 246",width:"400",xmlns:"http://www.w3.org/2000/svg"},RM=v("path",{d:"m81.9180572 48.3416816c65.2149658-63.8508884 170.9493158-63.8508884 236.1642788 0l7.848727 7.6845565c3.260748 3.1925442 3.260748 8.3686816 0 11.5612272l-26.848927 26.2873374c-1.630375 1.5962734-4.273733 1.5962734-5.904108 0l-10.800779-10.5748639c-45.495589-44.5439756-119.258514-44.5439756-164.754105 0l-11.566741 11.3248068c-1.630376 1.5962721-4.273735 1.5962721-5.904108 0l-26.8489263-26.2873375c-3.2607483-3.1925456-3.2607483-8.3686829 0-11.5612272zm291.6903948 54.3649934 23.895596 23.395862c3.260732 3.19253 3.260751 8.368636.000041 11.561187l-107.746894 105.494845c-3.260726 3.192568-8.547443 3.192604-11.808214.000083-.000013-.000013-.000029-.000029-.000042-.000043l-76.472191-74.872762c-.815187-.798136-2.136867-.798136-2.952053 0-.000006.000005-.00001.00001-.000015.000014l-76.470562 74.872708c-3.260715 3.192576-8.547434 3.19263-11.808215.000116-.000019-.000018-.000039-.000037-.000059-.000058l-107.74989297-105.496247c-3.26074695-3.192544-3.26074695-8.368682 0-11.561226l23.89563947-23.395823c3.260747-3.1925446 8.5474652-3.1925446 11.8082136 0l76.4733029 74.873809c.815188.798136 2.136866.798136 2.952054 0 .000012-.000012.000023-.000023.000035-.000032l76.469471-74.873777c3.260673-3.1926181 8.547392-3.1927378 11.808214-.000267.000046.000045.000091.00009.000135.000135l76.473203 74.873909c.815186.798135 2.136866.798135 2.952053 0l76.471967-74.872433c3.260748-3.1925458 8.547465-3.1925458 11.808213 0z",fill:"#3b99fc"},null,-1),NM=[RM];function PM(t,e){return R(),L("svg",OM,NM)}const fl={};fl.render=PM;fl.__file="src/components/logos/WalletConnect.vue";const DM={height:"355",viewBox:"0 0 397 355",width:"397",xmlns:"http://www.w3.org/2000/svg"},LM=Gf('<g fill="none" fill-rule="evenodd" transform="translate(-1 -1)"><path d="m114.622644 327.195472 52.004717 13.810198v-18.05949l4.245283-4.249292h29.716982v21.246459 14.872523h-31.839624l-39.268868-16.997169z" fill="#cdbdb2"></path><path d="m199.528305 327.195472 50.943397 13.810198v-18.05949l4.245283-4.249292h29.716981v21.246459 14.872523h-31.839623l-39.268868-16.997169z" fill="#cdbdb2" transform="matrix(-1 0 0 1 483.96227 0)"></path><path d="m170.872644 287.889523-4.245283 35.056657 5.306604-4.249292h55.18868l6.367925 4.249292-4.245284-35.056657-8.490565-5.311615-42.452832 1.062323z" fill="#393939"></path><path d="m142.216984 50.9915022 25.471698 59.4900858 11.674528 173.158643h41.391511l12.735849-173.158643 23.349056-59.4900858z" fill="#f89c35"></path><path d="m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z" fill="#f89d35"></path><path d="m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z" fill="#d87c30"></path><path d="m87.0283032 192.280457 36.0849058 33.994334v33.994334z" fill="#ea8d3a"></path><path d="m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z" fill="#f89d35"></path><path d="m123.113209 261.331448-8.490565 65.864024 56.25-39.305949z" fill="#eb8f35"></path><path d="m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z" fill="#ea8e3a"></path><path d="m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z" fill="#d87c30"></path><path d="m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z" fill="#eb8f35"></path><path d="m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z" fill="#e8821e"></path><path d="m114.622644 327.195472 56.25-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z" fill="#dfcec3"></path><path d="m229.245286 327.195472 55.18868-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z" fill="#dfcec3" transform="matrix(-1 0 0 1 513.679252 0)"></path><path d="m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z" fill="#393939" transform="matrix(-1 0 0 1 283.372646 0)"></path><path d="m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z" fill="#e88f35"></path><path d="m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z" fill="#8e5a30"></path><g transform="matrix(-1 0 0 1 399.056611 0)"><path d="m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z" fill="#f89d35"></path><path d="m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z" fill="#d87c30"></path><path d="m87.0283032 192.280457 36.0849058 33.994334v33.994334z" fill="#ea8d3a"></path><path d="m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z" fill="#f89d35"></path><path d="m123.113209 261.331448-8.490565 65.864024 55.18868-38.243626z" fill="#eb8f35"></path><path d="m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z" fill="#ea8e3a"></path><path d="m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z" fill="#d87c30"></path><path d="m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z" fill="#eb8f35"></path><path d="m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z" fill="#e8821e"></path><path d="m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z" fill="#393939" transform="matrix(-1 0 0 1 283.372646 0)"></path><path d="m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z" fill="#e88f35"></path><path d="m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z" fill="#8e5a30"></path></g></g>',1),jM=[LM];function BM(t,e){return R(),L("svg",DM,jM)}const hl={};hl.render=BM;hl.__file="src/components/logos/MetaMask.vue";const FM={width:"1024",height:"1024",viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$M=v("rect",{width:"1024",height:"1024",fill:"#0052FF"},null,-1),UM=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"},null,-1),WM=[$M,UM];function HM(t,e){return R(),L("svg",FM,WM)}const pl={};pl.render=HM;pl.__file="src/components/logos/CoinbaseWallet.vue";const VM={width:"1024",height:"1024",viewBox:"0 0 280 280",fill:"#008C73",xmlns:"http://www.w3.org/2000/svg"},zM=v("path",{d:"M137,9.84A128.75,128.75,0,1,0,265.7,138.59,128.76,128.76,0,0,0,137,9.84Zm94.23,135.78H171.44a36.38,36.38,0,1,1,.28-12.66h59.46a6.33,6.33,0,0,1,0,12.66Z",stroke:"#fff"},null,-1),qM=[zM];function GM(t,e){return R(),L("svg",VM,qM)}const bl={};bl.render=GM;bl.__file="src/components/logos/GnosisSafe.vue";var gl=zf({components:{Modal:Fo,Loader:$o,MetaMaskIcon:hl,WalletConnectIcon:fl,CoinbaseWalletIcon:pl,GnosisSafeIcon:bl},props:{connectors:{type:Array,required:!0,default:[]},dark:{type:Boolean,required:!1,default:!1},connectErrorHandler:{type:Function,required:!1,default:void 0},autoConnectErrorHandler:{type:Function,required:!1,default:void 0}},setup(t){const{boardOpen:e,close:n}=aM(),{connectWith:r,wallet:i,autoConnect:s}=_M(),o=qf(()=>t.dark?"wallet-item--dark":"wallet-item"),a=t.connectors,c=ht(!1),u=O1("autoConnect");return M1(()=>Ne(this,void 0,void 0,function*(){if(u)try{c.value=!0,yield s(a)}catch(p){t.autoConnectErrorHandler&&t.autoConnectErrorHandler(p)}finally{c.value=!1}})),{isAutoConnecting:c,boardOpen:e,wallet:i,connectors:a,walletItemClass:o,onClickWallet:p=>Ne(this,void 0,void 0,function*(){try{n(),yield r(p)}catch(d){t.connectErrorHandler&&t.connectErrorHandler(d)}}),close:n}}});const Ab=t=>(Qf("data-v-e1ee1034"),t=t(),Zf(),t),QM=["onClick"],ZM={class:"item"},KM={key:4},YM={key:5},JM={key:6},XM={key:7},ex={key:0,class:"loading-modal"},tx=Ab(()=>v("p",null,"Connecting...",-1)),nx=Ab(()=>v("p",{class:"mt-4"},"Approve or reject request using your wallet",-1)),rx=[tx,nx];function ix(t,e,n,r,i,s){const o=xe("MetaMaskIcon"),a=xe("WalletConnectIcon"),c=xe("CoinbaseWalletIcon"),u=xe("GnosisSafeIcon"),l=xe("Modal"),p=R1("click-outside");return R(),L(Yr,null,[Ce(l,{modalOpen:t.boardOpen,onClose:t.close,dark:t.dark},{default:nr(()=>[un((R(),L("div",null,[(R(!0),L(Yr,null,lu(t.connectors,(d,b)=>(R(),L("div",{key:d.name},[v("div",{class:tr(t.walletItemClass),onClick:g=>t.onClickWallet(d)},[v("div",ZM,[F(" TODO: refactor these v-if "),d.name==="metaMask"?(R(),at(o,{key:0,class:"logo"})):F("v-if",!0),d.name==="walletConnect"?(R(),at(a,{key:1,class:"logo"})):F("v-if",!0),d.name==="coinbaseWallet"?(R(),at(c,{key:2,class:"logo"})):F("v-if",!0),d.name==="safe"?(R(),at(u,{key:3,class:"logo"})):F("v-if",!0),d.name==="metaMask"?(R(),L("div",KM,"MetaMask")):F("v-if",!0),d.name==="walletConnect"?(R(),L("div",YM,"WalletConnect")):F("v-if",!0),d.name==="coinbaseWallet"?(R(),L("div",JM," Coinbase Wallet ")):F("v-if",!0),d.name==="safe"?(R(),L("div",XM,"Gnosis Safe")):F("v-if",!0)])],10,QM),b!==t.connectors.length-1?(R(),L("div",{key:0,class:tr(t.dark?"line--dark":"line")},null,2)):F("v-if",!0)]))),128))])),[[p,t.close]])]),_:1},8,["modalOpen","onClose","dark"]),Oc(t.$slots,"connecting",{},()=>[Ce(l,{modalOpen:t.wallet.status==="connecting"&&!t.isAutoConnecting,dark:t.dark},{default:nr(()=>[t.wallet.status==="connecting"?(R(),L("div",ex,rx)):F("v-if",!0)]),_:1},8,["modalOpen","dark"])]),Oc(t.$slots,"loading",{},()=>[Ce(l,{modalOpen:t.wallet.status==="loading"&&!t.isAutoConnecting,dark:t.dark},null,8,["modalOpen","dark"])])],64)}var sx=`
.wallet-item[data-v-e1ee1034] {
  display: flex;
  justify-content: center;
  padding: 1rem 1rem 0.6rem;
  margin: 0.5rem;
  border-radius: 0.75rem;
  cursor: pointer;
}
.wallet-item[data-v-e1ee1034]:hover {
  background-color: rgba(236, 237, 239, 0.737);
}

/* dark mode */
.wallet-item--dark[data-v-e1ee1034] {
  display: flex;
  justify-content: center;
  padding: 1rem 1rem 0.6rem;
  margin: 0.5rem;
  border-radius: 0.75rem;
  cursor: pointer;
  color: rgb(199, 199, 199);
}
.wallet-item--dark[data-v-e1ee1034]:hover {
  background-color: #101a20;
}
@media (min-width: 640px) {
.wallet-item[data-v-e1ee1034] {
    width: 24rem;
}
.wallet-item--dark[data-v-e1ee1034] {
    width: 24rem;
}
}
.item[data-v-e1ee1034] {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  line-height: 2rem;
}
.item[data-v-e1ee1034] > :not([hidden]) ~ :not([hidden]) {
  margin-top: 1rem;
  margin-bottom: 1rem;
}
.line[data-v-e1ee1034] {
  border-color: #e5e7eb;
  border-width: 0px;
  border-bottom-width: 1px;
  border-style: solid;
}
.line--dark[data-v-e1ee1034] {
  border-color: rgba(195, 195, 195, 0.14);
  border-width: 0px;
  border-bottom-width: 1px;
  border-style: solid;
}
.logo[data-v-e1ee1034] {
  width: 50px;
  height: 50px;
}
.wallet-disabled[data-v-e1ee1034] {
  opacity: 0.5;
}
.wallet-disabled[data-v-e1ee1034]:hover {
  background-color: rgba(255, 255, 255, 0);
  cursor: default;
}
.loading-modal[data-v-e1ee1034] {
  width: 20rem;
  padding: 2.5rem;
  text-align: center;
}
.loading-modal > p[data-v-e1ee1034]:first-child {
  font-size: 1.25rem;
  line-height: 1.75rem;
}
@media (min-width: 640px) {
.loading-modal[data-v-e1ee1034] {
    width: auto;
}
}
`;dl(sx);gl.render=ix;gl.__scopeId="data-v-e1ee1034";gl.__file="src/components/Board.vue";const ox={name:"SendNftModal",props:["address","cAddress","signer"],data(){return{componentId:null,editDescription:null,hasBlankCharacter:!1,nftDataLoaded:!1,nftImage:null,recipientAddress:null,recipientInput:null,tokenId:null,userSecondTokenId:null,waiting:!1,waitingFetchNft:!1}},mounted(){this.componentId=this.$.uid},methods:{hasTextBlankCharacters:wl,findBlankCharacter(){this.hasBlankCharacter=!1,this.hasBlankCharacter=wl(this.recipientInput)},async fetchUsersNft(){if(console.log("Fetching user's NFT ID..."),this.waitingFetchNft=!0,console.log("User's address: ",this.address),console.log("NFT contract address: ",this.cAddress),this.cAddress&&this.address){const t=new We(["function tokenOfOwnerByIndex(address owner, uint256 index) public view returns (uint256)"]),e=new He(this.cAddress,t,this.signer);try{this.tokenId=await e.tokenOfOwnerByIndex(this.address,0)}catch{console.log("Could not fetch NFT ID for user.")}}this.waitingFetchNft=!1},async loadNftData(){this.waiting=!0;const t=new We(["function ownerOf(uint256 tokenId) external view returns (address)","function tokenURI(uint256 tokenId) external view returns (string)"]);try{const e=new He(this.cAddress,t,this.signer),n=await e.ownerOf(this.tokenId);if(console.log("NFT holder: ",n),String(n).toLowerCase()!==String(this.address).toLowerCase()){this.toast(`You are not the owner of NFT with ID ${this.tokenId}. Try some other ID number.`,{type:"error"}),this.waiting=!1;return}const r=await e.tokenURI(this.tokenId);r.startsWith("ipfs://")&&(r=r.replace("ipfs://",this.$config.ipfsGateway));let i;if(r.startsWith("https://"))try{i=await(await P1.get(r)).data}catch{console.log("error fetching metadata from ipfs for token id: ",String(this.tokenId))}else{const s=atob(r.substring(29));i=JSON.parse(s)}i.image.startsWith("ipfs://")&&(i.image=i.image.replace("ipfs://",this.$config.ipfsGateway)),this.nftImage=i.image,this.nftDataLoaded=!0,this.waiting=!1}catch(e){console.error(e),this.waiting=!1}},async processRecipient(t){if(t)if(os(t))this.recipientAddress=t;else{const e=String(t).trim().toLowerCase().replace(this.$config.tldName,"");let n=this.$getFallbackProvider(this.$config.supportedChainId);this.isActivated&&this.chainId===this.$config.supportedChainId&&(n=this.signer);const r=new We(["function getDomainHolder(string) view returns (address)"]),i=new He(this.$config.punkTldAddress,r,n);this.recipientAddress=await i.getDomainHolder(e)}},async transferNft(){this.waiting=!0,await this.processRecipient(this.recipientInput);const t=new We(["function transferFrom(address from, address to, uint256 tokenId) external"]),e=new He(this.cAddress,t,this.signer);try{const n=await e.transferFrom(this.address,this.recipientAddress,this.tokenId),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();i.status===1?(this.toast.dismiss(r),this.toast("You have successfully transferred the NFT.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.recipientAddress=null,this.recipientInput=null,this.tokenId=null,this.nftDataLoaded=!1,document.getElementById("closeModal-"+this.componentId).click(),this.waiting=!1):(this.toast.dismiss(r),this.waiting=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i))}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waiting=!1}}},setup(){const{chainId:t,isActivated:e}=cr(),n=Ln();return{chainId:t,isActivated:e,toast:n}},watch:{tokenId(){this.nftDataLoaded=!1}}},ax=["aria-labelledby"],cx={class:"modal-dialog"},ux={class:"modal-content"},lx={class:"modal-header"},dx=["id"],fx=["id"],hx={class:"modal-body"},px=v("p",null," Send/transfer NFT to another address. ",-1),bx=["disabled"],gx={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},yx={key:1,class:"mt-4 row"},mx={class:"col-md-4 col-6"},vx=["src"],_x={class:"mt-4"},wx=["for"],Sx=v("strong",null," NFT (token) ID to send: ",-1),Ex=[Sx],Cx=["id"],kx=["disabled"],Ax={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ix={key:3,class:"mt-4"},Mx=["for"],xx=["id"],Tx={key:0,class:"form-text",id:"basic-addon4"},Ox=v("i",{class:"bi bi-exclamation-triangle-fill"},null,-1),Rx={class:"modal-footer"},Nx=v("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),Px=["disabled"],Dx={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"};function Lx(t,e,n,r,i,s){return R(),L("div",{class:"modal fade",id:"sendNftModal",tabindex:"-1","aria-labelledby":"modalLabel-"+i.componentId,"aria-hidden":"true"},[v("div",cx,[v("div",ux,[v("div",lx,[v("h1",{class:"modal-title fs-5",id:"modalLabel-"+i.componentId},"Transfer NFT",8,dx),v("button",{id:"closeModal-"+i.componentId,type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,8,fx)]),v("div",hx,[px,i.tokenId?F("",!0):(R(),L("button",{key:0,onClick:e[0]||(e[0]=(...o)=>s.fetchUsersNft&&s.fetchUsersNft(...o)),type:"button",class:"btn btn-primary mt-2",disabled:i.waitingFetchNft},[i.waitingFetchNft?(R(),L("span",gx)):F("",!0),ge(" Find your NFT ID ")],8,bx)),i.nftDataLoaded?(R(),L("div",yx,[v("div",mx,[v("img",{src:i.nftImage,class:"img-fluid",alt:"NFT image",height:"100"},null,8,vx)])])):F("",!0),v("div",_x,[v("label",{for:"inputTokenId-"+i.componentId,class:"form-label"},Ex,8,wx),un(v("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>i.tokenId=o),type:"text",class:"form-control",id:"inputTokenId-"+i.componentId},null,8,Cx),[[Tn,i.tokenId]])]),!i.nftDataLoaded&&i.tokenId?(R(),L("button",{key:2,onClick:e[2]||(e[2]=(...o)=>s.loadNftData&&s.loadNftData(...o)),type:"button",class:"btn btn-primary mt-2",disabled:!i.tokenId||i.waiting},[i.waiting?(R(),L("span",Ax)):F("",!0),ge(" Load NFT image ")],8,kx)):F("",!0),i.nftDataLoaded?(R(),L("div",Ix,[v("label",{for:"inputAddress-"+i.componentId,class:"form-label"},[v("strong",null," Recipient address or "+Oe(t.$config.tldName)+" name: ",1)],8,Mx),un(v("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>i.recipientInput=o),onKeyup:e[4]||(e[4]=(...o)=>s.findBlankCharacter&&s.findBlankCharacter(...o)),type:"text",class:"form-control",id:"inputAddress-"+i.componentId},null,40,xx),[[Tn,i.recipientInput]]),i.hasBlankCharacter?(R(),L("div",Tx,[Ox,ge(" This domain name contains a blank character: "+Oe(encodeURIComponent(i.recipientInput))+". Proceed with caution. ",1)])):F("",!0)])):F("",!0)]),v("div",Rx,[Nx,i.nftDataLoaded?(R(),L("button",{key:0,onClick:e[5]||(e[5]=(...o)=>s.transferNft&&s.transferNft(...o)),type:"button",class:"btn btn-primary",disabled:!i.recipientInput||!i.tokenId||i.waiting},[i.waiting?(R(),L("span",Dx)):F("",!0),ge(" Transfer NFT ")],8,Px)):F("",!0)])])])],8,ax)}const jx=bn(ox,[["render",Lx]]),Bx={name:"NftCollection",data(){return{audioUrl:null,cAuthorAddress:null,cAuthorDomain:null,cDescription:null,cImage:null,cName:null,cSupply:null,cType:0,mdAddress:null,mediaMetadataContract:!1,nativeNft:!0,priceBuyWei:null,priceSellWei:null,userTokenId:null,videoUrl:null,waitingBuy:!1,waitingData:!1,waitingMedia:!1,waitingSell:!1,youtubeUrl:null}},components:{AddImageToCollectionModal:Im,ChangeCollectionPreviewModal:Zm,ChangeDescriptionModal:bv,ChangeNftTypeModal:Yv,ChatFeed:L1,CollectionMediaSection:g_,ConnectWalletButton:j1,Image:xs,RemoveImageFromCollectionModal:B_,SendNftModal:jx,SwitchChainButton:B1,WaitingToast:Ft},mounted(){if(this.cAddress){if(!os(this.cAddress))return this.toast("Invalid NFT address.",{type:"error"}),this.$router.push({path:"/"});this.getCollectionDetails()}},computed:{cAddress(){return this.$route.query?.id?this.$route.query.id:null},collectionExplorerLink(){return this.$config.blockExplorerBaseUrl+"/token/"+this.cAddress},collectionMarketplaceLink(){return this.$config.marketplaceNftCollectionBaseUrl+this.cAddress},getUsernameOrFullAddress(){if(this.cAuthorDomain){let t=String(this.cAuthorDomain).replace(this.$config.tldName,"");return Sl(t)+this.$config.tldName}else return this.cAuthorAddress},getUsernameOrShortAddress(){if(this.cAuthorAddress)if(this.cAuthorDomain){let t=String(this.cAuthorDomain).replace(this.$config.tldName,"");return Sl(t)+this.$config.tldName}else return ml(this.cAuthorAddress);return null},isCurrentAddressOwner(){return this.cAuthorAddress&&this.address?String(this.cAuthorAddress).toLowerCase()===String(this.address).toLowerCase():!1},isSupportedChain(){return this.chainId===this.$config.supportedChainId}},methods:{getDomainName:U1,async buyNft(){this.waitingBuy=!0;const t=new We(["function getBurnPrice() public view returns (uint256)","function getMintPrice() public view returns (uint256)","function mint(address to) external payable returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) public view returns (uint256)","function totalSupply() public view returns (uint256)"]),e=new He(this.cAddress,t,this.signer);this.priceBuyWei=await e.getMintPrice();try{const n=await e.mint(this.address,{value:this.priceBuyWei}),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();if(i.status===1){this.toast.dismiss(r),this.toast("You have successfully bought the NFT! Congrats!",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.priceBuyWei=await e.getMintPrice(),this.priceSellWei=await e.getBurnPrice();try{this.userTokenId=await e.tokenOfOwnerByIndex(this.address,0)}catch{this.userTokenId=null}this.cSupply=await e.totalSupply(),this.waitingBuy=!1}else this.toast.dismiss(r),this.waitingBuy=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i)}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingBuy=!1}},async fetchUserDomain(){if(this.cAuthorAddress){const t=this.$getFallbackProvider(this.$config.supportedChainId),e=await this.getDomainName(this.cAuthorAddress,t);e&&(this.cAuthorDomain=e,W1(window,this.cAuthorAddress,e+this.$config.tldName))}},formatPrice(t){if(t===null)return null;const e=Number(Rf(t));return e>100?e.toFixed(0):e>1?e.toFixed(2):e>.1?e.toFixed(4):e>.01?e.toFixed(5):e>.001?e.toFixed(6):e>1e-4?e.toFixed(7):e>1e-5?e.toFixed(8):e>1e-6?e.toFixed(9):e},async getCollectionDetails(t=!1){this.waitingData=!0;let e=H1(window,this.cAddress);t&&(console.log("Refreshing collection metadata..."),e=null);let n=this.$getFallbackProvider(this.$config.supportedChainId);this.isActivated&&this.chainId===this.$config.supportedChainId&&(n=this.signer);const r=new We(["function getBurnPrice() public view returns (uint256)","function getMintPrice() public view returns (uint256)","function metadataAddress() public view returns (address)","function name() public view returns (string memory)","function owner() public view returns (address)","function tokenOfOwnerByIndex(address owner, uint256 index) public view returns (uint256)","function totalSupply() public view returns (uint256)"]),i=new He(this.cAddress,r,n);if(console.log("Fetching collection details..."),e?.mdAddress)this.mdAddress=e.mdAddress;else try{this.mdAddress=await i.metadataAddress()}catch{return this.getCollectionDetailsFallback()}const s=new We(["function getCollectionDescription(address) public view returns (string memory)","function getCollectionMetadataType(address nftAddress_) external view returns (uint256)","function getCollectionName(address nftAddress_) external view returns (string memory)","function getCollectionPreviewImage(address) public view returns (string memory)","function getMetadata(address nftAddress_, uint256 tokenId_) external view returns (string memory)","function mdContractType() external view returns (string memory)"]),o=new He(this.mdAddress,s,n);try{this.priceBuyWei=await i.getMintPrice(),this.priceSellWei=await i.getBurnPrice()}catch{return this.getCollectionDetailsFallback()}e?.image?this.cImage=e.image:this.cImage=await o.getCollectionPreviewImage(this.cAddress);const a=_l(this.cImage);a&&(this.cImage=a),e?.description&&e.description!==""&&e.description!==null?this.cDescription=e.description:this.cDescription=await o.getCollectionDescription(this.cAddress),e?.type>=0?this.cType=e.type:this.cType=Number(await o.getCollectionMetadataType(this.cAddress)),e?.name?this.cName=e.name:this.cName=await i.name();try{this.userTokenId=await i.tokenOfOwnerByIndex(this.address,0)}catch{this.userTokenId=null}this.waitingData=!1,this.cSupply=await i.totalSupply(),e?.authorAddress?(this.cAuthorAddress=e.authorAddress,this.cAuthorDomain=e.authorDomain):this.cAuthorAddress=await i.owner(),this.cAuthorDomain=El(window,this.cAuthorAddress),this.cAuthorDomain||this.fetchUserDomain(),e={address:this.cAddress,authorAddress:this.cAuthorAddress,authorDomain:this.cAuthorDomain,description:this.cDescription,image:this.cImage,mdAddress:this.mdAddress,name:this.cName,type:this.cType},Cl(window,this.cAddress,e),this.waitingMedia=!0;let c=this.userTokenId?this.userTokenId:1,u=await o.getMetadata(this.cAddress,c);if(String(u).startsWith("http")&&(u=_l(u)),String(u).startsWith("ipfs://")&&(u=String(u).replace("ipfs://",this.$config.ipfsGateway)),String(u).startsWith("http"))try{u=(await axios.get(u)).data}catch(l){if(console.error(l),u.startsWith(this.$config.ipfsGateway))try{u=String(u).replace(this.$config.ipfsGateway,this.$config.ipfsGateway2),u=(await axios.get(u)).data}catch(p){console.error(p);return}}else u=atob(String(u).replace("data:application/json;base64,",""));if(typeof u!="object"&&typeof u=="string"&&(u=JSON.parse(u)),u?.audio_url&&(this.audioUrl=u.audio_url),u?.animation_url&&(this.videoUrl=u.animation_url),u?.youtube_url&&(this.youtubeUrl=u.youtube_url),this.waitingMedia=!1,this.cType==0&&this.isCurrentAddressOwner)try{await o.mdContractType()=="media"&&(this.mediaMetadataContract=!0)}catch{console.log("Not media metadata contract.")}},async getCollectionDetailsFallback(){console.log("Fetching collection details via fallback method..."),this.nativeNft=!1;let t=this.$getFallbackProvider(this.$config.supportedChainId);this.isActivated&&this.chainId===this.$config.supportedChainId&&(t=this.signer);const e=new We(["function name() public view returns (string memory)","function owner() public view returns (address)","function tokenURI(uint256 tokenId) public view returns (string memory)","function totalSupply() public view returns (uint256)","function uri(uint256 tokenId) public view returns (string memory)"]),n=new He(this.cAddress,e,t);this.cName=await n.name();let r;try{r=await n.tokenURI(1)}catch{r=await n.uri(1)}if(r.startsWith("data:application/json;")){const i=JSON.parse(atob(r.replace("data:application/json;base64,","")));!this.cName&&i?.name&&(this.cName=i.name.replace("#1","")),i?.description&&(this.cDescription=i.description),i?.image&&(this.cImage=i.image),i?.external_url&&(this.cExternalUrl=i.external_url),i?.audio_url&&(this.audioUrl=i.audio_url),i?.animation_url&&(this.videoUrl=i.animation_url),i?.youtube_url&&(this.youtubeUrl=i.youtube_url)}else try{const s=(await axios.get(r)).data;!this.cName&&s?.name&&(this.cName=s.name.replace("#1","")),s?.description&&(this.cDescription=s.description),s?.image&&(this.cImage=s.image),s?.external_url&&(this.cExternalUrl=s.external_url),s?.audio_url&&(this.audioUrl=s.audio_url),s?.animation_url&&(this.videoUrl=s.animation_url),s?.youtube_url&&(this.youtubeUrl=s.youtube_url)}catch(i){console.error(i)}try{this.cSupply=await n.totalSupply()}catch{console.log("No totalSupply function in the contract.")}try{this.cAuthorAddress=await n.owner(),this.cAuthorDomain=El(window,this.cAuthorAddress),this.cAuthorDomain||this.fetchUserDomain()}catch{console.log("No owner variable in the contract.")}this.waitingData=!1},saveCollection(t){t?.type&&(this.cType=t.type),t?.description&&(this.cDescription=t.description),t?.image&&(this.cImage=t.image);const e={address:this.cAddress,authorAddress:this.cAuthorAddress,authorDomain:this.cAuthorDomain,description:this.cDescription,image:this.cImage,mdAddress:this.mdAddress,name:this.cName,type:this.cType};Cl(window,this.cAddress,e)},async sellNft(){this.waitingSell=!0;const t=new We(["function getBurnPrice() public view returns (uint256)","function getMintPrice() public view returns (uint256)","function burn(uint256 tokenId) external returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) public view returns (uint256)","function totalSupply() public view returns (uint256)"]),e=new He(this.cAddress,t,this.signer);try{const n=await e.burn(this.userTokenId),r=this.toast({component:Ft,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:"info",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),i=await n.wait();if(i.status===1){this.toast.dismiss(r),this.toast("You have dumped the NFT.",{type:"success",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.priceBuyWei=await e.getMintPrice(),this.priceSellWei=await e.getBurnPrice();try{this.userTokenId=await e.tokenOfOwnerByIndex(this.address,0)}catch{this.userTokenId=null}this.cSupply=await e.totalSupply(),this.waitingSell=!1}else this.toast.dismiss(r),this.waitingSell=!1,this.toast("Transaction has failed.",{type:"error",onClick:()=>window.open(this.$config.blockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(i)}catch(n){console.error(n);try{let r=n.message.split("reason=")[1];r=r.split(", method=")[0],r=r.replace(/"/g,""),r=r.replace("execution reverted:","Error:"),console.log(r),this.toast(r,{type:"error"})}catch{this.toast("Transaction has failed.",{type:"error"})}this.waitingSell=!1}}},setup(){const{address:t,chainId:e,isActivated:n,signer:r}=Er(),i=Ln();return{address:t,chainId:e,isActivated:n,shortenAddress:ml,signer:r,toast:i}},watch:{address(t,e){e&&e!==t&&!this.waitingData&&this.getCollectionDetails()},chainId(t,e){t==this.$config.supportedChainId&&e!==t&&!this.waitingData&&this.getCollectionDetails()},cAddress(t,e){if(t&&e&&t!==e&&this.cAddress&&this.$route.path==="/nft/collection"){if(!os(this.cAddress))return this.toast("Invalid NFT address.",{type:"error"}),this.$router.push({path:"/"});this.getCollectionDetails()}}}},Fx={class:"card border"},$x={class:"card-body"},Ux={class:"fs-3"},Wx={key:0,class:"mb-3 mt-3"},Hx={key:1,class:"mb-3 mt-3"},Vx={key:2,class:"d-flex justify-content-center mb-3"},zx=v("span",{class:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"},null,-1),qx=[zx],Gx={class:"row"},Qx={class:"col-md-5 text-center mb-3"},Zx={key:1,class:"dropdown mt-3"},Kx=v("button",{class:"btn btn-outline-primary btn-sm dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Actions ",-1),Yx={class:"dropdown-menu"},Jx={key:0},Xx=v("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeDescriptionModal"}," Change description ",-1),eT=[Xx],tT={key:1},nT=v("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeCollectionPreviewModal"}," Change collection preview image ",-1),rT=[nT],iT={key:2},sT=v("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#addImageToCollectionModal"}," Add additional image to collection ",-1),oT=[sT],aT={key:3},cT=v("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#removeImageFromCollectionModal"}," Remove image from collection ",-1),uT=[cT],lT={key:4},dT=v("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#changeNftTypeModal"}," Change collection type ",-1),fT=[dT],hT={key:5},pT=v("span",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#sendNftModal"}," Send your NFT to another address ",-1),bT=[pT],gT={class:"col-md-7"},yT={class:"mt-1 mb-4 muted-text",style:{"font-size":"14px"}},mT={class:"me-4"},vT=v("i",{class:"bi bi-file-earmark-text-fill me-1"},null,-1),_T={key:0,class:"me-4"},wT=v("i",{class:"bi bi-coin me-1"},null,-1),ST={class:"me-4"},ET=v("i",{class:"bi bi-file-earmark-binary me-1"},null,-1),CT={class:"me-4"},kT=v("i",{class:"bi bi-box-arrow-up-right me-2"},null,-1),AT=["href"],IT={key:0},MT={key:1,class:"dropdown"},xT=v("i",{class:"bi bi-box-arrow-up-right me-2"},null,-1),TT=v("span",{class:"dropdown-toggle","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},[v("span",null,"See all NFTs in the collection")],-1),OT={class:"dropdown-menu dropdown-menu-end"},RT=["href"],NT=v("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1),PT=["href"],DT=v("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1),LT={key:0,class:"row mb-3"},jT={key:0,class:"d-grid gap-2 col"},BT={key:1,class:"d-grid gap-2 col"},FT=["disabled"],$T={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},UT={key:2,class:"d-grid gap-2 col"},WT=["disabled"],HT={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},VT={key:1},zT={key:0,class:"card border mt-3 scroll-500"},qT=Gf('<div class="card-body"><h5 class="mb-2 mt-3 text-center">Buy an NFT to see the chat</h5><div class="d-flex justify-content-center"><div class="col-12 col-lg-8"><p class="text-break text-center mt-3 mb-4"> This NFT&#39;s chat is open only for NFT holders. Buy an NFT to see the chat and talk with the NFT creator and other NFT holders. </p></div></div></div>',1),GT=[qT];function QT(t,e,n,r,i,s){const o=Mb,a=xb,c=Ib,u=xe("Image"),l=D1,p=xe("ConnectWalletButton"),d=xe("SwitchChainButton"),b=xe("CollectionMediaSection"),g=xe("ChatFeed"),E=xe("AddImageToCollectionModal"),k=xe("ChangeCollectionPreviewModal"),S=xe("ChangeDescriptionModal"),w=xe("ChangeNftTypeModal"),A=xe("RemoveImageFromCollectionModal"),M=xe("SendNftModal");return R(),L(Yr,null,[Ce(c,null,{default:nr(()=>[Ce(o,null,{default:nr(()=>[ge("NFT Collection Details | "+Oe(t.$config.projectMetadataTitle),1)]),_:1}),Ce(a,{property:"og:title",content:"NFT Collection Details | "+t.$config.projectMetadataTitle},null,8,["content"]),Ce(a,{name:"description",content:"Check this NFT collection on "+t.$config.projectName+"!"},null,8,["content"]),Ce(a,{property:"og:image",content:t.$config.projectUrl+t.$config.previewImageNftCollection},null,8,["content"]),Ce(a,{property:"og:description",content:"Check this NFT collection on "+t.$config.projectName+"!"},null,8,["content"]),Ce(a,{name:"twitter:image",content:t.$config.projectUrl+t.$config.previewImageNftCollection},null,8,["content"]),Ce(a,{name:"twitter:description",content:"Check this NFT collection on "+t.$config.projectName+"!"},null,8,["content"])]),_:1}),v("div",Fx,[v("div",$x,[v("p",Ux,[v("i",{onClick:e[0]||(e[0]=$=>t.$router.push({path:"/nft"})),class:"bi bi-arrow-left-circle cursor-pointer"})]),i.cName?F("",!0):(R(),L("h3",Wx,"NFT Collection Details")),i.cName?(R(),L("h3",Hx,Oe(i.cName),1)):F("",!0),i.waitingData?(R(),L("div",Vx,qx)):F("",!0),v("div",Gx,[v("div",Qx,[i.cImage?(R(),at(u,{url:i.cImage,cls:"img-fluid img-thumbnail rounded col-12",alt:i.cName,key:i.cImage},null,8,["url","alt"])):F("",!0),i.nativeNft?(R(),L("div",Zx,[Kx,v("ul",Yx,[s.isCurrentAddressOwner?(R(),L("li",Jx,eT)):F("",!0),s.isCurrentAddressOwner?(R(),L("li",tT,rT)):F("",!0),s.isCurrentAddressOwner&&i.cType==0?(R(),L("li",iT,oT)):F("",!0),s.isCurrentAddressOwner&&i.cType==0?(R(),L("li",aT,uT)):F("",!0),s.isCurrentAddressOwner?(R(),L("li",lT,fT)):F("",!0),r.address?(R(),L("li",hT,bT)):F("",!0),v("li",null,[v("span",{class:"dropdown-item cursor-pointer",onClick:e[1]||(e[1]=$=>s.getCollectionDetails(!0))},"Refresh metadata")])])])):F("",!0)]),v("div",gT,[v("div",yT,[v("p",mT,[vT,ge(" "+Oe(i.cDescription),1)]),i.nativeNft?(R(),L("p",_T,[wT,ge(" Buy/Sell price: "+Oe(s.formatPrice(i.priceBuyWei))+" "+Oe(t.$config.tokenSymbol)+" / "+Oe(s.formatPrice(i.priceSellWei))+" "+Oe(t.$config.tokenSymbol),1)])):F("",!0),v("p",ST,[ET,ge(" "+Oe(i.cSupply)+" NFTs minted ",1)]),v("p",CT,[kT,v("a",{href:t.$config.blockExplorerBaseUrl+"/address/"+s.cAddress,target:"_blank",style:{"text-decoration":"none"}},Oe(r.shortenAddress(s.cAddress)),9,AT),s.getUsernameOrShortAddress?(R(),L("span",IT,[ge(" by "),Ce(l,{to:"/profile/?id="+String(s.getUsernameOrFullAddress)},{default:nr(()=>[ge(Oe(s.getUsernameOrShortAddress),1)]),_:1},8,["to"])])):F("",!0)]),s.cAddress?(R(),L("div",MT,[xT,TT,v("div",OT,[v("a",{class:"dropdown-item cursor-pointer",target:"_blank",href:s.collectionMarketplaceLink},[NT,ge(" See NFTs on NFT marketplace ")],8,RT),v("a",{class:"dropdown-item cursor-pointer",target:"_blank",href:s.collectionExplorerLink},[DT,ge(" See NFTs on block explorer ")],8,PT)])])):F("",!0)]),i.nativeNft?(R(),L("div",LT,[!r.isActivated||!s.isSupportedChain?(R(),L("div",jT,[r.isActivated?F("",!0):(R(),at(p,{key:0,class:"btn btn-primary",btnText:"Connect wallet"})),r.isActivated&&!s.isSupportedChain?(R(),at(d,{key:1})):F("",!0)])):F("",!0),r.isActivated&&s.isSupportedChain?(R(),L("div",BT,[v("button",{onClick:e[2]||(e[2]=(...$)=>s.buyNft&&s.buyNft(...$)),class:"btn btn-primary",type:"button",disabled:i.waitingData||i.waitingBuy},[i.waitingBuy?(R(),L("span",$T)):F("",!0),ge(" Buy for "+Oe(s.formatPrice(i.priceBuyWei))+" "+Oe(t.$config.tokenSymbol),1)],8,FT)])):F("",!0),r.isActivated&&s.isSupportedChain?(R(),L("div",UT,[v("button",{onClick:e[3]||(e[3]=(...$)=>s.sellNft&&s.sellNft(...$)),class:"btn btn-primary",type:"button",disabled:i.waitingData||i.waitingSell||!i.userTokenId||i.priceSellWei==0},[i.waitingSell?(R(),L("span",HT)):F("",!0),ge(" Sell for "+Oe(s.formatPrice(i.priceSellWei))+" "+Oe(t.$config.tokenSymbol),1)],8,WT)])):F("",!0)])):F("",!0),r.isActivated&&s.isSupportedChain&&i.nativeNft?(R(),L("small",VT,[v("em",null," (Price may still change after pressing the button, so make sure to check the "+Oe(t.$config.tokenSymbol)+" amount in wallet.) ",1)])):F("",!0)])])])]),!i.userTokenId&&i.nativeNft?(R(),L("div",zT,GT)):F("",!0),i.userTokenId||s.isCurrentAddressOwner?(R(),L("div",{key:i.userTokenId},[i.audioUrl||i.videoUrl||i.youtubeUrl?(R(),at(b,{key:0,audioUrl:i.audioUrl,videoUrl:i.videoUrl,youtubeUrl:i.youtubeUrl},null,8,["audioUrl","videoUrl","youtubeUrl"])):F("",!0),(R(),at(g,{key:s.cAddress,class:"mt-3 scroll-500",showQuotedPost:t.$config.showRepliesOnHomepage,orbisContext:t.$config.chatChannels.nftLaunchpad+":"+s.cAddress},null,8,["showQuotedPost","orbisContext"]))])):F("",!0),Ce(E,{cAddress:s.cAddress,mdAddress:i.mdAddress},null,8,["cAddress","mdAddress"]),Ce(k,{cAddress:s.cAddress,mdAddress:i.mdAddress,onSaveCollection:s.saveCollection},null,8,["cAddress","mdAddress","onSaveCollection"]),Ce(S,{cAddress:s.cAddress,cDescription:i.cDescription,mdAddress:i.mdAddress,onSaveCollection:s.saveCollection},null,8,["cAddress","cDescription","mdAddress","onSaveCollection"]),Ce(w,{mdAddress:i.mdAddress,cType:i.cType,cAddress:s.cAddress,onSaveCollection:s.saveCollection},null,8,["mdAddress","cType","cAddress","onSaveCollection"]),Ce(A,{mdAddress:i.mdAddress,cAddress:s.cAddress},null,8,["mdAddress","cAddress"]),r.address?(R(),at(M,{key:2,address:r.address,cAddress:s.cAddress,signer:r.signer},null,8,["address","cAddress","signer"])):F("",!0)],64)}const bO=bn(Bx,[["render",QT]]);export{bO as default};
