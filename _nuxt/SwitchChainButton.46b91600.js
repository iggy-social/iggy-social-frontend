import{a0 as U,a3 as H,j,a1 as h,a9 as N,o as a,b as s,e as I,w as M,af as F,ak as R,F as E,aj as J,u as w,ah as y,f as d,t as v,l as m,am as S,c as W,ax as q,ay as K,az as X,aA as ee,a as _}from"./entry.5bcb8238.js";import{p as ne,E as oe,b as te,u as ae}from"./ethers.a15e83dd.js";const le={key:0,id:"vd-modal-base"},de=j({__name:"Modal",props:{modalOpen:{type:Boolean},dark:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const o=e,r=h(()=>o.dark?"modal-inner--dark":"modal-inner");return N(()=>o.modalOpen,c=>{c?document.body.style.overflow="hidden":document.body.style.overflow=""}),(c,u)=>(a(),W(K,{to:"body"},[I(q,{name:"vd-modal-animation"},{default:M(()=>[c.modalOpen?(a(),s("div",le,[d("div",{class:y(r.value)},[S(c.$slots,"default",{},void 0,!0)],2)])):m("",!0)]),_:3})]))}}),D=(e,t)=>{const o=e.__vccOpts||e;for(const[r,c]of t)o[r]=c;return o},B=D(de,[["__scopeId","data-v-41dea947"]]),se={},ie={width:"400",height:"246",viewBox:"0 0 400 246",xmlns:"http://www.w3.org/2000/svg"},re=d("path",{d:"m81.9180572 48.3416816c65.2149658-63.8508884 170.9493158-63.8508884 236.1642788 0l7.848727 7.6845565c3.260748 3.1925442 3.260748 8.3686816 0 11.5612272l-26.848927 26.2873374c-1.630375 1.5962734-4.273733 1.5962734-5.904108 0l-10.800779-10.5748639c-45.495589-44.5439756-119.258514-44.5439756-164.754105 0l-11.566741 11.3248068c-1.630376 1.5962721-4.273735 1.5962721-5.904108 0l-26.8489263-26.2873375c-3.2607483-3.1925456-3.2607483-8.3686829 0-11.5612272zm291.6903948 54.3649934 23.895596 23.395862c3.260732 3.19253 3.260751 8.368636.000041 11.561187l-107.746894 105.494845c-3.260726 3.192568-8.547443 3.192604-11.808214.000083-.000013-.000013-.000029-.000029-.000042-.000043l-76.472191-74.872762c-.815187-.798136-2.136867-.798136-2.952053 0-.000006.000005-.00001.00001-.000015.000014l-76.470562 74.872708c-3.260715 3.192576-8.547434 3.19263-11.808215.000116-.000019-.000018-.000039-.000037-.000059-.000058l-107.74989297-105.496247c-3.26074695-3.192544-3.26074695-8.368682 0-11.561226l23.89563947-23.395823c3.260747-3.1925446 8.5474652-3.1925446 11.8082136 0l76.4733029 74.873809c.815188.798136 2.136866.798136 2.952054 0 .000012-.000012.000023-.000023.000035-.000032l76.469471-74.873777c3.260673-3.1926181 8.547392-3.1927378 11.808214-.000267.000046.000045.000091.00009.000135.000135l76.473203 74.873909c.815186.798135 2.136866.798135 2.952053 0l76.471967-74.872433c3.260748-3.1925458 8.547465-3.1925458 11.808213 0z",fill:"#3b99fc"},null,-1),ce=[re];function ue(e,t){return a(),s("svg",ie,ce)}const pe=D(se,[["render",ue]]),$=U("vd-modal-store",()=>{const e=H(!1);function t(){e.value=!0}function o(){e.value=!1}return{isModalOpen:e,open:t,close:o}}),b=e=>(X("data-v-ae716cc2"),e=e(),ee(),e),me=["onClick"],ve=["src","alt"],ge=b(()=>d("div",null,"WalletConnect",-1)),we=b(()=>d("img",{class:"vd-logo",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",alt:"Coinbase"},null,-1)),he=b(()=>d("div",null,"Coinbase",-1)),ke=[we,he],Ce={key:3,id:"vd-no-wallet-found"},fe={key:0,id:"vd-loading-modal"},ye=b(()=>d("p",null,"Connecting...",-1)),be=b(()=>d("p",{class:"mt-4"},"Approve or reject request using your wallet",-1)),Ne=j({__name:"VueDappModal",props:{modelValue:{type:Boolean,default:void 0},dark:{type:Boolean,default:!1},autoConnect:{type:Boolean,default:!1},autoConnectBrowserWalletIfSolo:{type:Boolean,default:!1},hideConnectingModal:{type:Boolean,default:!1}},emits:["update:modelValue","connectError","autoConnectError"],setup(e,{emit:t}){const o=e,r=t,c=$();function u(){o.modelValue===void 0?c.close():r("update:modelValue",!1)}const p=h(()=>o.modelValue??c.isModalOpen),{isWindowEthereumAvailable:Q,connectors:L,connectTo:z,status:O,providerDetails:k,hasConnector:g,disconnect:x}=ne();let T;if(o.autoConnect){const{isAutoConnecting:n,error:i}=oe();T=n,N(i,l=>{l&&r("autoConnectError",l)})}N(p,async()=>{if(p.value&&te()){Q&&await C("BrowserWallet",{target:"window.ethereum"});return}p.value&&o.autoConnectBrowserWalletIfSolo&&L.value.length===1&&k.value.length===1&&L.value[0].name==="BrowserWallet"&&await C("BrowserWallet",{target:"rdns",rdns:k.value[0].info.rdns})});async function C(n,i){try{u(),await z(n,i)}catch(l){r("connectError",l)}}function G(){x()}const V={beforeMount:(n,i)=>{n.clickOutsideEvent=f=>{f.stopPropagation(),f.target!==n&&!n.contains(f.target)&&i.value(f)};const l="ontouchstart"in document.documentElement?"touchstart":"click";setTimeout(()=>{document.addEventListener(l,n.clickOutsideEvent)},0)},unmounted:n=>{const i=n.clickOutsideEvent;delete n.clickOutsideEvent;const l="ontouchstart"in document.documentElement?"touchstart":"click";document.removeEventListener(l,i)}},Z=h(()=>{let n=k.value.length;return g("WalletConnect")&&n++,g("CoinbaseWallet")&&n++,n<2?1:2}),Y=h(()=>Z.value===1),A=h(()=>k.value.length===0&&!g("WalletConnect")&&!g("CoinbaseWallet")),P=h(()=>Y.value?"10px 10px":"15px 15px");return(n,i)=>(a(),s("div",null,[I(B,{modalOpen:p.value,onClose:u,dark:n.dark},{default:M(()=>[F((a(),s("div",{id:"vd-modal",class:"vd-modal-column",style:R({padding:P.value})},[(a(!0),s(E,null,J(w(k),l=>(a(),s("div",{key:l.info.uuid,onClick:f=>C("BrowserWallet",{target:"rdns",rdns:l.info.rdns}),class:y(["vd-wallet-block",{"vd-wallet-block--dark":n.dark}])},[d("img",{class:"vd-logo",src:l.info.icon,alt:l.info.name},null,8,ve),d("div",null,v(l.info.name),1)],10,me))),128)),w(g)("WalletConnect")?(a(),s("div",{key:0,onClick:i[0]||(i[0]=l=>C("WalletConnect")),class:y(["vd-wallet-block",{"vd-wallet-block--dark":n.dark}])},[I(pe,{class:"vd-logo"}),ge],2)):m("",!0),w(g)("CoinbaseWallet")?(a(),s("div",{key:1,onClick:i[1]||(i[1]=l=>C("CoinbaseWallet")),class:y(["vd-wallet-block",{"vd-wallet-block--dark":n.dark}])},ke,2)):m("",!0),A.value&&n.$slots["no-wallet-found"]?S(n.$slots,"no-wallet-found",{key:2},void 0,!0):A.value?(a(),s("div",Ce,"No wallet provider found \u{1F614}")):m("",!0)],4)),[[V,u]])]),_:3},8,["modalOpen","dark"]),n.hideConnectingModal?m("",!0):(a(),W(B,{key:0,modalOpen:w(O)==="connecting"&&!w(T),dark:n.dark},{default:M(()=>[w(O)==="connecting"?(a(),s("div",fe,[ye,be,d("button",{class:y(["vd-cancel-btn",{"vd-cancel-btn--dark":n.dark}]),onClick:G}," Cancel ",2)])):m("",!0)]),_:1},8,["modalOpen","dark"]))]))}}),_e=D(Ne,[["__scopeId","data-v-ae716cc2"]]),Ie={name:"ConnectWalletButton",props:["btnText"],setup(){const{open:e}=$();return{open:e}}};function Me(e,t,o,r,c,u){return a(),s("span",{onClick:t[0]||(t[0]=(...p)=>r.open&&r.open(...p))},v(o.btnText),1)}const $e=_(Ie,[["render",Me]]),De={name:"SwitchChainButton",props:["dropdown","navbar"],computed:{showChainName(){return this.chainId===this.$config.supportedChainId?this.$getChainName(this.$config.supportedChainId):"Unsupported network"}},methods:{changeNetwork(e){this.$switchOrAddChain(window.ethereum,e)}},setup(){const{chainId:e}=ae();return{chainId:e}}},Le={key:1,class:"dropdown"},Oe={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Te={class:"dropdown-menu"},Ae={key:2,class:"nav-item dropdown"},Be={class:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},je={class:"dropdown-menu dropdown-menu-end"};function Ee(e,t,o,r,c,u){return a(),s(E,null,[!o.navbar&&!o.dropdown?(a(),s("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=p=>u.changeNetwork(e.$getChainName(e.$config.supportedChainId)))}," Switch to "+v(e.$getChainName(e.$config.supportedChainId)),1)):m("",!0),!o.navbar&&o.dropdown?(a(),s("div",Le,[d("button",Oe,v(u.showChainName),1),d("div",Te,[d("span",{class:"dropdown-item cursor-pointer",onClick:t[1]||(t[1]=p=>u.changeNetwork(e.$getChainName(e.$config.supportedChainId)))}," Switch to "+v(e.$getChainName(e.$config.supportedChainId)),1)])])):m("",!0),o.navbar&&o.dropdown?(a(),s("li",Ae,[d("a",Be,v(u.showChainName),1),d("div",je,[d("span",{class:"dropdown-item cursor-pointer",onClick:t[2]||(t[2]=p=>u.changeNetwork(e.$getChainName(e.$config.supportedChainId)))}," Switch to "+v(e.$getChainName(e.$config.supportedChainId)),1)])])):m("",!0)],64)}const Qe=_(De,[["render",Ee]]);export{$e as C,_e as D,Qe as S};
