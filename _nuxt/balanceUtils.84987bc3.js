var wt=Object.defineProperty;var yt=(o,n,i)=>n in o?wt(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i;var B=(o,n,i)=>(yt(o,typeof n!="symbol"?n+"":n,i),i);import{E as me,G as mt,H as Tt,I as _t,J as vt,K as Ie,C as Et,L as rt,M as At}from"./entry.a4ac0494.js";var nt={exports:{}};(function(o){(function(n){var i,w=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,A=Math.ceil,k=Math.floor,d="[BigNumber Error] ",p=d+"Number primitive has more than 15 significant digits: ",m=1e14,y=14,N=9007199254740991,R=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],x=1e7,I=1e9;function P(_){var v,O,D,E=S.prototype={constructor:S,toString:null,valueOf:null},F=new S(1),L=20,G=4,V=-7,Q=21,ie=-1e7,ne=1e7,ce=!1,ge=1,le=0,Oe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},de="0123456789abcdefghijklmnopqrstuvwxyz",Be=!0;function S(e,t){var r,f,s,u,g,a,c,h,l=this;if(!(l instanceof S))return new S(e,t);if(t==null){if(e&&e._isBigNumber===!0){l.s=e.s,!e.c||e.e>ne?l.c=l.e=null:e.e<ie?l.c=[l.e=0]:(l.e=e.e,l.c=e.c.slice());return}if((a=typeof e=="number")&&e*0==0){if(l.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,g=e;g>=10;g/=10,u++);u>ne?l.c=l.e=null:(l.e=u,l.c=[e]);return}h=String(e)}else{if(!w.test(h=String(e)))return D(l,h,a);l.s=h.charCodeAt(0)==45?(h=h.slice(1),-1):1}(u=h.indexOf("."))>-1&&(h=h.replace(".","")),(g=h.search(/e/i))>0?(u<0&&(u=g),u+=+h.slice(g+1),h=h.substring(0,g)):u<0&&(u=h.length)}else{if(K(t,2,de.length,"Base"),t==10&&Be)return l=new S(e),ae(l,L+l.e+1,G);if(h=String(e),a=typeof e=="number"){if(e*0!=0)return D(l,h,a,t);if(l.s=1/e<0?(h=h.slice(1),-1):1,S.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(p+e)}else l.s=h.charCodeAt(0)===45?(h=h.slice(1),-1):1;for(r=de.slice(0,t),u=g=0,c=h.length;g<c;g++)if(r.indexOf(f=h.charAt(g))<0){if(f=="."){if(g>u){u=c;continue}}else if(!s&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){s=!0,g=-1,u=0;continue}return D(l,String(e),a,t)}a=!1,h=O(h,t,10,l.s),(u=h.indexOf("."))>-1?h=h.replace(".",""):u=h.length}for(g=0;h.charCodeAt(g)===48;g++);for(c=h.length;h.charCodeAt(--c)===48;);if(h=h.slice(g,++c)){if(c-=g,a&&S.DEBUG&&c>15&&(e>N||e!==k(e)))throw Error(p+l.s*e);if((u=u-g-1)>ne)l.c=l.e=null;else if(u<ie)l.c=[l.e=0];else{if(l.e=u,l.c=[],g=(u+1)%y,u<0&&(g+=y),g<c){for(g&&l.c.push(+h.slice(0,g)),c-=y;g<c;)l.c.push(+h.slice(g,g+=y));g=y-(h=h.slice(g)).length}else g-=c;for(;g--;h+="0");l.c.push(+h)}}else l.c=[l.e=0]}S.clone=P,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(e){var t,r;if(e!=null)if(typeof e=="object"){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(r=e[t],K(r,0,I,t),L=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(r=e[t],K(r,0,8,t),G=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(r=e[t],r&&r.pop?(K(r[0],-I,0,t),K(r[1],0,I,t),V=r[0],Q=r[1]):(K(r,-I,I,t),V=-(Q=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if(r=e[t],r&&r.pop)K(r[0],-I,-1,t),K(r[1],1,I,t),ie=r[0],ne=r[1];else if(K(r,-I,I,t),r)ie=-(ne=r<0?-r:r);else throw Error(d+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(r=e[t],r===!!r)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ce=r;else throw ce=!r,Error(d+"crypto unavailable");else ce=r;else throw Error(d+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(r=e[t],K(r,0,9,t),ge=r),e.hasOwnProperty(t="POW_PRECISION")&&(r=e[t],K(r,0,I,t),le=r),e.hasOwnProperty(t="FORMAT"))if(r=e[t],typeof r=="object")Oe=r;else throw Error(d+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET"))if(r=e[t],typeof r=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(r))Be=r.slice(0,10)=="0123456789",de=r;else throw Error(d+t+" invalid: "+r)}else throw Error(d+"Object expected: "+e);return{DECIMAL_PLACES:L,ROUNDING_MODE:G,EXPONENTIAL_AT:[V,Q],RANGE:[ie,ne],CRYPTO:ce,MODULO_MODE:ge,POW_PRECISION:le,FORMAT:Oe,ALPHABET:de}},S.isBigNumber=function(e){if(!e||e._isBigNumber!==!0)return!1;if(!S.DEBUG)return!0;var t,r,f=e.c,s=e.e,u=e.s;e:if({}.toString.call(f)=="[object Array]"){if((u===1||u===-1)&&s>=-I&&s<=I&&s===k(s)){if(f[0]===0){if(s===0&&f.length===1)return!0;break e}if(t=(s+1)%y,t<1&&(t+=y),String(f[0]).length==t){for(t=0;t<f.length;t++)if(r=f[t],r<0||r>=m||r!==k(r))break e;if(r!==0)return!0}}}else if(f===null&&s===null&&(u===null||u===1||u===-1))return!0;throw Error(d+"Invalid BigNumber: "+e)},S.maximum=S.max=function(){return je(arguments,E.lt)},S.minimum=S.min=function(){return je(arguments,E.gt)},S.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return k(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(r){var f,s,u,g,a,c=0,h=[],l=new S(F);if(r==null?r=L:K(r,0,I),g=A(r/y),ce)if(crypto.getRandomValues){for(f=crypto.getRandomValues(new Uint32Array(g*=2));c<g;)a=f[c]*131072+(f[c+1]>>>11),a>=9e15?(s=crypto.getRandomValues(new Uint32Array(2)),f[c]=s[0],f[c+1]=s[1]):(h.push(a%1e14),c+=2);c=g/2}else if(crypto.randomBytes){for(f=crypto.randomBytes(g*=7);c<g;)a=(f[c]&31)*281474976710656+f[c+1]*1099511627776+f[c+2]*4294967296+f[c+3]*16777216+(f[c+4]<<16)+(f[c+5]<<8)+f[c+6],a>=9e15?crypto.randomBytes(7).copy(f,c):(h.push(a%1e14),c+=7);c=g/7}else throw ce=!1,Error(d+"crypto unavailable");if(!ce)for(;c<g;)a=t(),a<9e15&&(h[c++]=a%1e14);for(g=h[--c],r%=y,g&&r&&(a=R[y-r],h[c]=k(g/a)*a);h[c]===0;h.pop(),c--);if(c<0)h=[u=0];else{for(u=-1;h[0]===0;h.splice(0,1),u-=y);for(c=1,a=h[0];a>=10;a/=10,c++);c<y&&(u-=y-c)}return l.e=u,l.c=h,l}}(),S.sum=function(){for(var e=1,t=arguments,r=new S(t[0]);e<t.length;)r=r.plus(t[e++]);return r},O=function(){var e="0123456789";function t(r,f,s,u){for(var g,a=[0],c,h=0,l=r.length;h<l;){for(c=a.length;c--;a[c]*=f);for(a[0]+=u.indexOf(r.charAt(h++)),g=0;g<a.length;g++)a[g]>s-1&&(a[g+1]==null&&(a[g+1]=0),a[g+1]+=a[g]/s|0,a[g]%=s)}return a.reverse()}return function(r,f,s,u,g){var a,c,h,l,T,U,C,H,J=r.indexOf("."),Z=L,$=G;for(J>=0&&(l=le,le=0,r=r.replace(".",""),H=new S(f),U=H.pow(r.length-J),le=l,H.c=t(b(q(U.c),U.e,"0"),10,s,e),H.e=H.c.length),C=t(r,f,s,g?(a=de,e):(a=e,de)),h=l=C.length;C[--l]==0;C.pop());if(!C[0])return a.charAt(0);if(J<0?--h:(U.c=C,U.e=h,U.s=u,U=v(U,H,Z,$,s),C=U.c,T=U.r,h=U.e),c=h+Z+1,J=C[c],l=s/2,T=T||c<0||C[c+1]!=null,T=$<4?(J!=null||T)&&($==0||$==(U.s<0?3:2)):J>l||J==l&&($==4||T||$==6&&C[c-1]&1||$==(U.s<0?8:7)),c<1||!C[0])r=T?b(a.charAt(1),-Z,a.charAt(0)):a.charAt(0);else{if(C.length=c,T)for(--s;++C[--c]>s;)C[c]=0,c||(++h,C=[1].concat(C));for(l=C.length;!C[--l];);for(J=0,r="";J<=l;r+=a.charAt(C[J++]));r=b(r,h,a.charAt(0))}return r}}(),v=function(){function e(f,s,u){var g,a,c,h,l=0,T=f.length,U=s%x,C=s/x|0;for(f=f.slice();T--;)c=f[T]%x,h=f[T]/x|0,g=C*c+h*U,a=U*c+g%x*x+l,l=(a/u|0)+(g/x|0)+C*h,f[T]=a%u;return l&&(f=[l].concat(f)),f}function t(f,s,u,g){var a,c;if(u!=g)c=u>g?1:-1;else for(a=c=0;a<u;a++)if(f[a]!=s[a]){c=f[a]>s[a]?1:-1;break}return c}function r(f,s,u,g){for(var a=0;u--;)f[u]-=a,a=f[u]<s[u]?1:0,f[u]=a*g+f[u]-s[u];for(;!f[0]&&f.length>1;f.splice(0,1));}return function(f,s,u,g,a){var c,h,l,T,U,C,H,J,Z,$,W,Y,ve,Re,Pe,oe,we,se=f.s==s.s?1:-1,ee=f.c,X=s.c;if(!ee||!ee[0]||!X||!X[0])return new S(!f.s||!s.s||(ee?X&&ee[0]==X[0]:!X)?NaN:ee&&ee[0]==0||!X?se*0:se/0);for(J=new S(se),Z=J.c=[],h=f.e-s.e,se=u+h+1,a||(a=m,h=M(f.e/y)-M(s.e/y),se=se/y|0),l=0;X[l]==(ee[l]||0);l++);if(X[l]>(ee[l]||0)&&h--,se<0)Z.push(1),T=!0;else{for(Re=ee.length,oe=X.length,l=0,se+=2,U=k(a/(X[0]+1)),U>1&&(X=e(X,U,a),ee=e(ee,U,a),oe=X.length,Re=ee.length),ve=oe,$=ee.slice(0,oe),W=$.length;W<oe;$[W++]=0);we=X.slice(),we=[0].concat(we),Pe=X[0],X[1]>=a/2&&Pe++;do{if(U=0,c=t(X,$,oe,W),c<0){if(Y=$[0],oe!=W&&(Y=Y*a+($[1]||0)),U=k(Y/Pe),U>1)for(U>=a&&(U=a-1),C=e(X,U,a),H=C.length,W=$.length;t(C,$,H,W)==1;)U--,r(C,oe<H?we:X,H,a),H=C.length,c=1;else U==0&&(c=U=1),C=X.slice(),H=C.length;if(H<W&&(C=[0].concat(C)),r($,C,W,a),W=$.length,c==-1)for(;t(X,$,oe,W)<1;)U++,r($,oe<W?we:X,W,a),W=$.length}else c===0&&(U++,$=[0]);Z[l++]=U,$[0]?$[W++]=ee[ve]||0:($=[ee[ve]],W=1)}while((ve++<Re||$[0]!=null)&&se--);T=$[0]!=null,Z[0]||Z.splice(0,1)}if(a==m){for(l=1,se=Z[0];se>=10;se/=10,l++);ae(J,u+(J.e=l+h*y-1)+1,g,T)}else J.e=h,J.r=+T;return J}}();function Ue(e,t,r,f){var s,u,g,a,c;if(r==null?r=G:K(r,0,8),!e.c)return e.toString();if(s=e.c[0],g=e.e,t==null)c=q(e.c),c=f==1||f==2&&(g<=V||g>=Q)?re(c,g):b(c,g,"0");else if(e=ae(new S(e),t,r),u=e.e,c=q(e.c),a=c.length,f==1||f==2&&(t<=u||u<=V)){for(;a<t;c+="0",a++);c=re(c,u)}else if(t-=g,c=b(c,u,"0"),u+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if(t+=u-a,t>0)for(u+1==a&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function je(e,t){for(var r,f=1,s=new S(e[0]);f<e.length;f++)if(r=new S(e[f]),r.s)t.call(s,r)&&(s=r);else{s=r;break}return s}function Ce(e,t,r){for(var f=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,f++);return(r=f+r*y-1)>ne?e.c=e.e=null:r<ie?e.c=[e.e=0]:(e.e=r,e.c=t),e}D=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(u,g,a,c){var h,l=a?g:g.replace(s,"");if(f.test(l))u.s=isNaN(l)?null:l<0?-1:1;else{if(!a&&(l=l.replace(e,function(T,U,C){return h=(C=C.toLowerCase())=="x"?16:C=="b"?2:8,!c||c==h?U:T}),c&&(h=c,l=l.replace(t,"$1").replace(r,"0.$1")),g!=l))return new S(l,h);if(S.DEBUG)throw Error(d+"Not a"+(c?" base "+c:"")+" number: "+g);u.s=null}u.c=u.e=null}}();function ae(e,t,r,f){var s,u,g,a,c,h,l,T=e.c,U=R;if(T){e:{for(s=1,a=T[0];a>=10;a/=10,s++);if(u=t-s,u<0)u+=y,g=t,c=T[h=0],l=c/U[s-g-1]%10|0;else if(h=A((u+1)/y),h>=T.length)if(f){for(;T.length<=h;T.push(0));c=l=0,s=1,u%=y,g=u-y+1}else break e;else{for(c=a=T[h],s=1;a>=10;a/=10,s++);u%=y,g=u-y+s,l=g<0?0:c/U[s-g-1]%10|0}if(f=f||t<0||T[h+1]!=null||(g<0?c:c%U[s-g-1]),f=r<4?(l||f)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||f||r==6&&(u>0?g>0?c/U[s-g]:0:T[h-1])%10&1||r==(e.s<0?8:7)),t<1||!T[0])return T.length=0,f?(t-=e.e+1,T[0]=U[(y-t%y)%y],e.e=-t||0):T[0]=e.e=0,e;if(u==0?(T.length=h,a=1,h--):(T.length=h+1,a=U[y-u],T[h]=g>0?k(c/U[s-g]%U[g])*a:0),f)for(;;)if(h==0){for(u=1,g=T[0];g>=10;g/=10,u++);for(g=T[0]+=a,a=1;g>=10;g/=10,a++);u!=a&&(e.e++,T[0]==m&&(T[0]=1));break}else{if(T[h]+=a,T[h]!=m)break;T[h--]=0,a=1}for(u=T.length;T[--u]===0;T.pop());}e.e>ne?e.c=e.e=null:e.e<ie&&(e.c=[e.e=0])}return e}function ue(e){var t,r=e.e;return r===null?e.toString():(t=q(e.c),t=r<=V||r>=Q?re(t,r):b(t,r,"0"),e.s<0?"-"+t:t)}return E.absoluteValue=E.abs=function(){var e=new S(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return z(this,new S(e,t))},E.decimalPlaces=E.dp=function(e,t){var r,f,s,u=this;if(e!=null)return K(e,0,I),t==null?t=G:K(t,0,8),ae(new S(u),e+u.e+1,t);if(!(r=u.c))return null;if(f=((s=r.length-1)-M(this.e/y))*y,s=r[s])for(;s%10==0;s/=10,f--);return f<0&&(f=0),f},E.dividedBy=E.div=function(e,t){return v(this,new S(e,t),L,G)},E.dividedToIntegerBy=E.idiv=function(e,t){return v(this,new S(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var r,f,s,u,g,a,c,h,l,T=this;if(e=new S(e),e.c&&!e.isInteger())throw Error(d+"Exponent not an integer: "+ue(e));if(t!=null&&(t=new S(t)),a=e.e>14,!T.c||!T.c[0]||T.c[0]==1&&!T.e&&T.c.length==1||!e.c||!e.c[0])return l=new S(Math.pow(+ue(T),a?e.s*(2-te(e)):+ue(e))),t?l.mod(t):l;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new S(NaN);f=!c&&T.isInteger()&&t.isInteger(),f&&(T=T.mod(t))}else{if(e.e>9&&(T.e>0||T.e<-1||(T.e==0?T.c[0]>1||a&&T.c[1]>=24e7:T.c[0]<8e13||a&&T.c[0]<=9999975e7)))return u=T.s<0&&te(e)?-0:0,T.e>-1&&(u=1/u),new S(c?1/u:u);le&&(u=A(le/y+2))}for(a?(r=new S(.5),c&&(e.s=1),h=te(e)):(s=Math.abs(+ue(e)),h=s%2),l=new S(F);;){if(h){if(l=l.times(T),!l.c)break;u?l.c.length>u&&(l.c.length=u):f&&(l=l.mod(t))}if(s){if(s=k(s/2),s===0)break;h=s%2}else if(e=e.times(r),ae(e,e.e+1,1),e.e>14)h=te(e);else{if(s=+ue(e),s===0)break;h=s%2}T=T.times(T),u?T.c&&T.c.length>u&&(T.c.length=u):f&&(T=T.mod(t))}return f?l:(c&&(l=F.div(l)),t?l.mod(t):u?ae(l,le,G,g):l)},E.integerValue=function(e){var t=new S(this);return e==null?e=G:K(e,0,8),ae(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return z(this,new S(e,t))===0},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return z(this,new S(e,t))>0},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return(t=z(this,new S(e,t)))===1||t===0},E.isInteger=function(){return!!this.c&&M(this.e/y)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return z(this,new S(e,t))<0},E.isLessThanOrEqualTo=E.lte=function(e,t){return(t=z(this,new S(e,t)))===-1||t===0},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return this.s>0},E.isZero=function(){return!!this.c&&this.c[0]==0},E.minus=function(e,t){var r,f,s,u,g=this,a=g.s;if(e=new S(e,t),t=e.s,!a||!t)return new S(NaN);if(a!=t)return e.s=-t,g.plus(e);var c=g.e/y,h=e.e/y,l=g.c,T=e.c;if(!c||!h){if(!l||!T)return l?(e.s=-t,e):new S(T?g:NaN);if(!l[0]||!T[0])return T[0]?(e.s=-t,e):new S(l[0]?g:G==3?-0:0)}if(c=M(c),h=M(h),l=l.slice(),a=c-h){for((u=a<0)?(a=-a,s=l):(h=c,s=T),s.reverse(),t=a;t--;s.push(0));s.reverse()}else for(f=(u=(a=l.length)<(t=T.length))?a:t,a=t=0;t<f;t++)if(l[t]!=T[t]){u=l[t]<T[t];break}if(u&&(s=l,l=T,T=s,e.s=-e.s),t=(f=T.length)-(r=l.length),t>0)for(;t--;l[r++]=0);for(t=m-1;f>a;){if(l[--f]<T[f]){for(r=f;r&&!l[--r];l[r]=t);--l[r],l[f]+=m}l[f]-=T[f]}for(;l[0]==0;l.splice(0,1),--h);return l[0]?Ce(e,l,h):(e.s=G==3?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var r,f,s=this;return e=new S(e,t),!s.c||!e.s||e.c&&!e.c[0]?new S(NaN):!e.c||s.c&&!s.c[0]?new S(s):(ge==9?(f=e.s,e.s=1,r=v(s,e,0,3),e.s=f,r.s*=f):r=v(s,e,0,ge),e=s.minus(r.times(e)),!e.c[0]&&ge==1&&(e.s=s.s),e)},E.multipliedBy=E.times=function(e,t){var r,f,s,u,g,a,c,h,l,T,U,C,H,J,Z,$=this,W=$.c,Y=(e=new S(e,t)).c;if(!W||!Y||!W[0]||!Y[0])return!$.s||!e.s||W&&!W[0]&&!Y||Y&&!Y[0]&&!W?e.c=e.e=e.s=null:(e.s*=$.s,!W||!Y?e.c=e.e=null:(e.c=[0],e.e=0)),e;for(f=M($.e/y)+M(e.e/y),e.s*=$.s,c=W.length,T=Y.length,c<T&&(H=W,W=Y,Y=H,s=c,c=T,T=s),s=c+T,H=[];s--;H.push(0));for(J=m,Z=x,s=T;--s>=0;){for(r=0,U=Y[s]%Z,C=Y[s]/Z|0,g=c,u=s+g;u>s;)h=W[--g]%Z,l=W[g]/Z|0,a=C*h+l*U,h=U*h+a%Z*Z+H[u]+r,r=(h/J|0)+(a/Z|0)+C*l,H[u--]=h%J;H[u]=r}return r?++f:H.splice(0,1),Ce(e,H,f)},E.negated=function(){var e=new S(this);return e.s=-e.s||null,e},E.plus=function(e,t){var r,f=this,s=f.s;if(e=new S(e,t),t=e.s,!s||!t)return new S(NaN);if(s!=t)return e.s=-t,f.minus(e);var u=f.e/y,g=e.e/y,a=f.c,c=e.c;if(!u||!g){if(!a||!c)return new S(s/0);if(!a[0]||!c[0])return c[0]?e:new S(a[0]?f:s*0)}if(u=M(u),g=M(g),a=a.slice(),s=u-g){for(s>0?(g=u,r=c):(s=-s,r=a),r.reverse();s--;r.push(0));r.reverse()}for(s=a.length,t=c.length,s-t<0&&(r=c,c=a,a=r,t=s),s=0;t;)s=(a[--t]=a[t]+c[t]+s)/m|0,a[t]=m===a[t]?0:a[t]%m;return s&&(a=[s].concat(a),++g),Ce(e,a,g)},E.precision=E.sd=function(e,t){var r,f,s,u=this;if(e!=null&&e!==!!e)return K(e,1,I),t==null?t=G:K(t,0,8),ae(new S(u),e,t);if(!(r=u.c))return null;if(s=r.length-1,f=s*y+1,s=r[s]){for(;s%10==0;s/=10,f--);for(s=r[0];s>=10;s/=10,f++);}return e&&u.e+1>f&&(f=u.e+1),f},E.shiftedBy=function(e){return K(e,-N,N),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,r,f,s,u=this,g=u.c,a=u.s,c=u.e,h=L+4,l=new S("0.5");if(a!==1||!g||!g[0])return new S(!a||a<0&&(!g||g[0])?NaN:g?u:1/0);if(a=Math.sqrt(+ue(u)),a==0||a==1/0?(t=q(g),(t.length+c)%2==0&&(t+="0"),a=Math.sqrt(+t),c=M((c+1)/2)-(c<0||c%2),a==1/0?t="5e"+c:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new S(t)):r=new S(a+""),r.c[0]){for(c=r.e,a=c+h,a<3&&(a=0);;)if(s=r,r=l.times(s.plus(v(u,s,h,1))),q(s.c).slice(0,a)===(t=q(r.c)).slice(0,a))if(r.e<c&&--a,t=t.slice(a-3,a+1),t=="9999"||!f&&t=="4999"){if(!f&&(ae(s,s.e+L+2,0),s.times(s).eq(u))){r=s;break}h+=4,a+=4,f=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ae(r,r.e+L+2,1),e=!r.times(r).eq(u));break}}return ae(r,r.e+L+1,G,e)},E.toExponential=function(e,t){return e!=null&&(K(e,0,I),e++),Ue(this,e,t,1)},E.toFixed=function(e,t){return e!=null&&(K(e,0,I),e=e+this.e+1),Ue(this,e,t)},E.toFormat=function(e,t,r){var f,s=this;if(r==null)e!=null&&t&&typeof t=="object"?(r=t,t=null):e&&typeof e=="object"?(r=e,e=t=null):r=Oe;else if(typeof r!="object")throw Error(d+"Argument not an object: "+r);if(f=s.toFixed(e,t),s.c){var u,g=f.split("."),a=+r.groupSize,c=+r.secondaryGroupSize,h=r.groupSeparator||"",l=g[0],T=g[1],U=s.s<0,C=U?l.slice(1):l,H=C.length;if(c&&(u=a,a=c,c=u,H-=u),a>0&&H>0){for(u=H%a||a,l=C.substr(0,u);u<H;u+=a)l+=h+C.substr(u,a);c>0&&(l+=h+C.slice(u)),U&&(l="-"+l)}f=T?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?T.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):T):l}return(r.prefix||"")+f+(r.suffix||"")},E.toFraction=function(e){var t,r,f,s,u,g,a,c,h,l,T,U,C=this,H=C.c;if(e!=null&&(a=new S(e),!a.isInteger()&&(a.c||a.s!==1)||a.lt(F)))throw Error(d+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+ue(a));if(!H)return new S(C);for(t=new S(F),h=r=new S(F),f=c=new S(F),U=q(H),u=t.e=U.length-C.e-1,t.c[0]=R[(g=u%y)<0?y+g:g],e=!e||a.comparedTo(t)>0?u>0?t:h:a,g=ne,ne=1/0,a=new S(U),c.c[0]=0;l=v(a,t,0,1),s=r.plus(l.times(f)),s.comparedTo(e)!=1;)r=f,f=s,h=c.plus(l.times(s=h)),c=s,t=a.minus(l.times(s=t)),a=s;return s=v(e.minus(r),f,0,1),c=c.plus(s.times(h)),r=r.plus(s.times(f)),c.s=h.s=C.s,u=u*2,T=v(h,f,u,G).minus(C).abs().comparedTo(v(c,r,u,G).minus(C).abs())<1?[h,f]:[c,r],ne=g,T},E.toNumber=function(){return+ue(this)},E.toPrecision=function(e,t){return e!=null&&K(e,1,I),Ue(this,e,t,2)},E.toString=function(e){var t,r=this,f=r.s,s=r.e;return s===null?f?(t="Infinity",f<0&&(t="-"+t)):t="NaN":(e==null?t=s<=V||s>=Q?re(q(r.c),s):b(q(r.c),s,"0"):e===10&&Be?(r=ae(new S(r),L+s+1,G),t=b(q(r.c),r.e,"0")):(K(e,2,de.length,"Base"),t=O(b(q(r.c),s,"0"),10,e,f,!0)),f<0&&r.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return ue(this)},E._isBigNumber=!0,_!=null&&S.set(_),S}function M(_){var v=_|0;return _>0||_===v?v:v-1}function q(_){for(var v,O,D=1,E=_.length,F=_[0]+"";D<E;){for(v=_[D++]+"",O=y-v.length;O--;v="0"+v);F+=v}for(E=F.length;F.charCodeAt(--E)===48;);return F.slice(0,E+1||1)}function z(_,v){var O,D,E=_.c,F=v.c,L=_.s,G=v.s,V=_.e,Q=v.e;if(!L||!G)return null;if(O=E&&!E[0],D=F&&!F[0],O||D)return O?D?0:-G:L;if(L!=G)return L;if(O=L<0,D=V==Q,!E||!F)return D?0:!E^O?1:-1;if(!D)return V>Q^O?1:-1;for(G=(V=E.length)<(Q=F.length)?V:Q,L=0;L<G;L++)if(E[L]!=F[L])return E[L]>F[L]^O?1:-1;return V==Q?0:V>Q^O?1:-1}function K(_,v,O,D){if(_<v||_>O||_!==k(_))throw Error(d+(D||"Argument")+(typeof _=="number"?_<v||_>O?" out of range: ":" not an integer: ":" not a primitive number: ")+String(_))}function te(_){var v=_.c.length-1;return M(_.e/y)==v&&_.c[v]%2!=0}function re(_,v){return(_.length>1?_.charAt(0)+"."+_.slice(1):_)+(v<0?"e":"e+")+v}function b(_,v,O){var D,E;if(v<0){for(E=O+".";++v;E+=O);_=E+_}else if(D=_.length,++v>D){for(E=O,v-=D;--v;E+=O);_+=E}else v<D&&(_=_.slice(0,v)+"."+_.slice(v));return _}i=P(),i.default=i.BigNumber=i,o.exports?o.exports=i:(n||(n=typeof self<"u"&&self?self:window),n.BigNumber=i)})(me)})(nt);var at={},Ee={},De={};Object.defineProperty(De,"__esModule",{value:!0});const St=nt.exports;class bt{constructor(){B(this,"BigNum");this.BigNum=(n,i)=>{let w=St.BigNumber.clone({DECIMAL_PLACES:i});return new w(n)}}winstonToAr(n,{formatted:i=!1,decimals:w=12,trim:A=!0}={}){let k=this.stringToBigNum(n,w).shiftedBy(-12);return i?k.toFormat(w):k.toFixed(w)}arToWinston(n,{formatted:i=!1}={}){let w=this.stringToBigNum(n).shiftedBy(12);return i?w.toFormat():w.toFixed(0)}compare(n,i){let w=this.stringToBigNum(n),A=this.stringToBigNum(i);return w.comparedTo(A)}isEqual(n,i){return this.compare(n,i)===0}isLessThan(n,i){let w=this.stringToBigNum(n),A=this.stringToBigNum(i);return w.isLessThan(A)}isGreaterThan(n,i){let w=this.stringToBigNum(n),A=this.stringToBigNum(i);return w.isGreaterThan(A)}add(n,i){let w=this.stringToBigNum(n);return this.stringToBigNum(i),w.plus(i).toFixed(0)}sub(n,i){let w=this.stringToBigNum(n);return this.stringToBigNum(i),w.minus(i).toFixed(0)}stringToBigNum(n,i=12){return this.BigNum(n,i)}}De.default=bt;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});class kt{constructor(n){B(this,"METHOD_GET","GET");B(this,"METHOD_POST","POST");B(this,"config");this.applyConfig(n)}applyConfig(n){this.config=this.mergeDefaults(n)}getConfig(){return this.config}mergeDefaults(n){const i=n.protocol||"http",w=n.port||(i==="https"?443:80);return{host:n.host||"127.0.0.1",protocol:i,port:w,timeout:n.timeout||2e4,logging:n.logging||!1,logger:n.logger||console.log,network:n.network}}async get(n,i){return await this.request(n,{...i,method:this.METHOD_GET})}async post(n,i,w){const A=new Headers(w?.headers||{});return A.get("content-type")?.includes("application/json")||A.append("content-type","application/json"),A.append("accept","application/json, text/plain, */*"),await this.request(n,{...w,method:this.METHOD_POST,body:typeof i!="string"?JSON.stringify(i):i,headers:A})}async request(n,i){const w=new Headers(i?.headers||{}),A=`${this.config.protocol}://${this.config.host}:${this.config.port}`,k=i?.responseType;delete i?.responseType,n.startsWith("/")&&(n=n.slice(1)),this.config.network&&w.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${A}/${n}`);let d=await fetch(`${A}/${n}`,{...i||{},headers:w});this.config.logging&&this.config.logger(`Response:   ${d.url} - ${d.status}`);const m=d.headers.get("content-type")?.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i)?.[1],y=d,N=async()=>{if(m)try{y.data=new TextDecoder(m).decode(await d.arrayBuffer())}catch{y.data=await d.text()}else y.data=await d.text()};if(k==="arraybuffer")y.data=await d.arrayBuffer();else if(k==="text")await N();else if(k==="webstream")y.data=Nt(d.body);else try{let R=await d.clone().json();typeof R!="object"?await N():y.data=await d.json(),R=null}catch{await N()}return y}}Me.default=kt;const Nt=o=>{const n=o;return typeof n[Symbol.asyncIterator]>"u"?(n[Symbol.asyncIterator]=Ot(o),n):o},Ot=function(o){return async function*(){const i=o.getReader();try{for(;;){const{done:w,value:A}=await i.read();if(w)return;yield A}}finally{i.releaseLock()}}};var $e={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.b64UrlDecode=j.b64UrlEncode=j.bufferTob64Url=j.bufferTob64=j.b64UrlToBuffer=j.stringToB64Url=j.stringToBuffer=j.bufferToString=j.b64UrlToString=j.concatBuffers=void 0;const st=mt;function Bt(o){let n=0;for(let A=0;A<o.length;A++)n+=o[A].byteLength;let i=new Uint8Array(n),w=0;i.set(new Uint8Array(o[0]),w),w+=o[0].byteLength;for(let A=1;A<o.length;A++)i.set(new Uint8Array(o[A]),w),w+=o[A].byteLength;return i}j.concatBuffers=Bt;function Ut(o){let n=ct(o);return it(n)}j.b64UrlToString=Ut;function it(o){return new TextDecoder("utf-8",{fatal:!0}).decode(o)}j.bufferToString=it;function ot(o){return new TextEncoder().encode(o)}j.stringToBuffer=ot;function Ct(o){return lt(ot(o))}j.stringToB64Url=Ct;function ct(o){return new Uint8Array(st.toByteArray(ht(o)))}j.b64UrlToBuffer=ct;function ut(o){return st.fromByteArray(new Uint8Array(o))}j.bufferTob64=ut;function lt(o){return ft(ut(o))}j.bufferTob64Url=lt;function ft(o){try{return o.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}catch(n){throw new Error("Failed to encode string",{cause:n})}}j.b64UrlEncode=ft;function ht(o){try{o=o.replace(/\-/g,"+").replace(/\_/g,"/");let n;return o.length%4==0?n=0:n=4-o.length%4,o.concat("=".repeat(n))}catch(n){throw new Error("Failed to decode string",{cause:n})}}j.b64UrlDecode=ht;Object.defineProperty($e,"__esModule",{value:!0});const fe=j;class Rt{constructor(){B(this,"keyLength",4096);B(this,"publicExponent",65537);B(this,"hashAlgorithm","sha256");B(this,"driver");if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let n=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),i=await this.driver.exportKey("jwk",n.privateKey);return{kty:i.kty,e:i.e,n:i.n,d:i.d,p:i.p,q:i.q,dp:i.dp,dq:i.dq,qi:i.qi}}async sign(n,i,{saltLength:w}={}){let A=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(n),i);return new Uint8Array(A)}async hash(n,i="SHA-256"){let w=await this.driver.digest(i,n);return new Uint8Array(w)}async verify(n,i,w){const A={kty:"RSA",e:"AQAB",n},k=await this.jwkToPublicCryptoKey(A),d=await this.driver.digest("SHA-256",i),p=await this.driver.verify({name:"RSA-PSS",saltLength:0},k,w,i),m=await this.driver.verify({name:"RSA-PSS",saltLength:32},k,w,i),y=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((k.algorithm.modulusLength-1)/8)-d.byteLength-2},k,w,i);return p||m||y}async jwkToCryptoKey(n){return this.driver.importKey("jwk",n,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(n){return this.driver.importKey("jwk",n,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;const n=crypto?.subtle;return n===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(w=>typeof n[w]=="function")}async encrypt(n,i,w){const A=await this.driver.importKey("raw",typeof i=="string"?fe.stringToBuffer(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),k=await this.driver.deriveKey({name:"PBKDF2",salt:w?fe.stringToBuffer(w):fe.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},A,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),d=new Uint8Array(16);crypto.getRandomValues(d);const p=await this.driver.encrypt({name:"AES-CBC",iv:d},k,n);return fe.concatBuffers([d,p])}async decrypt(n,i,w){const A=await this.driver.importKey("raw",typeof i=="string"?fe.stringToBuffer(i):i,{name:"PBKDF2",length:32},!1,["deriveKey"]),k=await this.driver.deriveKey({name:"PBKDF2",salt:w?fe.stringToBuffer(w):fe.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},A,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),d=n.slice(0,16),p=await this.driver.decrypt({name:"AES-CBC",iv:d},k,n.slice(16));return fe.concatBuffers([p])}}$e.default=Rt;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});class Pt{constructor(n){B(this,"api");this.api=n}getInfo(){return this.api.get("info").then(n=>n.data)}getPeers(){return this.api.get("peers").then(n=>n.data)}}Le.default=Pt;var Ae={},he={};Object.defineProperty(he,"__esModule",{value:!0});he.getError=void 0;class xt extends Error{constructor(i,w={}){var n=(...args)=>{super(...args);B(this,"type");B(this,"response")};w.message?n(w.message):n(),this.type=i,this.response=w.response}getType(){return this.type}}he.default=xt;function It(o){let n=o.data;if(typeof o.data=="string")try{n=JSON.parse(o.data)}catch{}if(o.data instanceof ArrayBuffer||o.data instanceof Uint8Array)try{n=JSON.parse(n.toString())}catch{}return n?n.error||n:o.statusText||"unknown"}he.getError=It;var pe={},Se={},Ge;function Dt(){if(Ge)return Se;Ge=1,Object.defineProperty(Se,"__esModule",{value:!0});const o=be();async function n(w){if(Array.isArray(w)){const d=o.default.utils.concatBuffers([o.default.utils.stringToBuffer("list"),o.default.utils.stringToBuffer(w.length.toString())]);return await i(w,await o.default.crypto.hash(d,"SHA-384"))}const A=o.default.utils.concatBuffers([o.default.utils.stringToBuffer("blob"),o.default.utils.stringToBuffer(w.byteLength.toString())]),k=o.default.utils.concatBuffers([await o.default.crypto.hash(A,"SHA-384"),await o.default.crypto.hash(w,"SHA-384")]);return await o.default.crypto.hash(k,"SHA-384")}Se.default=n;async function i(w,A){if(w.length<1)return A;const k=o.default.utils.concatBuffers([A,await n(w[0])]),d=await o.default.crypto.hash(k,"SHA-384");return await i(w.slice(1),d)}return Se}var xe={},We;function dt(){return We||(We=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.debug=o.validatePath=o.arrayCompare=o.bufferToInt=o.intToBuffer=o.arrayFlatten=o.generateProofs=o.buildLayers=o.generateTransactionChunks=o.generateTree=o.computeRootHash=o.generateLeaves=o.chunkData=o.MIN_CHUNK_SIZE=o.MAX_CHUNK_SIZE=void 0;const n=be(),i=j;o.MAX_CHUNK_SIZE=256*1024,o.MIN_CHUNK_SIZE=32*1024;const w=32,A=32;async function k(b){let _=[],v=b,O=0;for(;v.byteLength>=o.MAX_CHUNK_SIZE;){let D=o.MAX_CHUNK_SIZE,E=v.byteLength-o.MAX_CHUNK_SIZE;E>0&&E<o.MIN_CHUNK_SIZE&&(D=Math.ceil(v.byteLength/2));const F=v.slice(0,D),L=await n.default.crypto.hash(F);O+=F.byteLength,_.push({dataHash:L,minByteRange:O-F.byteLength,maxByteRange:O}),v=v.slice(D)}return _.push({dataHash:await n.default.crypto.hash(v),minByteRange:O,maxByteRange:O+v.byteLength}),_}o.chunkData=k;async function d(b){return Promise.all(b.map(async({dataHash:_,minByteRange:v,maxByteRange:O})=>({type:"leaf",id:await M(await Promise.all([M(_),M(q(O))])),dataHash:_,minByteRange:v,maxByteRange:O})))}o.generateLeaves=d;async function p(b){return(await m(b)).id}o.computeRootHash=p;async function m(b){return await N(await d(await k(b)))}o.generateTree=m;async function y(b){const _=await k(b),v=await d(_),O=await N(v),D=await R(O),E=_.slice(-1)[0];return E.maxByteRange-E.minByteRange===0&&(_.splice(_.length-1,1),D.splice(D.length-1,1)),{data_root:O.id,chunks:_,proofs:D}}o.generateTransactionChunks=y;async function N(b,_=0){if(b.length<2)return b[0];const v=[];for(let O=0;O<b.length;O+=2)v.push(await P(b[O],b[O+1]));return N(v,_+1)}o.buildLayers=N;function R(b){const _=x(b);return Array.isArray(_)?I(_):[_]}o.generateProofs=R;function x(b,_=new Uint8Array,v=0){if(b.type=="leaf")return{offset:b.maxByteRange-1,proof:(0,i.concatBuffers)([_,b.dataHash,q(b.maxByteRange)])};if(b.type=="branch"){const O=(0,i.concatBuffers)([_,b.leftChild.id,b.rightChild.id,q(b.byteRange)]);return[x(b.leftChild,O,v+1),x(b.rightChild,O,v+1)]}throw new Error("Unexpected node type")}function I(b){const _=[];return b.forEach(v=>{Array.isArray(v)?_.push(...I(v)):_.push(v)}),_}o.arrayFlatten=I;async function P(b,_){return _?{type:"branch",id:await M([await M(b.id),await M(_.id),await M(q(b.maxByteRange))]),byteRange:b.maxByteRange,maxByteRange:_.maxByteRange,leftChild:b,rightChild:_}:b}async function M(b){return Array.isArray(b)&&(b=n.default.utils.concatBuffers(b)),new Uint8Array(await n.default.crypto.hash(b))}function q(b){const _=new Uint8Array(w);for(var v=_.length-1;v>=0;v--){var O=b%256;_[v]=O,b=(b-O)/256}return _}o.intToBuffer=q;function z(b){let _=0;for(var v=0;v<b.length;v++)_*=256,_+=b[v];return _}o.bufferToInt=z;const K=(b,_)=>b.every((v,O)=>_[O]===v);o.arrayCompare=K;async function te(b,_,v,O,D){if(O<=0)return!1;if(_>=O)return te(b,0,O-1,O,D);if(_<0)return te(b,0,0,O,D);if(D.length==A+w){const ie=D.slice(0,A),ne=D.slice(ie.length,ie.length+w),ce=await M([await M(ie),await M(ne)]);return(0,o.arrayCompare)(b,ce)?{offset:O-1,leftBound:v,rightBound:O,chunkSize:O-v}:!1}const E=D.slice(0,A),F=D.slice(E.length,E.length+A),L=D.slice(E.length+F.length,E.length+F.length+w),G=z(L),V=D.slice(E.length+F.length+L.length),Q=await M([await M(E),await M(F),await M(L)]);return(0,o.arrayCompare)(b,Q)?_<G?await te(E,_,v,Math.min(O,G),V):await te(F,_,Math.max(v,G),O,V):!1}o.validatePath=te;async function re(b,_=""){if(b.byteLength<1)return _;const v=b.slice(0,A),O=b.slice(v.length,v.length+A),D=b.slice(v.length+O.length,v.length+O.length+w),E=z(D),F=b.slice(v.length+O.length+D.length),L=await M([await M(v),await M(O),await M(D)]),G=`${_}
${JSON.stringify(Buffer.from(v))},${JSON.stringify(Buffer.from(O))},${E} => ${JSON.stringify(L)}`;return re(F,G)}o.debug=re}(xe)),xe}var ze;function He(){if(ze)return pe;ze=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Tag=void 0;const o=j,n=Dt(),i=dt();class w{get(p,m){if(!Object.getOwnPropertyNames(this).includes(p))throw new Error(`Field "${p}" is not a property of the Arweave Transaction class.`);if(this[p]instanceof Uint8Array)return m&&m.decode&&m.string?o.bufferToString(this[p]):m&&m.decode&&!m.string?this[p]:o.bufferTob64Url(this[p]);if(this[p]instanceof Array){if(m?.decode!==void 0||m?.string!==void 0)throw p==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[p]}return m&&m.decode==!0?m&&m.string?o.b64UrlToString(this[p]):o.b64UrlToBuffer(this[p]):this[p]}}class A extends w{constructor(m,y,N=!1){super();B(this,"name");B(this,"value");this.name=m,this.value=y}}pe.Tag=A;class k extends w{constructor(m={}){super();B(this,"format",2);B(this,"id","");B(this,"last_tx","");B(this,"owner","");B(this,"tags",[]);B(this,"target","");B(this,"quantity","0");B(this,"data_size","0");B(this,"data",new Uint8Array);B(this,"data_root","");B(this,"reward","0");B(this,"signature","");B(this,"chunks");Object.assign(this,m),typeof this.data=="string"&&(this.data=o.b64UrlToBuffer(this.data)),m.tags&&(this.tags=m.tags.map(y=>new A(y.name,y.value)))}addTag(m,y){this.tags.push(new A(o.stringToB64Url(m),o.stringToB64Url(y)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:o.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(m){this.owner=m}setSignature({id:m,owner:y,reward:N,tags:R,signature:x}){this.id=m,this.owner=y,N&&(this.reward=N),R&&(this.tags=R),this.signature=x}async prepareChunks(m){!this.chunks&&m.byteLength>0&&(this.chunks=await(0,i.generateTransactionChunks)(m),this.data_root=o.bufferTob64Url(this.chunks.data_root)),!this.chunks&&m.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(m,y){if(!this.chunks)throw new Error("Chunks have not been prepared");const N=this.chunks.proofs[m],R=this.chunks.chunks[m];return{data_root:this.data_root,data_size:this.data_size,data_path:o.bufferTob64Url(N.proof),offset:N.offset.toString(),chunk:o.bufferTob64Url(y.slice(R.minByteRange,R.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let m=this.tags.reduce((N,R)=>o.concatBuffers([N,R.get("name",{decode:!0,string:!1}),R.get("value",{decode:!0,string:!1})]),new Uint8Array);return o.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),o.stringToBuffer(this.quantity),o.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),m]);case 2:this.data_root||await this.prepareChunks(this.data);const y=this.tags.map(N=>[N.get("name",{decode:!0,string:!1}),N.get("value",{decode:!0,string:!1})]);return await(0,n.default)([o.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),o.stringToBuffer(this.quantity),o.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),y,o.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}return pe.default=k,pe}var ye={},Je;function Mt(){if(Je)return ye;Je=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.TransactionUploader=void 0;const o=He(),n=j,i=he,w=dt(),A=1,k=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],d=1e3*40;class p{constructor(y,N){B(this,"api");B(this,"chunkIndex",0);B(this,"txPosted",!1);B(this,"transaction");B(this,"lastRequestTimeEnd",0);B(this,"totalErrors",0);B(this,"data");B(this,"lastResponseStatus",0);B(this,"lastResponseError","");if(this.api=y,!N.id)throw new Error("Transaction is not signed");if(!N.chunks)throw new Error("Transaction chunks not prepared");this.data=N.data,this.transaction=new o.default(Object.assign({},N,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(y){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let N=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+d-Date.now(),d);if(N>0&&(N=N-N*Math.random()*.3,await new Promise(P=>setTimeout(P,N))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}y&&(this.chunkIndex=y);const R=this.transaction.getChunk(y||this.chunkIndex,this.data);if(!await(0,w.validatePath)(this.transaction.chunks.data_root,parseInt(R.offset),0,parseInt(R.data_size),n.b64UrlToBuffer(R.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const I=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(P=>(console.error(P.message),{status:-1,data:{error:P.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=I.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,i.getError)(I),k.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(y,N,R){if(!N||typeof N.chunkIndex!="number"||typeof N.transaction!="object")throw new Error("Serialized object does not match expected format.");var x=new o.default(N.transaction);x.chunks||await x.prepareChunks(R);const I=new p(y,x);if(I.chunkIndex=N.chunkIndex,I.lastRequestTimeEnd=N.lastRequestTimeEnd,I.lastResponseError=N.lastResponseError,I.lastResponseStatus=N.lastResponseStatus,I.txPosted=N.txPosted,I.data=R,I.transaction.data_root!==N.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return I}static async fromTransactionId(y,N){const R=await y.get(`tx/${N}`);if(R.status!==200)throw new Error(`Tx ${N} not found: ${R.status}`);const x=R.data;return x.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:x}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=A){this.transaction.data=this.data;const R=await this.api.post("tx",this.transaction).catch(x=>(console.error(x),{status:-1,data:{error:x.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=R.status,this.transaction.data=new Uint8Array(0),R.status>=200&&R.status<300){this.txPosted=!0,this.chunkIndex=A;return}throw this.lastResponseError=(0,i.getError)(R),new Error(`Unable to upload transaction: ${R.status}, ${this.lastResponseError}`)}const N=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=N.status,!(N.status>=200&&N.status<300))throw this.lastResponseError=(0,i.getError)(N),new Error(`Unable to upload transaction: ${N.status}, ${this.lastResponseError}`);this.txPosted=!0}}return ye.TransactionUploader=p,ye}var Xe;function $t(){if(Xe)return Ae;Xe=1,Object.defineProperty(Ae,"__esModule",{value:!0});const o=he,n=He(),i=j,w=Mt();class A{constructor(d,p,m){B(this,"api");B(this,"crypto");B(this,"chunks");this.api=d,this.crypto=p,this.chunks=m}async getTransactionAnchor(){const d=await this.api.get("tx_anchor");if(!d.data.match(/^[a-z0-9_-]{43,}/i)||!d.ok)throw new Error(`Could not getTransactionAnchor. Received: ${d.data}. Status: ${d.status}, ${d.statusText}`);return d.data}async getPrice(d,p){let m=p?`price/${d}/${p}`:`price/${d}`;const y=await this.api.get(m);if(!/^\d+$/.test(y.data)||!y.ok)throw new Error(`Could not getPrice. Received: ${y.data}. Status: ${y.status}, ${y.statusText}`);return y.data}async get(d){const p=await this.api.get(`tx/${d}`);if(p.status==200){const m=parseInt(p.data.data_size);if(p.data.format>=2&&m>0&&m<=1024*1024*12){const y=await this.getData(d);return new n.default({...p.data,data:y})}return new n.default({...p.data,format:p.data.format||1})}throw p.status==404?new o.default("TX_NOT_FOUND"):p.status==410?new o.default("TX_FAILED"):new o.default("TX_INVALID")}fromRaw(d){return new n.default(d)}async search(d,p){return this.api.post("arql",{op:"equals",expr1:d,expr2:p}).then(m=>m.data?m.data:[])}getStatus(d){return this.api.get(`tx/${d}/status`).then(p=>p.status==200?{status:200,confirmed:p.data}:{status:p.status,confirmed:null})}async getData(d,p){let m;try{m=await this.chunks.downloadChunkedData(d)}catch(y){console.error(`Error while trying to download chunked data for ${d}`),console.error(y)}if(!m){console.warn(`Falling back to gateway cache for ${d}`);try{const{data:y,ok:N,status:R,statusText:x}=await this.api.get(`/${d}`,{responseType:"arraybuffer"});if(!N)throw new Error("Bad http status code",{cause:{status:R,statusText:x}});m=y}catch(y){console.error(`Error while trying to download contiguous data from gateway cache for ${d}`),console.error(y)}}if(!m)throw new Error(`${d} data was not found!`);return p&&p.decode&&!p.string?m:p&&p.decode&&p.string?i.bufferToString(m):i.bufferTob64Url(m)}async sign(d,p,m){const N=typeof p=="object"&&(x=>{let I=!0;return["n","e","d","p","q","dp","dq","qi"].map(P=>!(P in x)&&(I=!1)),I})(p),R=typeof arweaveWallet=="object";if(!N&&!R)throw new Error("No valid JWK or external wallet found to sign transaction.");if(N){d.setOwner(p.n);let x=await d.getSignatureData(),I=await this.crypto.sign(p,x,m),P=await this.crypto.hash(I);d.setSignature({id:i.bufferTob64Url(P),owner:p.n,signature:i.bufferTob64Url(I)})}else if(R){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}const x=await arweaveWallet.sign(d,m);d.setSignature({id:x.id,owner:x.owner,reward:x.reward,tags:x.tags,signature:x.signature})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(d){const p=await d.getSignatureData(),m=d.get("signature",{decode:!0,string:!1}),y=i.bufferTob64Url(await this.crypto.hash(m));if(d.id!==y)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(d.owner,p,m)}async post(d){if(typeof d=="string"?d=new n.default(JSON.parse(d)):typeof d.readInt32BE=="function"?d=new n.default(JSON.parse(d.toString())):typeof d=="object"&&!(d instanceof n.default)&&(d=new n.default(d)),!(d instanceof n.default))throw new Error("Must be Transaction object");d.chunks||await d.prepareChunks(d.data);const p=await this.getUploader(d,d.data);try{for(;!p.isComplete;)await p.uploadChunk()}catch(m){if(p.lastResponseStatus>0)return{status:p.lastResponseStatus,statusText:p.lastResponseError,data:{error:p.lastResponseError}};throw m}return{status:200,statusText:"OK",data:{}}}async getUploader(d,p){let m;if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),d instanceof n.default){if(p||(p=d.data),!(p instanceof Uint8Array))throw new Error("Data format is invalid");d.chunks||await d.prepareChunks(p),m=new w.TransactionUploader(this.api,d),(!m.data||m.data.length===0)&&(m.data=p)}else{if(typeof d=="string"&&(d=await w.TransactionUploader.fromTransactionId(this.api,d)),!p||!(p instanceof Uint8Array))throw new Error("Must provide data when resuming upload");m=await w.TransactionUploader.fromSerialized(this.api,d,p)}return m}async*upload(d,p){const m=await this.getUploader(d,p);for(;!m.isComplete;)await m.uploadChunk(),yield m;return m}}return Ae.default=A,Ae}var qe={};Object.defineProperty(qe,"__esModule",{value:!0});const Ze=j;class Lt{constructor(n,i){B(this,"api");B(this,"crypto");this.api=n,this.crypto=i}getBalance(n){return this.api.get(`wallet/${n}/balance`).then(i=>i.data)}getLastTransactionID(n){return this.api.get(`wallet/${n}/last_tx`).then(i=>i.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(n){return!n||n==="use_wallet"?this.getAddress():this.getAddress(n)}async getAddress(n){if(!n||n==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(n.n)}async ownerToAddress(n){return Ze.bufferTob64Url(await this.crypto.hash(Ze.b64UrlToBuffer(n)))}}qe.default=Lt;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.SiloResource=void 0;const Ve=j;class Ht{constructor(n,i,w){B(this,"api");B(this,"crypto");B(this,"transactions");this.api=n,this.crypto=i,this.transactions=w}async get(n){if(!n)throw new Error("No Silo URI specified");const i=await this.parseUri(n),w=await this.transactions.search("Silo-Name",i.getAccessKey());if(w.length==0)throw new Error(`No data could be found for the Silo URI: ${n}`);const A=await this.transactions.get(w[0]);if(!A)throw new Error(`No data could be found for the Silo URI: ${n}`);const k=A.get("data",{decode:!0,string:!1});return this.crypto.decrypt(k,i.getEncryptionKey())}async readTransactionData(n,i){if(!i)throw new Error("No Silo URI specified");const w=await this.parseUri(i),A=n.get("data",{decode:!0,string:!1});return this.crypto.decrypt(A,w.getEncryptionKey())}async parseUri(n){const i=n.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!i)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const w=i[1],A=Math.pow(2,parseInt(i[2])),k=await this.hash(Ve.stringToBuffer(w),A),d=Ve.bufferTob64(k.slice(0,15)),p=await this.hash(k.slice(16,31),1);return new gt(n,d,p)}async hash(n,i){let w=await this.crypto.hash(n);for(let A=0;A<i-1;A++)w=await this.crypto.hash(w);return w}}_e.default=Ht;class gt{constructor(n,i,w){B(this,"uri");B(this,"accessKey");B(this,"encryptionKey");this.uri=n,this.accessKey=i,this.encryptionKey=w}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}_e.SiloResource=gt;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});const Ye=he,qt=j;class Kt{constructor(n){B(this,"api");this.api=n}async getTransactionOffset(n){const i=await this.api.get(`tx/${n}/offset`);if(i.status===200)return i.data;throw new Error(`Unable to get transaction offset: ${(0,Ye.getError)(i)}`)}async getChunk(n){const i=await this.api.get(`chunk/${n}`);if(i.status===200)return i.data;throw new Error(`Unable to get chunk: ${(0,Ye.getError)(i)}`)}async getChunkData(n){const i=await this.getChunk(n);return qt.b64UrlToBuffer(i.chunk)}firstChunkOffset(n){return parseInt(n.offset)-parseInt(n.size)+1}async downloadChunkedData(n){const i=await this.getTransactionOffset(n),w=parseInt(i.size),k=parseInt(i.offset)-w+1,d=new Uint8Array(w);let p=0;for(;p<w;){this.api.config.logging&&console.log(`[chunk] ${p}/${w}`);let m;try{m=await this.getChunkData(k+p)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${k+p}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(m)d.set(m,p),p+=m.length;else throw new Error(`Couldn't complete data download at ${p}/${w}`)}return d}}Ke.default=Kt;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});const Qe=he,ke=class{constructor(n,i){B(this,"api");B(this,"network");this.api=n,this.network=i}async get(n){const i=await this.api.get(`${ke.HASH_ENDPOINT}${n}`);if(i.status===200)return i.data;throw i.status===404?new Qe.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${i}`)}async getByHeight(n){const i=await this.api.get(`${ke.HEIGHT_ENDPOINT}${n}`);if(i.status===200)return i.data;throw i.status===404?new Qe.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${i}`)}async getCurrent(){const{current:n}=await this.network.getInfo();return await this.get(n)}};let Te=ke;B(Te,"HASH_ENDPOINT","block/hash/"),B(Te,"HEIGHT_ENDPOINT","block/height/");Fe.default=Te;var et;function be(){if(et)return Ee;et=1,Object.defineProperty(Ee,"__esModule",{value:!0});const o=De,n=Me,i=$e,w=Le,A=$t(),k=qe,d=He(),p=j,m=_e,y=Ke,N=Fe,x=class{constructor(P){B(this,"api");B(this,"wallets");B(this,"transactions");B(this,"network");B(this,"blocks");B(this,"ar");B(this,"silo");B(this,"chunks");this.api=new n.default(P),this.wallets=new k.default(this.api,x.crypto),this.chunks=new y.default(this.api),this.transactions=new A.default(this.api,x.crypto,this.chunks),this.silo=new m.default(this.api,this.crypto,this.transactions),this.network=new w.default(this.api),this.blocks=new N.default(this.api,this.network),this.ar=new o.default}get crypto(){return x.crypto}get utils(){return x.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(P,M){const q={};if(Object.assign(q,P),!P.data&&!(P.target&&P.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(P.owner==null&&M&&M!=="use_wallet"&&(q.owner=M.n),P.last_tx==null&&(q.last_tx=await this.transactions.getTransactionAnchor()),typeof P.data=="string"&&(P.data=p.stringToBuffer(P.data)),P.data instanceof ArrayBuffer&&(P.data=new Uint8Array(P.data)),P.data&&!(P.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(P.reward==null){const K=P.data?P.data.byteLength:0;q.reward=await this.transactions.getPrice(K,q.target)}q.data_root="",q.data_size=P.data?P.data.byteLength.toString():"0",q.data=P.data||new Uint8Array(0);const z=new d.default(q);return await z.getSignatureData(),z}async createSiloTransaction(P,M,q){const z={};if(Object.assign(z,P),!P.data)throw new Error("Silo transactions must have a 'data' value");if(!q)throw new Error("No Silo URI specified.");if(P.target||P.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(P.owner==null){if(!M||!M.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");z.owner=M.n}P.last_tx==null&&(z.last_tx=await this.transactions.getTransactionAnchor());const K=await this.silo.parseUri(q);if(typeof P.data=="string"){const re=await this.crypto.encrypt(p.stringToBuffer(P.data),K.getEncryptionKey());z.reward=await this.transactions.getPrice(re.byteLength),z.data=p.bufferTob64Url(re)}if(P.data instanceof Uint8Array){const re=await this.crypto.encrypt(P.data,K.getEncryptionKey());z.reward=await this.transactions.getPrice(re.byteLength),z.data=p.bufferTob64Url(re)}const te=new d.default(z);return te.addTag("Silo-Name",K.getAccessKey()),te.addTag("Silo-Version","0.1.0"),te}arql(P){return this.api.post("/arql",P).then(M=>M.data||[])}};let R=x;return B(R,"init"),B(R,"crypto",new i.default),B(R,"utils",p),Ee.default=R,Ee}var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getDefaultConfig=void 0;const Ft=(o,n)=>{const i=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,w=n.split("."),A=w[w.length-1],k=["localhost","[::1]"];return k.includes(n)||o=="file"||k.includes(A)||!!n.match(i)||!!A.match(i)},jt=o=>{const n=o.charAt(0)==="[",i=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;return!!o.match(i)||n},Gt=(o,n)=>{if(Ft(o,n))return{protocol:"https",host:"arweave.net",port:443};if(!jt(n)){let i=n.split(".");if(i.length>=3){i.shift();const w=i.join(".");return{protocol:o,host:w}}}return{protocol:o,host:n}};Ne.getDefaultConfig=Gt;(function(o){var n=me&&me.__createBinding||(Object.create?function(k,d,p,m){m===void 0&&(m=p);var y=Object.getOwnPropertyDescriptor(d,p);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(k,m,y)}:function(k,d,p,m){m===void 0&&(m=p),k[m]=d[p]}),i=me&&me.__exportStar||function(k,d){for(var p in k)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,k,p)};Object.defineProperty(o,"__esModule",{value:!0});const w=be(),A=Ne;w.default.init=function(k={}){const d={host:"arweave.net",port:443,protocol:"https"};if(typeof location!="object"||!location.protocol||!location.hostname)return new w.default({...k,...d});const p=location.protocol.replace(":",""),m=location.hostname,y=location.port?parseInt(location.port):p=="https"?443:80,N=(0,A.getDefaultConfig)(p,m),R=k.protocol||N.protocol,x=k.host||N.host,I=k.port||N.port||y;return new w.default({...k,host:x,protocol:R,port:I})},typeof globalThis=="object"?globalThis.Arweave=w.default:typeof self=="object"&&(self.Arweave=w.default),i(be(),o),o.default=w.default})(at);const Wt=Tt(at),pt=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],tt=Wt.init({host:"arweave.net",port:443,protocol:"https"});async function Xt(o,n){const i=_t();let w=n;const A=new vt(["function getPoints(address user_) external view returns (uint256)"]),d=await new Ie(i.activityPointsAddress,A,w).getPoints(o);let p=Number(Et(d));return p<1?p=p.toFixed(2):p=Math.round(p),p}async function Zt(o){const n=await tt.wallets.getBalance(o);return tt.ar.winstonToAr(n)}async function Vt(o,n,i,w){let A=w;const d=await new Ie(o.address,pt,A).allowance(n,i);return rt(d,o.decimals)}async function Yt(o,n,i){let w=i,A;return o.address===At?i?A=await i.getBalance():A=await w.getBalance(n):A=await new Ie(o.address,pt,w).balanceOf(n),rt(A,o.decimals)}export{pt as E,Yt as a,Vt as b,Zt as c,Xt as g};
